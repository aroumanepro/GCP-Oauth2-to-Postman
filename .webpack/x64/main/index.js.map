{"version":3,"file":"index.js","mappings":"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","sources":["webpack://auth-gcloud-postman/./node_modules/accepts/index.js","webpack://auth-gcloud-postman/./node_modules/array-flatten/array-flatten.js","webpack://auth-gcloud-postman/./node_modules/base64-js/index.js","webpack://auth-gcloud-postman/./node_modules/bignumber.js/bignumber.js","webpack://auth-gcloud-postman/./node_modules/body-parser/index.js","webpack://auth-gcloud-postman/./node_modules/body-parser/lib/read.js","webpack://auth-gcloud-postman/./node_modules/body-parser/lib/types/json.js","webpack://auth-gcloud-postman/./node_modules/body-parser/lib/types/raw.js","webpack://auth-gcloud-postman/./node_modules/body-parser/lib/types/text.js","webpack://auth-gcloud-postman/./node_modules/body-parser/lib/types/urlencoded.js","webpack://auth-gcloud-postman/./node_modules/body-parser/node_modules/debug/src/browser.js","webpack://auth-gcloud-postman/./node_modules/body-parser/node_modules/debug/src/debug.js","webpack://auth-gcloud-postman/./node_modules/body-parser/node_modules/debug/src/index.js","webpack://auth-gcloud-postman/./node_modules/body-parser/node_modules/debug/src/node.js","webpack://auth-gcloud-postman/./node_modules/body-parser/node_modules/ms/index.js","webpack://auth-gcloud-postman/./node_modules/buffer-equal-constant-time/index.js","webpack://auth-gcloud-postman/./node_modules/bytes/index.js","webpack://auth-gcloud-postman/./node_modules/call-bind/callBound.js","webpack://auth-gcloud-postman/./node_modules/call-bind/index.js","webpack://auth-gcloud-postman/./node_modules/content-disposition/index.js","webpack://auth-gcloud-postman/./node_modules/content-type/index.js","webpack://auth-gcloud-postman/./node_modules/cookie-signature/index.js","webpack://auth-gcloud-postman/./node_modules/cookie/index.js","webpack://auth-gcloud-postman/./node_modules/debug/src/browser.js","webpack://auth-gcloud-postman/./node_modules/debug/src/common.js","webpack://auth-gcloud-postman/./node_modules/debug/src/index.js","webpack://auth-gcloud-postman/./node_modules/debug/src/node.js","webpack://auth-gcloud-postman/./node_modules/define-data-property/index.js","webpack://auth-gcloud-postman/./node_modules/depd/index.js","webpack://auth-gcloud-postman/./node_modules/destroy/index.js","webpack://auth-gcloud-postman/./node_modules/ecdsa-sig-formatter/src/ecdsa-sig-formatter.js","webpack://auth-gcloud-postman/./node_modules/ecdsa-sig-formatter/src/param-bytes-for-alg.js","webpack://auth-gcloud-postman/./node_modules/ee-first/index.js","webpack://auth-gcloud-postman/./node_modules/electron-squirrel-startup/index.js","webpack://auth-gcloud-postman/./node_modules/electron-squirrel-startup/node_modules/debug/src/browser.js","webpack://auth-gcloud-postman/./node_modules/electron-squirrel-startup/node_modules/debug/src/debug.js","webpack://auth-gcloud-postman/./node_modules/electron-squirrel-startup/node_modules/debug/src/index.js","webpack://auth-gcloud-postman/./node_modules/electron-squirrel-startup/node_modules/debug/src/node.js","webpack://auth-gcloud-postman/./node_modules/electron-squirrel-startup/node_modules/ms/index.js","webpack://auth-gcloud-postman/./node_modules/encodeurl/index.js","webpack://auth-gcloud-postman/./node_modules/es-define-property/index.js","webpack://auth-gcloud-postman/./node_modules/es-errors/eval.js","webpack://auth-gcloud-postman/./node_modules/es-errors/index.js","webpack://auth-gcloud-postman/./node_modules/es-errors/range.js","webpack://auth-gcloud-postman/./node_modules/es-errors/ref.js","webpack://auth-gcloud-postman/./node_modules/es-errors/syntax.js","webpack://auth-gcloud-postman/./node_modules/es-errors/type.js","webpack://auth-gcloud-postman/./node_modules/es-errors/uri.js","webpack://auth-gcloud-postman/./node_modules/escape-html/index.js","webpack://auth-gcloud-postman/./node_modules/etag/index.js","webpack://auth-gcloud-postman/./node_modules/express/index.js","webpack://auth-gcloud-postman/./node_modules/express/lib/application.js","webpack://auth-gcloud-postman/./node_modules/express/lib/express.js","webpack://auth-gcloud-postman/./node_modules/express/lib/middleware/init.js","webpack://auth-gcloud-postman/./node_modules/express/lib/middleware/query.js","webpack://auth-gcloud-postman/./node_modules/express/lib/request.js","webpack://auth-gcloud-postman/./node_modules/express/lib/response.js","webpack://auth-gcloud-postman/./node_modules/express/lib/router/index.js","webpack://auth-gcloud-postman/./node_modules/express/lib/router/layer.js","webpack://auth-gcloud-postman/./node_modules/express/lib/router/route.js","webpack://auth-gcloud-postman/./node_modules/express/lib/utils.js","webpack://auth-gcloud-postman/./node_modules/express/lib/view.js","webpack://auth-gcloud-postman/./node_modules/express/node_modules/debug/src/browser.js","webpack://auth-gcloud-postman/./node_modules/express/node_modules/debug/src/debug.js","webpack://auth-gcloud-postman/./node_modules/express/node_modules/debug/src/index.js","webpack://auth-gcloud-postman/./node_modules/express/node_modules/debug/src/node.js","webpack://auth-gcloud-postman/./node_modules/express/node_modules/ms/index.js","webpack://auth-gcloud-postman/./node_modules/extend/index.js","webpack://auth-gcloud-postman/./node_modules/finalhandler/index.js","webpack://auth-gcloud-postman/./node_modules/finalhandler/node_modules/debug/src/browser.js","webpack://auth-gcloud-postman/./node_modules/finalhandler/node_modules/debug/src/debug.js","webpack://auth-gcloud-postman/./node_modules/finalhandler/node_modules/debug/src/index.js","webpack://auth-gcloud-postman/./node_modules/finalhandler/node_modules/debug/src/node.js","webpack://auth-gcloud-postman/./node_modules/finalhandler/node_modules/ms/index.js","webpack://auth-gcloud-postman/./node_modules/forwarded/index.js","webpack://auth-gcloud-postman/./node_modules/fresh/index.js","webpack://auth-gcloud-postman/./node_modules/function-bind/implementation.js","webpack://auth-gcloud-postman/./node_modules/function-bind/index.js","webpack://auth-gcloud-postman/./node_modules/gaxios/build/src/common.js","webpack://auth-gcloud-postman/./node_modules/gaxios/build/src/gaxios.js","webpack://auth-gcloud-postman/./node_modules/gaxios/build/src/index.js","webpack://auth-gcloud-postman/./node_modules/gaxios/build/src/interceptor.js","webpack://auth-gcloud-postman/./node_modules/gaxios/build/src/retry.js","webpack://auth-gcloud-postman/./node_modules/gaxios/build/src/util.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/agent-base/dist/helpers.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/agent-base/dist/index.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/https-proxy-agent/dist/index.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/https-proxy-agent/dist/parse-proxy-response.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/rng.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/regex.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/validate.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/stringify.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/v1.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/parse.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/v35.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/md5.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/v3.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/native.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/v4.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/v5.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/sha1.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/nil.js","webpack://auth-gcloud-postman/./node_modules/gaxios/node_modules/uuid/dist/esm-node/version.js","webpack://auth-gcloud-postman/./node_modules/gcp-metadata/build/src/gcp-residency.js","webpack://auth-gcloud-postman/./node_modules/gcp-metadata/build/src/index.js","webpack://auth-gcloud-postman/./node_modules/get-intrinsic/index.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/authclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/awsclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/awsrequestsigner.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/baseexternalclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/computeclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/defaultawssecuritycredentialssupplier.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/downscopedclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/envDetect.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/executable-response.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/externalAccountAuthorizedUserClient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/externalclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/filesubjecttokensupplier.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/googleauth.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/iam.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/identitypoolclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/idtokenclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/impersonated.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/jwtaccess.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/jwtclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/loginticket.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/oauth2client.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/oauth2common.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/passthrough.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/pluggable-auth-client.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/pluggable-auth-handler.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/refreshclient.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/stscredentials.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/auth/urlsubjecttokensupplier.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/crypto/browser/crypto.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/crypto/crypto.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/crypto/node/crypto.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/index.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/options.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/transporters.js","webpack://auth-gcloud-postman/./node_modules/google-auth-library/build/src/util.js","webpack://auth-gcloud-postman/./node_modules/gopd/index.js","webpack://auth-gcloud-postman/./node_modules/gtoken/build/src/index.js","webpack://auth-gcloud-postman/./node_modules/has-flag/index.js","webpack://auth-gcloud-postman/./node_modules/has-property-descriptors/index.js","webpack://auth-gcloud-postman/./node_modules/has-proto/index.js","webpack://auth-gcloud-postman/./node_modules/has-symbols/index.js","webpack://auth-gcloud-postman/./node_modules/has-symbols/shams.js","webpack://auth-gcloud-postman/./node_modules/hasown/index.js","webpack://auth-gcloud-postman/./node_modules/http-errors/index.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/encodings/dbcs-codec.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/encodings/dbcs-data.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/encodings/index.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/encodings/internal.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/encodings/sbcs-codec.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/encodings/sbcs-data-generated.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/encodings/sbcs-data.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/encodings/utf16.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/encodings/utf7.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/lib/bom-handling.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/lib/extend-node.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/lib/index.js","webpack://auth-gcloud-postman/./node_modules/iconv-lite/lib/streams.js","webpack://auth-gcloud-postman/./node_modules/inherits/inherits.js","webpack://auth-gcloud-postman/./node_modules/inherits/inherits_browser.js","webpack://auth-gcloud-postman/./node_modules/ipaddr.js/lib/ipaddr.js","webpack://auth-gcloud-postman/./node_modules/is-stream/index.js","webpack://auth-gcloud-postman/./node_modules/json-bigint/index.js","webpack://auth-gcloud-postman/./node_modules/json-bigint/lib/parse.js","webpack://auth-gcloud-postman/./node_modules/json-bigint/lib/stringify.js","webpack://auth-gcloud-postman/./node_modules/jwa/index.js","webpack://auth-gcloud-postman/./node_modules/jws/index.js","webpack://auth-gcloud-postman/./node_modules/jws/lib/data-stream.js","webpack://auth-gcloud-postman/./node_modules/jws/lib/sign-stream.js","webpack://auth-gcloud-postman/./node_modules/jws/lib/tostring.js","webpack://auth-gcloud-postman/./node_modules/jws/lib/verify-stream.js","webpack://auth-gcloud-postman/./node_modules/media-typer/index.js","webpack://auth-gcloud-postman/./node_modules/merge-descriptors/index.js","webpack://auth-gcloud-postman/./node_modules/methods/index.js","webpack://auth-gcloud-postman/./node_modules/mime-db/index.js","webpack://auth-gcloud-postman/./node_modules/mime-types/index.js","webpack://auth-gcloud-postman/./node_modules/mime/mime.js","webpack://auth-gcloud-postman/./node_modules/ms/index.js","webpack://auth-gcloud-postman/./node_modules/negotiator/index.js","webpack://auth-gcloud-postman/./node_modules/negotiator/lib/charset.js","webpack://auth-gcloud-postman/./node_modules/negotiator/lib/encoding.js","webpack://auth-gcloud-postman/./node_modules/negotiator/lib/language.js","webpack://auth-gcloud-postman/./node_modules/negotiator/lib/mediaType.js","webpack://auth-gcloud-postman/./node_modules/object-inspect/index.js","webpack://auth-gcloud-postman/./node_modules/object-inspect/util.inspect.js","webpack://auth-gcloud-postman/./node_modules/on-finished/index.js","webpack://auth-gcloud-postman/./node_modules/parseurl/index.js","webpack://auth-gcloud-postman/./node_modules/path-to-regexp/index.js","webpack://auth-gcloud-postman/./node_modules/proxy-addr/index.js","webpack://auth-gcloud-postman/./node_modules/qs/lib/formats.js","webpack://auth-gcloud-postman/./node_modules/qs/lib/index.js","webpack://auth-gcloud-postman/./node_modules/qs/lib/parse.js","webpack://auth-gcloud-postman/./node_modules/qs/lib/stringify.js","webpack://auth-gcloud-postman/./node_modules/qs/lib/utils.js","webpack://auth-gcloud-postman/./node_modules/range-parser/index.js","webpack://auth-gcloud-postman/./node_modules/raw-body/index.js","webpack://auth-gcloud-postman/./node_modules/safe-buffer/index.js","webpack://auth-gcloud-postman/./node_modules/safer-buffer/safer.js","webpack://auth-gcloud-postman/./node_modules/send/index.js","webpack://auth-gcloud-postman/./node_modules/send/node_modules/debug/node_modules/ms/index.js","webpack://auth-gcloud-postman/./node_modules/send/node_modules/debug/src/browser.js","webpack://auth-gcloud-postman/./node_modules/send/node_modules/debug/src/debug.js","webpack://auth-gcloud-postman/./node_modules/send/node_modules/debug/src/index.js","webpack://auth-gcloud-postman/./node_modules/send/node_modules/debug/src/node.js","webpack://auth-gcloud-postman/./node_modules/send/node_modules/ms/index.js","webpack://auth-gcloud-postman/./node_modules/serve-static/index.js","webpack://auth-gcloud-postman/./node_modules/set-function-length/index.js","webpack://auth-gcloud-postman/./node_modules/setprototypeof/index.js","webpack://auth-gcloud-postman/./node_modules/side-channel/index.js","webpack://auth-gcloud-postman/./node_modules/statuses/index.js","webpack://auth-gcloud-postman/./node_modules/supports-color/index.js","webpack://auth-gcloud-postman/./node_modules/toidentifier/index.js","webpack://auth-gcloud-postman/./node_modules/tr46/index.js","webpack://auth-gcloud-postman/./node_modules/type-is/index.js","webpack://auth-gcloud-postman/./node_modules/unpipe/index.js","webpack://auth-gcloud-postman/./node_modules/utils-merge/index.js","webpack://auth-gcloud-postman/./node_modules/vary/index.js","webpack://auth-gcloud-postman/./node_modules/webidl-conversions/lib/index.js","webpack://auth-gcloud-postman/./node_modules/whatwg-url/lib/URL-impl.js","webpack://auth-gcloud-postman/./node_modules/whatwg-url/lib/URL.js","webpack://auth-gcloud-postman/./node_modules/whatwg-url/lib/public-api.js","webpack://auth-gcloud-postman/./node_modules/whatwg-url/lib/url-state-machine.js","webpack://auth-gcloud-postman/./node_modules/whatwg-url/lib/utils.js","webpack://auth-gcloud-postman/./src/index.ts","webpack://auth-gcloud-postman/./src/server/processors/auth.processors.ts","webpack://auth-gcloud-postman/external node-commonjs \"assert\"","webpack://auth-gcloud-postman/external node-commonjs \"async_hooks\"","webpack://auth-gcloud-postman/external node-commonjs \"buffer\"","webpack://auth-gcloud-postman/external node-commonjs \"child_process\"","webpack://auth-gcloud-postman/external node-commonjs \"crypto\"","webpack://auth-gcloud-postman/external node-commonjs \"electron\"","webpack://auth-gcloud-postman/external node-commonjs \"events\"","webpack://auth-gcloud-postman/external node-commonjs \"fs\"","webpack://auth-gcloud-postman/external node-commonjs \"http\"","webpack://auth-gcloud-postman/external node-commonjs \"https\"","webpack://auth-gcloud-postman/external node-commonjs \"net\"","webpack://auth-gcloud-postman/external node-commonjs \"os\"","webpack://auth-gcloud-postman/external node-commonjs \"path\"","webpack://auth-gcloud-postman/external node-commonjs \"punycode\"","webpack://auth-gcloud-postman/external node-commonjs \"querystring\"","webpack://auth-gcloud-postman/external node-commonjs \"stream\"","webpack://auth-gcloud-postman/external node-commonjs \"string_decoder\"","webpack://auth-gcloud-postman/external node-commonjs \"tls\"","webpack://auth-gcloud-postman/external node-commonjs \"tty\"","webpack://auth-gcloud-postman/external node-commonjs \"url\"","webpack://auth-gcloud-postman/external node-commonjs \"util\"","webpack://auth-gcloud-postman/external node-commonjs \"zlib\"","webpack://auth-gcloud-postman/./node_modules/node-fetch/lib/index.mjs","webpack://auth-gcloud-postman/webpack/bootstrap","webpack://auth-gcloud-postman/webpack/runtime/compat get default export","webpack://auth-gcloud-postman/webpack/runtime/define property getters","webpack://auth-gcloud-postman/webpack/runtime/hasOwnProperty shorthand","webpack://auth-gcloud-postman/webpack/runtime/make namespace object","webpack://auth-gcloud-postman/webpack/runtime/node module decorator","webpack://auth-gcloud-postman/webpack/runtime/compat","webpack://auth-gcloud-postman/webpack/startup"],"sourcesContent":["/*!\n * accepts\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Negotiator = require('negotiator')\nvar mime = require('mime-types')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Accepts\n\n/**\n * Create a new Accepts object for the given req.\n *\n * @param {object} req\n * @public\n */\n\nfunction Accepts (req) {\n  if (!(this instanceof Accepts)) {\n    return new Accepts(req)\n  }\n\n  this.headers = req.headers\n  this.negotiator = new Negotiator(req)\n}\n\n/**\n * Check if the given `type(s)` is acceptable, returning\n * the best match when true, otherwise `undefined`, in which\n * case you should respond with 406 \"Not Acceptable\".\n *\n * The `type` value may be a single mime type string\n * such as \"application/json\", the extension name\n * such as \"json\" or an array `[\"json\", \"html\", \"text/plain\"]`. When a list\n * or array is given the _best_ match, if any is returned.\n *\n * Examples:\n *\n *     // Accept: text/html\n *     this.types('html');\n *     // => \"html\"\n *\n *     // Accept: text/*, application/json\n *     this.types('html');\n *     // => \"html\"\n *     this.types('text/html');\n *     // => \"text/html\"\n *     this.types('json', 'text');\n *     // => \"json\"\n *     this.types('application/json');\n *     // => \"application/json\"\n *\n *     // Accept: text/*, application/json\n *     this.types('image/png');\n *     this.types('png');\n *     // => undefined\n *\n *     // Accept: text/*;q=.5, application/json\n *     this.types(['html', 'json']);\n *     this.types('html', 'json');\n *     // => \"json\"\n *\n * @param {String|Array} types...\n * @return {String|Array|Boolean}\n * @public\n */\n\nAccepts.prototype.type =\nAccepts.prototype.types = function (types_) {\n  var types = types_\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length)\n    for (var i = 0; i < types.length; i++) {\n      types[i] = arguments[i]\n    }\n  }\n\n  // no types, return all requested types\n  if (!types || types.length === 0) {\n    return this.negotiator.mediaTypes()\n  }\n\n  // no accept header, return first given type\n  if (!this.headers.accept) {\n    return types[0]\n  }\n\n  var mimes = types.map(extToMime)\n  var accepts = this.negotiator.mediaTypes(mimes.filter(validMime))\n  var first = accepts[0]\n\n  return first\n    ? types[mimes.indexOf(first)]\n    : false\n}\n\n/**\n * Return accepted encodings or best fit based on `encodings`.\n *\n * Given `Accept-Encoding: gzip, deflate`\n * an array sorted by quality is returned:\n *\n *     ['gzip', 'deflate']\n *\n * @param {String|Array} encodings...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.encoding =\nAccepts.prototype.encodings = function (encodings_) {\n  var encodings = encodings_\n\n  // support flattened arguments\n  if (encodings && !Array.isArray(encodings)) {\n    encodings = new Array(arguments.length)\n    for (var i = 0; i < encodings.length; i++) {\n      encodings[i] = arguments[i]\n    }\n  }\n\n  // no encodings, return all requested encodings\n  if (!encodings || encodings.length === 0) {\n    return this.negotiator.encodings()\n  }\n\n  return this.negotiator.encodings(encodings)[0] || false\n}\n\n/**\n * Return accepted charsets or best fit based on `charsets`.\n *\n * Given `Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5`\n * an array sorted by quality is returned:\n *\n *     ['utf-8', 'utf-7', 'iso-8859-1']\n *\n * @param {String|Array} charsets...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.charset =\nAccepts.prototype.charsets = function (charsets_) {\n  var charsets = charsets_\n\n  // support flattened arguments\n  if (charsets && !Array.isArray(charsets)) {\n    charsets = new Array(arguments.length)\n    for (var i = 0; i < charsets.length; i++) {\n      charsets[i] = arguments[i]\n    }\n  }\n\n  // no charsets, return all requested charsets\n  if (!charsets || charsets.length === 0) {\n    return this.negotiator.charsets()\n  }\n\n  return this.negotiator.charsets(charsets)[0] || false\n}\n\n/**\n * Return accepted languages or best fit based on `langs`.\n *\n * Given `Accept-Language: en;q=0.8, es, pt`\n * an array sorted by quality is returned:\n *\n *     ['es', 'pt', 'en']\n *\n * @param {String|Array} langs...\n * @return {Array|String}\n * @public\n */\n\nAccepts.prototype.lang =\nAccepts.prototype.langs =\nAccepts.prototype.language =\nAccepts.prototype.languages = function (languages_) {\n  var languages = languages_\n\n  // support flattened arguments\n  if (languages && !Array.isArray(languages)) {\n    languages = new Array(arguments.length)\n    for (var i = 0; i < languages.length; i++) {\n      languages[i] = arguments[i]\n    }\n  }\n\n  // no languages, return all requested languages\n  if (!languages || languages.length === 0) {\n    return this.negotiator.languages()\n  }\n\n  return this.negotiator.languages(languages)[0] || false\n}\n\n/**\n * Convert extnames to mime.\n *\n * @param {String} type\n * @return {String}\n * @private\n */\n\nfunction extToMime (type) {\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if mime is valid.\n *\n * @param {String} type\n * @return {String}\n * @private\n */\n\nfunction validMime (type) {\n  return typeof type === 'string'\n}\n","'use strict'\n\n/**\n * Expose `arrayFlatten`.\n */\nmodule.exports = arrayFlatten\n\n/**\n * Recursive flatten function with depth.\n *\n * @param  {Array}  array\n * @param  {Array}  result\n * @param  {Number} depth\n * @return {Array}\n */\nfunction flattenWithDepth (array, result, depth) {\n  for (var i = 0; i < array.length; i++) {\n    var value = array[i]\n\n    if (depth > 0 && Array.isArray(value)) {\n      flattenWithDepth(value, result, depth - 1)\n    } else {\n      result.push(value)\n    }\n  }\n\n  return result\n}\n\n/**\n * Recursive flatten function. Omitting depth is slightly faster.\n *\n * @param  {Array} array\n * @param  {Array} result\n * @return {Array}\n */\nfunction flattenForever (array, result) {\n  for (var i = 0; i < array.length; i++) {\n    var value = array[i]\n\n    if (Array.isArray(value)) {\n      flattenForever(value, result)\n    } else {\n      result.push(value)\n    }\n  }\n\n  return result\n}\n\n/**\n * Flatten an array, with the ability to define a depth.\n *\n * @param  {Array}  array\n * @param  {Number} depth\n * @return {Array}\n */\nfunction arrayFlatten (array, depth) {\n  if (depth == null) {\n    return flattenForever(array, [])\n  }\n\n  return flattenWithDepth(array, [], depth)\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n",";(function (globalObject) {\r\n  'use strict';\r\n\r\n/*\r\n *      bignumber.js v9.1.2\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\n  var BigNumber,\r\n    isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n    mathceil = Math.ceil,\r\n    mathfloor = Math.floor,\r\n\r\n    bignumberError = '[BigNumber Error] ',\r\n    tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n    BASE = 1e14,\r\n    LOG_BASE = 14,\r\n    MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n    // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n    POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n    SQRT_BASE = 1e7,\r\n\r\n    // EDITABLE\r\n    // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n    // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n    MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n  /*\r\n   * Create and return a BigNumber constructor.\r\n   */\r\n  function clone(configObject) {\r\n    var div, convertBase, parseNumeric,\r\n      P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n      ONE = new BigNumber(1),\r\n\r\n\r\n      //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n      // The default values below must be integers within the inclusive ranges stated.\r\n      // The values can also be changed at run-time using BigNumber.set.\r\n\r\n      // The maximum number of decimal places for operations involving division.\r\n      DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n      // The rounding mode used when rounding to the above decimal places, and when using\r\n      // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n      // UP         0 Away from zero.\r\n      // DOWN       1 Towards zero.\r\n      // CEIL       2 Towards +Infinity.\r\n      // FLOOR      3 Towards -Infinity.\r\n      // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n      // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n      // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n      // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n      // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n      ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n      // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n      // The exponent value at and beneath which toString returns exponential notation.\r\n      // Number type: -7\r\n      TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n      // The exponent value at and above which toString returns exponential notation.\r\n      // Number type: 21\r\n      TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n      // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n      // The minimum exponent value, beneath which underflow to zero occurs.\r\n      // Number type: -324  (5e-324)\r\n      MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n      // The maximum exponent value, above which overflow to Infinity occurs.\r\n      // Number type:  308  (1.7976931348623157e+308)\r\n      // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n      MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n      // Whether to use cryptographically-secure random number generation, if available.\r\n      CRYPTO = false,                          // true or false\r\n\r\n      // The modulo mode used when calculating the modulus: a mod n.\r\n      // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n      // The remainder (r) is calculated as: r = a - n * q.\r\n      //\r\n      // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n      // DOWN      1 The remainder has the same sign as the dividend.\r\n      //             This modulo mode is commonly known as 'truncated division' and is\r\n      //             equivalent to (a % n) in JavaScript.\r\n      // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n      // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n      // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n      //             The remainder is always positive.\r\n      //\r\n      // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n      // modes are commonly used for the modulus operation.\r\n      // Although the other rounding modes can also be used, they may not give useful results.\r\n      MODULO_MODE = 1,                         // 0 to 9\r\n\r\n      // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n      // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n      POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n      // The format specification used by the BigNumber.prototype.toFormat method.\r\n      FORMAT = {\r\n        prefix: '',\r\n        groupSize: 3,\r\n        secondaryGroupSize: 0,\r\n        groupSeparator: ',',\r\n        decimalSeparator: '.',\r\n        fractionGroupSize: 0,\r\n        fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n        suffix: ''\r\n      },\r\n\r\n      // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n      // '-', '.', whitespace, or repeated character.\r\n      // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n      ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n      alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n    //------------------------------------------------------------------------------------------\r\n\r\n\r\n    // CONSTRUCTOR\r\n\r\n\r\n    /*\r\n     * The BigNumber constructor and exported function.\r\n     * Create and return a new instance of a BigNumber object.\r\n     *\r\n     * v {number|string|BigNumber} A numeric value.\r\n     * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n     */\r\n    function BigNumber(v, b) {\r\n      var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n        x = this;\r\n\r\n      // Enable constructor call without `new`.\r\n      if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n      if (b == null) {\r\n\r\n        if (v && v._isBigNumber === true) {\r\n          x.s = v.s;\r\n\r\n          if (!v.c || v.e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else if (v.e < MIN_EXP) {\r\n            x.c = [x.e = 0];\r\n          } else {\r\n            x.e = v.e;\r\n            x.c = v.c.slice();\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n          // Use `1 / n` to handle minus zero also.\r\n          x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n          // Fast path for integers, where n < 2147483648 (2**31).\r\n          if (v === ~~v) {\r\n            for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n            if (e > MAX_EXP) {\r\n              x.c = x.e = null;\r\n            } else {\r\n              x.e = e;\r\n              x.c = [v];\r\n            }\r\n\r\n            return;\r\n          }\r\n\r\n          str = String(v);\r\n        } else {\r\n\r\n          if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n          x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n        // Exponential form?\r\n        if ((i = str.search(/e/i)) > 0) {\r\n\r\n          // Determine exponent.\r\n          if (e < 0) e = i;\r\n          e += +str.slice(i + 1);\r\n          str = str.substring(0, i);\r\n        } else if (e < 0) {\r\n\r\n          // Integer.\r\n          e = str.length;\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n        // Allow exponential notation to be used with base 10 argument, while\r\n        // also rounding to DECIMAL_PLACES as with other bases.\r\n        if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n          x = new BigNumber(v);\r\n          return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n        }\r\n\r\n        str = String(v);\r\n\r\n        if (isNum = typeof v == 'number') {\r\n\r\n          // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n          if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n          x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n          // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n          if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n            throw Error\r\n             (tooManyDigits + v);\r\n          }\r\n        } else {\r\n          x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n        }\r\n\r\n        alphabet = ALPHABET.slice(0, b);\r\n        e = i = 0;\r\n\r\n        // Check that str is a valid base b number.\r\n        // Don't use RegExp, so alphabet can contain special characters.\r\n        for (len = str.length; i < len; i++) {\r\n          if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n            if (c == '.') {\r\n\r\n              // If '.' is not the first character and it has not be found before.\r\n              if (i > e) {\r\n                e = len;\r\n                continue;\r\n              }\r\n            } else if (!caseChanged) {\r\n\r\n              // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n              if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                  str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n                caseChanged = true;\r\n                i = -1;\r\n                e = 0;\r\n                continue;\r\n              }\r\n            }\r\n\r\n            return parseNumeric(x, String(v), isNum, b);\r\n          }\r\n        }\r\n\r\n        // Prevent later check for length on converted number.\r\n        isNum = false;\r\n        str = convertBase(str, b, 10, x.s);\r\n\r\n        // Decimal point?\r\n        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n        else e = str.length;\r\n      }\r\n\r\n      // Determine leading zeros.\r\n      for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n      // Determine trailing zeros.\r\n      for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n      if (str = str.slice(i, ++len)) {\r\n        len -= i;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (isNum && BigNumber.DEBUG &&\r\n          len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n            throw Error\r\n             (tooManyDigits + (x.s * v));\r\n        }\r\n\r\n         // Overflow?\r\n        if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n          // Infinity.\r\n          x.c = x.e = null;\r\n\r\n        // Underflow?\r\n        } else if (e < MIN_EXP) {\r\n\r\n          // Zero.\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = e;\r\n          x.c = [];\r\n\r\n          // Transform base\r\n\r\n          // e is the base 10 exponent.\r\n          // i is where to slice str to get the first element of the coefficient array.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n          if (i < len) {\r\n            if (i) x.c.push(+str.slice(0, i));\r\n\r\n            for (len -= LOG_BASE; i < len;) {\r\n              x.c.push(+str.slice(i, i += LOG_BASE));\r\n            }\r\n\r\n            i = LOG_BASE - (str = str.slice(i)).length;\r\n          } else {\r\n            i -= len;\r\n          }\r\n\r\n          for (; i--; str += '0');\r\n          x.c.push(+str);\r\n        }\r\n      } else {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n\r\n    // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n    BigNumber.clone = clone;\r\n\r\n    BigNumber.ROUND_UP = 0;\r\n    BigNumber.ROUND_DOWN = 1;\r\n    BigNumber.ROUND_CEIL = 2;\r\n    BigNumber.ROUND_FLOOR = 3;\r\n    BigNumber.ROUND_HALF_UP = 4;\r\n    BigNumber.ROUND_HALF_DOWN = 5;\r\n    BigNumber.ROUND_HALF_EVEN = 6;\r\n    BigNumber.ROUND_HALF_CEIL = 7;\r\n    BigNumber.ROUND_HALF_FLOOR = 8;\r\n    BigNumber.EUCLID = 9;\r\n\r\n\r\n    /*\r\n     * Configure infrequently-changing library-wide settings.\r\n     *\r\n     * Accept an object with the following optional properties (if the value of a property is\r\n     * a number, it must be an integer within the inclusive range stated):\r\n     *\r\n     *   DECIMAL_PLACES   {number}           0 to MAX\r\n     *   ROUNDING_MODE    {number}           0 to 8\r\n     *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n     *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n     *   CRYPTO           {boolean}          true or false\r\n     *   MODULO_MODE      {number}           0 to 9\r\n     *   POW_PRECISION       {number}           0 to MAX\r\n     *   ALPHABET         {string}           A string of two or more unique characters which does\r\n     *                                       not contain '.'.\r\n     *   FORMAT           {object}           An object with some of the following properties:\r\n     *     prefix                 {string}\r\n     *     groupSize              {number}\r\n     *     secondaryGroupSize     {number}\r\n     *     groupSeparator         {string}\r\n     *     decimalSeparator       {string}\r\n     *     fractionGroupSize      {number}\r\n     *     fractionGroupSeparator {string}\r\n     *     suffix                 {string}\r\n     *\r\n     * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n     *\r\n     * E.g.\r\n     * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n     *\r\n     * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n     *\r\n     * Return an object with the properties current values.\r\n     */\r\n    BigNumber.config = BigNumber.set = function (obj) {\r\n      var p, v;\r\n\r\n      if (obj != null) {\r\n\r\n        if (typeof obj == 'object') {\r\n\r\n          // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            DECIMAL_PLACES = v;\r\n          }\r\n\r\n          // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n          // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 8, p);\r\n            ROUNDING_MODE = v;\r\n          }\r\n\r\n          // EXPONENTIAL_AT {number|number[]}\r\n          // Integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n          // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, 0, p);\r\n              intCheck(v[1], 0, MAX, p);\r\n              TO_EXP_NEG = v[0];\r\n              TO_EXP_POS = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n            }\r\n          }\r\n\r\n          // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n          // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n          // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n          if (obj.hasOwnProperty(p = 'RANGE')) {\r\n            v = obj[p];\r\n            if (v && v.pop) {\r\n              intCheck(v[0], -MAX, -1, p);\r\n              intCheck(v[1], 1, MAX, p);\r\n              MIN_EXP = v[0];\r\n              MAX_EXP = v[1];\r\n            } else {\r\n              intCheck(v, -MAX, MAX, p);\r\n              if (v) {\r\n                MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n              } else {\r\n                throw Error\r\n                 (bignumberError + p + ' cannot be zero: ' + v);\r\n              }\r\n            }\r\n          }\r\n\r\n          // CRYPTO {boolean} true or false.\r\n          // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n          // '[BigNumber Error] crypto unavailable'\r\n          if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n            v = obj[p];\r\n            if (v === !!v) {\r\n              if (v) {\r\n                if (typeof crypto != 'undefined' && crypto &&\r\n                 (crypto.getRandomValues || crypto.randomBytes)) {\r\n                  CRYPTO = v;\r\n                } else {\r\n                  CRYPTO = !v;\r\n                  throw Error\r\n                   (bignumberError + 'crypto unavailable');\r\n                }\r\n              } else {\r\n                CRYPTO = v;\r\n              }\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' not true or false: ' + v);\r\n            }\r\n          }\r\n\r\n          // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n          // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, 9, p);\r\n            MODULO_MODE = v;\r\n          }\r\n\r\n          // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n          // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n          if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n            v = obj[p];\r\n            intCheck(v, 0, MAX, p);\r\n            POW_PRECISION = v;\r\n          }\r\n\r\n          // FORMAT {object}\r\n          // '[BigNumber Error] FORMAT not an object: {v}'\r\n          if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n            v = obj[p];\r\n            if (typeof v == 'object') FORMAT = v;\r\n            else throw Error\r\n             (bignumberError + p + ' not an object: ' + v);\r\n          }\r\n\r\n          // ALPHABET {string}\r\n          // '[BigNumber Error] ALPHABET invalid: {v}'\r\n          if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n            v = obj[p];\r\n\r\n            // Disallow if less than two characters,\r\n            // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n            if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n              alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n              ALPHABET = v;\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' invalid: ' + v);\r\n            }\r\n          }\r\n\r\n        } else {\r\n\r\n          // '[BigNumber Error] Object expected: {v}'\r\n          throw Error\r\n           (bignumberError + 'Object expected: ' + obj);\r\n        }\r\n      }\r\n\r\n      return {\r\n        DECIMAL_PLACES: DECIMAL_PLACES,\r\n        ROUNDING_MODE: ROUNDING_MODE,\r\n        EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n        RANGE: [MIN_EXP, MAX_EXP],\r\n        CRYPTO: CRYPTO,\r\n        MODULO_MODE: MODULO_MODE,\r\n        POW_PRECISION: POW_PRECISION,\r\n        FORMAT: FORMAT,\r\n        ALPHABET: ALPHABET\r\n      };\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if v is a BigNumber instance, otherwise return false.\r\n     *\r\n     * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n     *\r\n     * v {any}\r\n     *\r\n     * '[BigNumber Error] Invalid BigNumber: {v}'\r\n     */\r\n    BigNumber.isBigNumber = function (v) {\r\n      if (!v || v._isBigNumber !== true) return false;\r\n      if (!BigNumber.DEBUG) return true;\r\n\r\n      var i, n,\r\n        c = v.c,\r\n        e = v.e,\r\n        s = v.s;\r\n\r\n      out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n        if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n          // If the first element is zero, the BigNumber value must be zero.\r\n          if (c[0] === 0) {\r\n            if (e === 0 && c.length === 1) return true;\r\n            break out;\r\n          }\r\n\r\n          // Calculate number of digits that c[0] should have, based on the exponent.\r\n          i = (e + 1) % LOG_BASE;\r\n          if (i < 1) i += LOG_BASE;\r\n\r\n          // Calculate number of digits of c[0].\r\n          //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n          if (String(c[0]).length == i) {\r\n\r\n            for (i = 0; i < c.length; i++) {\r\n              n = c[i];\r\n              if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n            }\r\n\r\n            // Last element cannot be zero, unless it is the only element.\r\n            if (n !== 0) return true;\r\n          }\r\n        }\r\n\r\n      // Infinity/NaN\r\n      } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n        return true;\r\n      }\r\n\r\n      throw Error\r\n        (bignumberError + 'Invalid BigNumber: ' + v);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the maximum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.maximum = BigNumber.max = function () {\r\n      return maxOrMin(arguments, -1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the minimum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.minimum = BigNumber.min = function () {\r\n      return maxOrMin(arguments, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n     * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n     * zeros are produced).\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n     * '[BigNumber Error] crypto unavailable'\r\n     */\r\n    BigNumber.random = (function () {\r\n      var pow2_53 = 0x20000000000000;\r\n\r\n      // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n      // Check if Math.random() produces more than 32 bits of randomness.\r\n      // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n      // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n      var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n       ? function () { return mathfloor(Math.random() * pow2_53); }\r\n       : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n         (Math.random() * 0x800000 | 0); };\r\n\r\n      return function (dp) {\r\n        var a, b, e, k, v,\r\n          i = 0,\r\n          c = [],\r\n          rand = new BigNumber(ONE);\r\n\r\n        if (dp == null) dp = DECIMAL_PLACES;\r\n        else intCheck(dp, 0, MAX);\r\n\r\n        k = mathceil(dp / LOG_BASE);\r\n\r\n        if (CRYPTO) {\r\n\r\n          // Browsers supporting crypto.getRandomValues.\r\n          if (crypto.getRandomValues) {\r\n\r\n            a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n            for (; i < k;) {\r\n\r\n              // 53 bits:\r\n              // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n              // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n              // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n              //                                     11111 11111111 11111111\r\n              // 0x20000 is 2^21.\r\n              v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n              // Rejection sampling:\r\n              // 0 <= v < 9007199254740992\r\n              // Probability that v >= 9e15, is\r\n              // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n              if (v >= 9e15) {\r\n                b = crypto.getRandomValues(new Uint32Array(2));\r\n                a[i] = b[0];\r\n                a[i + 1] = b[1];\r\n              } else {\r\n\r\n                // 0 <= v <= 8999999999999999\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 2;\r\n              }\r\n            }\r\n            i = k / 2;\r\n\r\n          // Node.js supporting crypto.randomBytes.\r\n          } else if (crypto.randomBytes) {\r\n\r\n            // buffer\r\n            a = crypto.randomBytes(k *= 7);\r\n\r\n            for (; i < k;) {\r\n\r\n              // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n              // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n              // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n              // 0 <= v < 9007199254740992\r\n              v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n                 (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n                 (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n              if (v >= 9e15) {\r\n                crypto.randomBytes(7).copy(a, i);\r\n              } else {\r\n\r\n                // 0 <= (v % 1e14) <= 99999999999999\r\n                c.push(v % 1e14);\r\n                i += 7;\r\n              }\r\n            }\r\n            i = k / 7;\r\n          } else {\r\n            CRYPTO = false;\r\n            throw Error\r\n             (bignumberError + 'crypto unavailable');\r\n          }\r\n        }\r\n\r\n        // Use Math.random.\r\n        if (!CRYPTO) {\r\n\r\n          for (; i < k;) {\r\n            v = random53bitInt();\r\n            if (v < 9e15) c[i++] = v % 1e14;\r\n          }\r\n        }\r\n\r\n        k = c[--i];\r\n        dp %= LOG_BASE;\r\n\r\n        // Convert trailing digits to zeros according to dp.\r\n        if (k && dp) {\r\n          v = POWS_TEN[LOG_BASE - dp];\r\n          c[i] = mathfloor(k / v) * v;\r\n        }\r\n\r\n        // Remove trailing elements which are zero.\r\n        for (; c[i] === 0; c.pop(), i--);\r\n\r\n        // Zero?\r\n        if (i < 0) {\r\n          c = [e = 0];\r\n        } else {\r\n\r\n          // Remove leading elements which are zero and adjust exponent accordingly.\r\n          for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n          // Count the digits of the first element of c to determine leading zeros, and...\r\n          for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n          // adjust the exponent accordingly.\r\n          if (i < LOG_BASE) e -= LOG_BASE - i;\r\n        }\r\n\r\n        rand.e = e;\r\n        rand.c = c;\r\n        return rand;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the sum of the arguments.\r\n     *\r\n     * arguments {number|string|BigNumber}\r\n     */\r\n    BigNumber.sum = function () {\r\n      var i = 1,\r\n        args = arguments,\r\n        sum = new BigNumber(args[0]);\r\n      for (; i < args.length;) sum = sum.plus(args[i++]);\r\n      return sum;\r\n    };\r\n\r\n\r\n    // PRIVATE FUNCTIONS\r\n\r\n\r\n    // Called by BigNumber and BigNumber.prototype.toString.\r\n    convertBase = (function () {\r\n      var decimal = '0123456789';\r\n\r\n      /*\r\n       * Convert string of baseIn to an array of numbers of baseOut.\r\n       * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n       * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n       */\r\n      function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n        var j,\r\n          arr = [0],\r\n          arrL,\r\n          i = 0,\r\n          len = str.length;\r\n\r\n        for (; i < len;) {\r\n          for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n          arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n          for (j = 0; j < arr.length; j++) {\r\n\r\n            if (arr[j] > baseOut - 1) {\r\n              if (arr[j + 1] == null) arr[j + 1] = 0;\r\n              arr[j + 1] += arr[j] / baseOut | 0;\r\n              arr[j] %= baseOut;\r\n            }\r\n          }\r\n        }\r\n\r\n        return arr.reverse();\r\n      }\r\n\r\n      // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n      // If the caller is toString, we are converting from base 10 to baseOut.\r\n      // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n      return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n        var alphabet, d, e, k, r, x, xc, y,\r\n          i = str.indexOf('.'),\r\n          dp = DECIMAL_PLACES,\r\n          rm = ROUNDING_MODE;\r\n\r\n        // Non-integer.\r\n        if (i >= 0) {\r\n          k = POW_PRECISION;\r\n\r\n          // Unlimited precision.\r\n          POW_PRECISION = 0;\r\n          str = str.replace('.', '');\r\n          y = new BigNumber(baseIn);\r\n          x = y.pow(str.length - i);\r\n          POW_PRECISION = k;\r\n\r\n          // Convert str as if an integer, then restore the fraction part by dividing the\r\n          // result by its base raised to a power.\r\n\r\n          y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n           10, baseOut, decimal);\r\n          y.e = y.c.length;\r\n        }\r\n\r\n        // Convert the number as integer.\r\n\r\n        xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n         ? (alphabet = ALPHABET, decimal)\r\n         : (alphabet = decimal, ALPHABET));\r\n\r\n        // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n        e = k = xc.length;\r\n\r\n        // Remove trailing zeros.\r\n        for (; xc[--k] == 0; xc.pop());\r\n\r\n        // Zero?\r\n        if (!xc[0]) return alphabet.charAt(0);\r\n\r\n        // Does str represent an integer? If so, no need for the division.\r\n        if (i < 0) {\r\n          --e;\r\n        } else {\r\n          x.c = xc;\r\n          x.e = e;\r\n\r\n          // The sign is needed for correct rounding.\r\n          x.s = sign;\r\n          x = div(x, y, dp, rm, baseOut);\r\n          xc = x.c;\r\n          r = x.r;\r\n          e = x.e;\r\n        }\r\n\r\n        // xc now represents str converted to baseOut.\r\n\r\n        // THe index of the rounding digit.\r\n        d = e + dp + 1;\r\n\r\n        // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n        i = xc[d];\r\n\r\n        // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n        k = baseOut / 2;\r\n        r = r || d < 0 || xc[d + 1] != null;\r\n\r\n        r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n              : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n               rm == (x.s < 0 ? 8 : 7));\r\n\r\n        // If the index of the rounding digit is not greater than zero, or xc represents\r\n        // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n        // such as 0.00001.\r\n        if (d < 1 || !xc[0]) {\r\n\r\n          // 1^-dp or 0\r\n          str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n        } else {\r\n\r\n          // Truncate xc to the required number of decimal places.\r\n          xc.length = d;\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            // Rounding up may mean the previous digit has to be rounded up and so on.\r\n            for (--baseOut; ++xc[--d] > baseOut;) {\r\n              xc[d] = 0;\r\n\r\n              if (!d) {\r\n                ++e;\r\n                xc = [1].concat(xc);\r\n              }\r\n            }\r\n          }\r\n\r\n          // Determine trailing zeros.\r\n          for (k = xc.length; !xc[--k];);\r\n\r\n          // E.g. [4, 11, 15] becomes 4bf.\r\n          for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n          // Add leading zeros, decimal point and trailing zeros as required.\r\n          str = toFixedPoint(str, e, alphabet.charAt(0));\r\n        }\r\n\r\n        // The caller will add the sign.\r\n        return str;\r\n      };\r\n    })();\r\n\r\n\r\n    // Perform division in the specified base. Called by div and convertBase.\r\n    div = (function () {\r\n\r\n      // Assume non-zero x and k.\r\n      function multiply(x, k, base) {\r\n        var m, temp, xlo, xhi,\r\n          carry = 0,\r\n          i = x.length,\r\n          klo = k % SQRT_BASE,\r\n          khi = k / SQRT_BASE | 0;\r\n\r\n        for (x = x.slice(); i--;) {\r\n          xlo = x[i] % SQRT_BASE;\r\n          xhi = x[i] / SQRT_BASE | 0;\r\n          m = khi * xlo + xhi * klo;\r\n          temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n          carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n          x[i] = temp % base;\r\n        }\r\n\r\n        if (carry) x = [carry].concat(x);\r\n\r\n        return x;\r\n      }\r\n\r\n      function compare(a, b, aL, bL) {\r\n        var i, cmp;\r\n\r\n        if (aL != bL) {\r\n          cmp = aL > bL ? 1 : -1;\r\n        } else {\r\n\r\n          for (i = cmp = 0; i < aL; i++) {\r\n\r\n            if (a[i] != b[i]) {\r\n              cmp = a[i] > b[i] ? 1 : -1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        return cmp;\r\n      }\r\n\r\n      function subtract(a, b, aL, base) {\r\n        var i = 0;\r\n\r\n        // Subtract b from a.\r\n        for (; aL--;) {\r\n          a[aL] -= i;\r\n          i = a[aL] < b[aL] ? 1 : 0;\r\n          a[aL] = i * base + a[aL] - b[aL];\r\n        }\r\n\r\n        // Remove leading zeros.\r\n        for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n      }\r\n\r\n      // x: dividend, y: divisor.\r\n      return function (x, y, dp, rm, base) {\r\n        var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n          yL, yz,\r\n          s = x.s == y.s ? 1 : -1,\r\n          xc = x.c,\r\n          yc = y.c;\r\n\r\n        // Either NaN, Infinity or 0?\r\n        if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n          return new BigNumber(\r\n\r\n           // Return NaN if either NaN, or both Infinity or 0.\r\n           !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n            // Return 0 if x is 0 or y is Infinity, or return Infinity as y is 0.\r\n            xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n         );\r\n        }\r\n\r\n        q = new BigNumber(s);\r\n        qc = q.c = [];\r\n        e = x.e - y.e;\r\n        s = dp + e + 1;\r\n\r\n        if (!base) {\r\n          base = BASE;\r\n          e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n          s = s / LOG_BASE | 0;\r\n        }\r\n\r\n        // Result exponent may be one less then the current value of e.\r\n        // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n        for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n        if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n        if (s < 0) {\r\n          qc.push(1);\r\n          more = true;\r\n        } else {\r\n          xL = xc.length;\r\n          yL = yc.length;\r\n          i = 0;\r\n          s += 2;\r\n\r\n          // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n          n = mathfloor(base / (yc[0] + 1));\r\n\r\n          // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n          // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n          if (n > 1) {\r\n            yc = multiply(yc, n, base);\r\n            xc = multiply(xc, n, base);\r\n            yL = yc.length;\r\n            xL = xc.length;\r\n          }\r\n\r\n          xi = yL;\r\n          rem = xc.slice(0, yL);\r\n          remL = rem.length;\r\n\r\n          // Add zeros to make remainder as long as divisor.\r\n          for (; remL < yL; rem[remL++] = 0);\r\n          yz = yc.slice();\r\n          yz = [0].concat(yz);\r\n          yc0 = yc[0];\r\n          if (yc[1] >= base / 2) yc0++;\r\n          // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n          // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n          do {\r\n            n = 0;\r\n\r\n            // Compare divisor and remainder.\r\n            cmp = compare(yc, rem, yL, remL);\r\n\r\n            // If divisor < remainder.\r\n            if (cmp < 0) {\r\n\r\n              // Calculate trial digit, n.\r\n\r\n              rem0 = rem[0];\r\n              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n              // n is how many times the divisor goes into the current remainder.\r\n              n = mathfloor(rem0 / yc0);\r\n\r\n              //  Algorithm:\r\n              //  product = divisor multiplied by trial digit (n).\r\n              //  Compare product and remainder.\r\n              //  If product is greater than remainder:\r\n              //    Subtract divisor from product, decrement trial digit.\r\n              //  Subtract product from remainder.\r\n              //  If product was less than remainder at the last compare:\r\n              //    Compare new remainder and divisor.\r\n              //    If remainder is greater than divisor:\r\n              //      Subtract divisor from remainder, increment trial digit.\r\n\r\n              if (n > 1) {\r\n\r\n                // n may be > base only when base is 3.\r\n                if (n >= base) n = base - 1;\r\n\r\n                // product = divisor * trial digit.\r\n                prod = multiply(yc, n, base);\r\n                prodL = prod.length;\r\n                remL = rem.length;\r\n\r\n                // Compare product and remainder.\r\n                // If product > remainder then trial digit n too high.\r\n                // n is 1 too high about 5% of the time, and is not known to have\r\n                // ever been more than 1 too high.\r\n                while (compare(prod, rem, prodL, remL) == 1) {\r\n                  n--;\r\n\r\n                  // Subtract divisor from product.\r\n                  subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                  prodL = prod.length;\r\n                  cmp = 1;\r\n                }\r\n              } else {\r\n\r\n                // n is 0 or 1, cmp is -1.\r\n                // If n is 0, there is no need to compare yc and rem again below,\r\n                // so change cmp to 1 to avoid it.\r\n                // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n                if (n == 0) {\r\n\r\n                  // divisor < remainder, so n must be at least 1.\r\n                  cmp = n = 1;\r\n                }\r\n\r\n                // product = divisor\r\n                prod = yc.slice();\r\n                prodL = prod.length;\r\n              }\r\n\r\n              if (prodL < remL) prod = [0].concat(prod);\r\n\r\n              // Subtract product from remainder.\r\n              subtract(rem, prod, remL, base);\r\n              remL = rem.length;\r\n\r\n               // If product was < remainder.\r\n              if (cmp == -1) {\r\n\r\n                // Compare divisor and new remainder.\r\n                // If divisor < new remainder, subtract divisor from remainder.\r\n                // Trial digit n too low.\r\n                // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n                while (compare(yc, rem, yL, remL) < 1) {\r\n                  n++;\r\n\r\n                  // Subtract divisor from remainder.\r\n                  subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                  remL = rem.length;\r\n                }\r\n              }\r\n            } else if (cmp === 0) {\r\n              n++;\r\n              rem = [0];\r\n            } // else cmp === 1 and n will be 0\r\n\r\n            // Add the next digit, n, to the result array.\r\n            qc[i++] = n;\r\n\r\n            // Update the remainder.\r\n            if (rem[0]) {\r\n              rem[remL++] = xc[xi] || 0;\r\n            } else {\r\n              rem = [xc[xi]];\r\n              remL = 1;\r\n            }\r\n          } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n          more = rem[0] != null;\r\n\r\n          // Leading zero?\r\n          if (!qc[0]) qc.splice(0, 1);\r\n        }\r\n\r\n        if (base == BASE) {\r\n\r\n          // To calculate q.e, first get the number of digits of qc[0].\r\n          for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n          round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n        // Caller is convertBase.\r\n        } else {\r\n          q.e = e;\r\n          q.r = +more;\r\n        }\r\n\r\n        return q;\r\n      };\r\n    })();\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n     * notation rounded to the specified decimal places or significant digits.\r\n     *\r\n     * n: a BigNumber.\r\n     * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n     * rm: the rounding mode.\r\n     * id: 1 (toExponential) or 2 (toPrecision).\r\n     */\r\n    function format(n, i, rm, id) {\r\n      var c0, e, ne, len, str;\r\n\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      if (!n.c) return n.toString();\r\n\r\n      c0 = n.c[0];\r\n      ne = n.e;\r\n\r\n      if (i == null) {\r\n        str = coeffToString(n.c);\r\n        str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n         ? toExponential(str, ne)\r\n         : toFixedPoint(str, ne, '0');\r\n      } else {\r\n        n = round(new BigNumber(n), i, rm);\r\n\r\n        // n.e may have changed if the value was rounded up.\r\n        e = n.e;\r\n\r\n        str = coeffToString(n.c);\r\n        len = str.length;\r\n\r\n        // toPrecision returns exponential notation if the number of significant digits\r\n        // specified is less than the number of digits necessary to represent the integer\r\n        // part of the value in fixed-point notation.\r\n\r\n        // Exponential notation.\r\n        if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n          // Append zeros?\r\n          for (; len < i; str += '0', len++);\r\n          str = toExponential(str, e);\r\n\r\n        // Fixed-point notation.\r\n        } else {\r\n          i -= ne;\r\n          str = toFixedPoint(str, e, '0');\r\n\r\n          // Append zeros?\r\n          if (e + 1 > len) {\r\n            if (--i > 0) for (str += '.'; i--; str += '0');\r\n          } else {\r\n            i += e - len;\r\n            if (i > 0) {\r\n              if (e + 1 == len) str += '.';\r\n              for (; i--; str += '0');\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return n.s < 0 && c0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // Handle BigNumber.max and BigNumber.min.\r\n    // If any number is NaN, return NaN.\r\n    function maxOrMin(args, n) {\r\n      var k, y,\r\n        i = 1,\r\n        x = new BigNumber(args[0]);\r\n\r\n      for (; i < args.length; i++) {\r\n        y = new BigNumber(args[i]);\r\n        if (!y.s || (k = compare(x, y)) === n || k === 0 && x.s === n) {\r\n          x = y;\r\n        }\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n\r\n    /*\r\n     * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n     * Called by minus, plus and times.\r\n     */\r\n    function normalise(n, c, e) {\r\n      var i = 1,\r\n        j = c.length;\r\n\r\n       // Remove trailing zeros.\r\n      for (; !c[--j]; c.pop());\r\n\r\n      // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n      for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n      // Overflow?\r\n      if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        n.c = n.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        n.c = [n.e = 0];\r\n      } else {\r\n        n.e = e;\r\n        n.c = c;\r\n      }\r\n\r\n      return n;\r\n    }\r\n\r\n\r\n    // Handle values that fail the validity test in BigNumber.\r\n    parseNumeric = (function () {\r\n      var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n        dotAfter = /^([^.]+)\\.$/,\r\n        dotBefore = /^\\.([^.]+)$/,\r\n        isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n        whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n      return function (x, str, isNum, b) {\r\n        var base,\r\n          s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n        // No exception on Infinity or NaN.\r\n        if (isInfinityOrNaN.test(s)) {\r\n          x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n        } else {\r\n          if (!isNum) {\r\n\r\n            // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n            s = s.replace(basePrefix, function (m, p1, p2) {\r\n              base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n              return !b || b == base ? p1 : m;\r\n            });\r\n\r\n            if (b) {\r\n              base = b;\r\n\r\n              // E.g. '1.' to '1', '.1' to '0.1'\r\n              s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n            }\r\n\r\n            if (str != s) return new BigNumber(s, base);\r\n          }\r\n\r\n          // '[BigNumber Error] Not a number: {n}'\r\n          // '[BigNumber Error] Not a base {b} number: {n}'\r\n          if (BigNumber.DEBUG) {\r\n            throw Error\r\n              (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n          }\r\n\r\n          // NaN\r\n          x.s = null;\r\n        }\r\n\r\n        x.c = x.e = null;\r\n      }\r\n    })();\r\n\r\n\r\n    /*\r\n     * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n     * If r is truthy, it is known that there are more digits after the rounding digit.\r\n     */\r\n    function round(x, sd, rm, r) {\r\n      var d, i, j, k, n, ni, rd,\r\n        xc = x.c,\r\n        pows10 = POWS_TEN;\r\n\r\n      // if x is not Infinity or NaN...\r\n      if (xc) {\r\n\r\n        // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n        // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n        // ni is the index of n within x.c.\r\n        // d is the number of digits of n.\r\n        // i is the index of rd within n including leading zeros.\r\n        // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n        out: {\r\n\r\n          // Get the number of digits of the first element of xc.\r\n          for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n          i = sd - d;\r\n\r\n          // If the rounding digit is in the first element of xc...\r\n          if (i < 0) {\r\n            i += LOG_BASE;\r\n            j = sd;\r\n            n = xc[ni = 0];\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = mathfloor(n / pows10[d - j - 1] % 10);\r\n          } else {\r\n            ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n            if (ni >= xc.length) {\r\n\r\n              if (r) {\r\n\r\n                // Needed by sqrt.\r\n                for (; xc.length <= ni; xc.push(0));\r\n                n = rd = 0;\r\n                d = 1;\r\n                i %= LOG_BASE;\r\n                j = i - LOG_BASE + 1;\r\n              } else {\r\n                break out;\r\n              }\r\n            } else {\r\n              n = k = xc[ni];\r\n\r\n              // Get the number of digits of n.\r\n              for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n              // Get the index of rd within n.\r\n              i %= LOG_BASE;\r\n\r\n              // Get the index of rd within n, adjusted for leading zeros.\r\n              // The number of leading zeros of n is given by LOG_BASE - d.\r\n              j = i - LOG_BASE + d;\r\n\r\n              // Get the rounding digit at index j of n.\r\n              rd = j < 0 ? 0 : mathfloor(n / pows10[d - j - 1] % 10);\r\n            }\r\n          }\r\n\r\n          r = r || sd < 0 ||\r\n\r\n          // Are there any non-zero digits after the rounding digit?\r\n          // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n          // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n           xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n          r = rm < 4\r\n           ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n           : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n            // Check whether the digit to the left of the rounding digit is odd.\r\n            ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n          if (sd < 1 || !xc[0]) {\r\n            xc.length = 0;\r\n\r\n            if (r) {\r\n\r\n              // Convert sd to decimal places.\r\n              sd -= x.e + 1;\r\n\r\n              // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n              xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n              x.e = -sd || 0;\r\n            } else {\r\n\r\n              // Zero.\r\n              xc[0] = x.e = 0;\r\n            }\r\n\r\n            return x;\r\n          }\r\n\r\n          // Remove excess digits.\r\n          if (i == 0) {\r\n            xc.length = ni;\r\n            k = 1;\r\n            ni--;\r\n          } else {\r\n            xc.length = ni + 1;\r\n            k = pows10[LOG_BASE - i];\r\n\r\n            // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n            // j > 0 means i > number of leading zeros of n.\r\n            xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n          }\r\n\r\n          // Round up?\r\n          if (r) {\r\n\r\n            for (; ;) {\r\n\r\n              // If the digit to be rounded up is in the first element of xc...\r\n              if (ni == 0) {\r\n\r\n                // i will be the length of xc[0] before k is added.\r\n                for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n                j = xc[0] += k;\r\n                for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n                // if i != k the length has increased.\r\n                if (i != k) {\r\n                  x.e++;\r\n                  if (xc[0] == BASE) xc[0] = 1;\r\n                }\r\n\r\n                break;\r\n              } else {\r\n                xc[ni] += k;\r\n                if (xc[ni] != BASE) break;\r\n                xc[ni--] = 0;\r\n                k = 1;\r\n              }\r\n            }\r\n          }\r\n\r\n          // Remove trailing zeros.\r\n          for (i = xc.length; xc[--i] === 0; xc.pop());\r\n        }\r\n\r\n        // Overflow? Infinity.\r\n        if (x.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n\r\n        // Underflow? Zero.\r\n        } else if (x.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        }\r\n      }\r\n\r\n      return x;\r\n    }\r\n\r\n\r\n    function valueOf(n) {\r\n      var str,\r\n        e = n.e;\r\n\r\n      if (e === null) return n.toString();\r\n\r\n      str = coeffToString(n.c);\r\n\r\n      str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n        ? toExponential(str, e)\r\n        : toFixedPoint(str, e, '0');\r\n\r\n      return n.s < 0 ? '-' + str : str;\r\n    }\r\n\r\n\r\n    // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n     */\r\n    P.absoluteValue = P.abs = function () {\r\n      var x = new BigNumber(this);\r\n      if (x.s < 0) x.s = 1;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return\r\n     *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     *   0 if they have the same value,\r\n     *   or null if the value of either is NaN.\r\n     */\r\n    P.comparedTo = function (y, b) {\r\n      return compare(this, new BigNumber(y, b));\r\n    };\r\n\r\n\r\n    /*\r\n     * If dp is undefined or null or true or false, return the number of decimal places of the\r\n     * value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n     *\r\n     * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.decimalPlaces = P.dp = function (dp, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), dp + x.e + 1, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n      // Subtract the number of trailing zeros of the last number.\r\n      if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n      if (n < 0) n = 0;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n / 0 = I\r\n     *  n / N = N\r\n     *  n / I = 0\r\n     *  0 / n = 0\r\n     *  0 / 0 = N\r\n     *  0 / N = N\r\n     *  0 / I = 0\r\n     *  N / n = N\r\n     *  N / 0 = N\r\n     *  N / N = N\r\n     *  N / I = N\r\n     *  I / n = I\r\n     *  I / 0 = I\r\n     *  I / N = N\r\n     *  I / I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n     * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.dividedBy = P.div = function (y, b) {\r\n      return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n     * BigNumber by the value of BigNumber(y, b).\r\n     */\r\n    P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n      return div(this, new BigNumber(y, b), 0, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n     *\r\n     * If m is present, return the result modulo m.\r\n     * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n     *\r\n     * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n     * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n     *\r\n     * n {number|string|BigNumber} The exponent. An integer.\r\n     * [m] {number|string|BigNumber} The modulus.\r\n     *\r\n     * '[BigNumber Error] Exponent not an integer: {n}'\r\n     */\r\n    P.exponentiatedBy = P.pow = function (n, m) {\r\n      var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n        x = this;\r\n\r\n      n = new BigNumber(n);\r\n\r\n      // Allow NaN and Infinity, but not other non-integers.\r\n      if (n.c && !n.isInteger()) {\r\n        throw Error\r\n          (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n      }\r\n\r\n      if (m != null) m = new BigNumber(m);\r\n\r\n      // Exponent of MAX_SAFE_INTEGER is 15.\r\n      nIsBig = n.e > 14;\r\n\r\n      // If x is NaN, Infinity, 0 or 1, or n is Infinity, NaN or 0.\r\n      if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n        // The sign of the result of pow when x is negative depends on the evenness of n.\r\n        // If +n overflows to Infinity, the evenness of n would be not be known.\r\n        y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n        return m ? y.mod(m) : y;\r\n      }\r\n\r\n      nIsNeg = n.s < 0;\r\n\r\n      if (m) {\r\n\r\n        // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n        if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n        isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n        if (isModExp) x = x.mod(m);\r\n\r\n      // Overflow to Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n      // Underflow to 0: <=0.79**1e10 or <=0.9999975**1e15.\r\n      } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n        // [1, 240000000]\r\n        ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n        // [80000000000000]  [99999750000000]\r\n        : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n        // If x is negative and n is odd, k = -0, else k = 0.\r\n        k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n        // If x >= 1, k = Infinity.\r\n        if (x.e > -1) k = 1 / k;\r\n\r\n        // If n is negative return 0, else return Infinity.\r\n        return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n      } else if (POW_PRECISION) {\r\n\r\n        // Truncating each coefficient array to a length of k after each multiplication\r\n        // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n        // i.e. there will be a minimum of 28 guard digits retained.\r\n        k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n      }\r\n\r\n      if (nIsBig) {\r\n        half = new BigNumber(0.5);\r\n        if (nIsNeg) n.s = 1;\r\n        nIsOdd = isOdd(n);\r\n      } else {\r\n        i = Math.abs(+valueOf(n));\r\n        nIsOdd = i % 2;\r\n      }\r\n\r\n      y = new BigNumber(ONE);\r\n\r\n      // Performs 54 loop iterations for n of 9007199254740991.\r\n      for (; ;) {\r\n\r\n        if (nIsOdd) {\r\n          y = y.times(x);\r\n          if (!y.c) break;\r\n\r\n          if (k) {\r\n            if (y.c.length > k) y.c.length = k;\r\n          } else if (isModExp) {\r\n            y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n          }\r\n        }\r\n\r\n        if (i) {\r\n          i = mathfloor(i / 2);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        } else {\r\n          n = n.times(half);\r\n          round(n, n.e + 1, 1);\r\n\r\n          if (n.e > 14) {\r\n            nIsOdd = isOdd(n);\r\n          } else {\r\n            i = +valueOf(n);\r\n            if (i === 0) break;\r\n            nIsOdd = i % 2;\r\n          }\r\n        }\r\n\r\n        x = x.times(x);\r\n\r\n        if (k) {\r\n          if (x.c && x.c.length > k) x.c.length = k;\r\n        } else if (isModExp) {\r\n          x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (isModExp) return y;\r\n      if (nIsNeg) y = ONE.div(y);\r\n\r\n      return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n     * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n     */\r\n    P.integerValue = function (rm) {\r\n      var n = new BigNumber(this);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n      return round(n, n.e + 1, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isEqualTo = P.eq = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n     */\r\n    P.isFinite = function () {\r\n      return !!this.c;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isGreaterThan = P.gt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is greater than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n     */\r\n    P.isInteger = function () {\r\n      return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n     * otherwise return false.\r\n     */\r\n    P.isLessThan = P.lt = function (y, b) {\r\n      return compare(this, new BigNumber(y, b)) < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is less than or equal to the value of\r\n     * BigNumber(y, b), otherwise return false.\r\n     */\r\n    P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n      return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n     */\r\n    P.isNaN = function () {\r\n      return !this.s;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is negative, otherwise return false.\r\n     */\r\n    P.isNegative = function () {\r\n      return this.s < 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is positive, otherwise return false.\r\n     */\r\n    P.isPositive = function () {\r\n      return this.s > 0;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n     */\r\n    P.isZero = function () {\r\n      return !!this.c && this.c[0] == 0;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n - 0 = n\r\n     *  n - N = N\r\n     *  n - I = -I\r\n     *  0 - n = -n\r\n     *  0 - 0 = 0\r\n     *  0 - N = N\r\n     *  0 - I = -I\r\n     *  N - n = N\r\n     *  N - 0 = N\r\n     *  N - N = N\r\n     *  N - I = N\r\n     *  I - n = I\r\n     *  I - 0 = I\r\n     *  I - N = N\r\n     *  I - I = N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.minus = function (y, b) {\r\n      var i, j, t, xLTy,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n      if (a != b) {\r\n        y.s = -b;\r\n        return x.plus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Either Infinity?\r\n        if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n        // Either zero?\r\n        if (!xc[0] || !yc[0]) {\r\n\r\n          // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n          return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n           // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n           ROUNDING_MODE == 3 ? -0 : 0);\r\n        }\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Determine which is the bigger number.\r\n      if (a = xe - ye) {\r\n\r\n        if (xLTy = a < 0) {\r\n          a = -a;\r\n          t = xc;\r\n        } else {\r\n          ye = xe;\r\n          t = yc;\r\n        }\r\n\r\n        t.reverse();\r\n\r\n        // Prepend zeros to equalise exponents.\r\n        for (b = a; b--; t.push(0));\r\n        t.reverse();\r\n      } else {\r\n\r\n        // Exponents equal. Check digit by digit.\r\n        j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n        for (a = b = 0; b < j; b++) {\r\n\r\n          if (xc[b] != yc[b]) {\r\n            xLTy = xc[b] < yc[b];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // x < y? Point xc to the array of the bigger number.\r\n      if (xLTy) {\r\n        t = xc;\r\n        xc = yc;\r\n        yc = t;\r\n        y.s = -y.s;\r\n      }\r\n\r\n      b = (j = yc.length) - (i = xc.length);\r\n\r\n      // Append zeros to xc if shorter.\r\n      // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n      if (b > 0) for (; b--; xc[i++] = 0);\r\n      b = BASE - 1;\r\n\r\n      // Subtract yc from xc.\r\n      for (; j > a;) {\r\n\r\n        if (xc[--j] < yc[j]) {\r\n          for (i = j; i && !xc[--i]; xc[i] = b);\r\n          --xc[i];\r\n          xc[j] += BASE;\r\n        }\r\n\r\n        xc[j] -= yc[j];\r\n      }\r\n\r\n      // Remove leading zeros and adjust exponent accordingly.\r\n      for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n      // Zero?\r\n      if (!xc[0]) {\r\n\r\n        // Following IEEE 754 (2008) 6.3,\r\n        // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n        y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n        y.c = [y.e = 0];\r\n        return y;\r\n      }\r\n\r\n      // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n      // for finite x and y.\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     *   n % 0 =  N\r\n     *   n % N =  N\r\n     *   n % I =  n\r\n     *   0 % n =  0\r\n     *  -0 % n = -0\r\n     *   0 % 0 =  N\r\n     *   0 % N =  N\r\n     *   0 % I =  0\r\n     *   N % n =  N\r\n     *   N % 0 =  N\r\n     *   N % N =  N\r\n     *   N % I =  N\r\n     *   I % n =  N\r\n     *   I % 0 =  N\r\n     *   I % N =  N\r\n     *   I % I =  N\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n     * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n     */\r\n    P.modulo = P.mod = function (y, b) {\r\n      var q, s,\r\n        x = this;\r\n\r\n      y = new BigNumber(y, b);\r\n\r\n      // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n      if (!x.c || !y.s || y.c && !y.c[0]) {\r\n        return new BigNumber(NaN);\r\n\r\n      // Return x if y is Infinity or x is zero.\r\n      } else if (!y.c || x.c && !x.c[0]) {\r\n        return new BigNumber(x);\r\n      }\r\n\r\n      if (MODULO_MODE == 9) {\r\n\r\n        // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n        // r = x - qy    where  0 <= r < abs(y)\r\n        s = y.s;\r\n        y.s = 1;\r\n        q = div(x, y, 0, 3);\r\n        y.s = s;\r\n        q.s *= s;\r\n      } else {\r\n        q = div(x, y, 0, MODULO_MODE);\r\n      }\r\n\r\n      y = x.minus(q.times(y));\r\n\r\n      // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n      if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n      return y;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n * 0 = 0\r\n     *  n * N = N\r\n     *  n * I = I\r\n     *  0 * n = 0\r\n     *  0 * 0 = 0\r\n     *  0 * N = N\r\n     *  0 * I = N\r\n     *  N * n = N\r\n     *  N * 0 = N\r\n     *  N * N = N\r\n     *  N * I = N\r\n     *  I * n = I\r\n     *  I * 0 = N\r\n     *  I * N = N\r\n     *  I * I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n     * of BigNumber(y, b).\r\n     */\r\n    P.multipliedBy = P.times = function (y, b) {\r\n      var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n        base, sqrtBase,\r\n        x = this,\r\n        xc = x.c,\r\n        yc = (y = new BigNumber(y, b)).c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n        // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n        if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n          y.c = y.e = y.s = null;\r\n        } else {\r\n          y.s *= x.s;\r\n\r\n          // Return Infinity if either is Infinity.\r\n          if (!xc || !yc) {\r\n            y.c = y.e = null;\r\n\r\n          // Return 0 if either is 0.\r\n          } else {\r\n            y.c = [0];\r\n            y.e = 0;\r\n          }\r\n        }\r\n\r\n        return y;\r\n      }\r\n\r\n      e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n      y.s *= x.s;\r\n      xcL = xc.length;\r\n      ycL = yc.length;\r\n\r\n      // Ensure xc points to longer array and xcL to its length.\r\n      if (xcL < ycL) {\r\n        zc = xc;\r\n        xc = yc;\r\n        yc = zc;\r\n        i = xcL;\r\n        xcL = ycL;\r\n        ycL = i;\r\n      }\r\n\r\n      // Initialise the result array with zeros.\r\n      for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n      base = BASE;\r\n      sqrtBase = SQRT_BASE;\r\n\r\n      for (i = ycL; --i >= 0;) {\r\n        c = 0;\r\n        ylo = yc[i] % sqrtBase;\r\n        yhi = yc[i] / sqrtBase | 0;\r\n\r\n        for (k = xcL, j = i + k; j > i;) {\r\n          xlo = xc[--k] % sqrtBase;\r\n          xhi = xc[k] / sqrtBase | 0;\r\n          m = yhi * xlo + xhi * ylo;\r\n          xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n          c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n          zc[j--] = xlo % base;\r\n        }\r\n\r\n        zc[j] = c;\r\n      }\r\n\r\n      if (c) {\r\n        ++e;\r\n      } else {\r\n        zc.splice(0, 1);\r\n      }\r\n\r\n      return normalise(y, zc, e);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n     * i.e. multiplied by -1.\r\n     */\r\n    P.negated = function () {\r\n      var x = new BigNumber(this);\r\n      x.s = -x.s || null;\r\n      return x;\r\n    };\r\n\r\n\r\n    /*\r\n     *  n + 0 = n\r\n     *  n + N = N\r\n     *  n + I = I\r\n     *  0 + n = n\r\n     *  0 + 0 = 0\r\n     *  0 + N = N\r\n     *  0 + I = I\r\n     *  N + n = N\r\n     *  N + 0 = N\r\n     *  N + N = N\r\n     *  N + I = N\r\n     *  I + n = I\r\n     *  I + 0 = I\r\n     *  I + N = N\r\n     *  I + I = I\r\n     *\r\n     * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n     * BigNumber(y, b).\r\n     */\r\n    P.plus = function (y, b) {\r\n      var t,\r\n        x = this,\r\n        a = x.s;\r\n\r\n      y = new BigNumber(y, b);\r\n      b = y.s;\r\n\r\n      // Either NaN?\r\n      if (!a || !b) return new BigNumber(NaN);\r\n\r\n      // Signs differ?\r\n       if (a != b) {\r\n        y.s = -b;\r\n        return x.minus(y);\r\n      }\r\n\r\n      var xe = x.e / LOG_BASE,\r\n        ye = y.e / LOG_BASE,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      if (!xe || !ye) {\r\n\r\n        // Return Infinity if either Infinity.\r\n        if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n        // Either zero?\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n      }\r\n\r\n      xe = bitFloor(xe);\r\n      ye = bitFloor(ye);\r\n      xc = xc.slice();\r\n\r\n      // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n      if (a = xe - ye) {\r\n        if (a > 0) {\r\n          ye = xe;\r\n          t = yc;\r\n        } else {\r\n          a = -a;\r\n          t = xc;\r\n        }\r\n\r\n        t.reverse();\r\n        for (; a--; t.push(0));\r\n        t.reverse();\r\n      }\r\n\r\n      a = xc.length;\r\n      b = yc.length;\r\n\r\n      // Point xc to the longer array, and b to the shorter length.\r\n      if (a - b < 0) {\r\n        t = yc;\r\n        yc = xc;\r\n        xc = t;\r\n        b = a;\r\n      }\r\n\r\n      // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n      for (a = 0; b;) {\r\n        a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n        xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n      }\r\n\r\n      if (a) {\r\n        xc = [a].concat(xc);\r\n        ++ye;\r\n      }\r\n\r\n      // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n      // ye = MAX_EXP + 1 possible\r\n      return normalise(y, xc, ye);\r\n    };\r\n\r\n\r\n    /*\r\n     * If sd is undefined or null or true or false, return the number of significant digits of\r\n     * the value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n     * If sd is true include integer-part trailing zeros in the count.\r\n     *\r\n     * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n     * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n     * ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n     *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.precision = P.sd = function (sd, rm) {\r\n      var c, n, v,\r\n        x = this;\r\n\r\n      if (sd != null && sd !== !!sd) {\r\n        intCheck(sd, 1, MAX);\r\n        if (rm == null) rm = ROUNDING_MODE;\r\n        else intCheck(rm, 0, 8);\r\n\r\n        return round(new BigNumber(x), sd, rm);\r\n      }\r\n\r\n      if (!(c = x.c)) return null;\r\n      v = c.length - 1;\r\n      n = v * LOG_BASE + 1;\r\n\r\n      if (v = c[v]) {\r\n\r\n        // Subtract the number of trailing zeros of the last element.\r\n        for (; v % 10 == 0; v /= 10, n--);\r\n\r\n        // Add the number of digits of the first element.\r\n        for (v = c[0]; v >= 10; v /= 10, n++);\r\n      }\r\n\r\n      if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n      return n;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n     * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n     *\r\n     * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n     */\r\n    P.shiftedBy = function (k) {\r\n      intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n      return this.times('1e' + k);\r\n    };\r\n\r\n\r\n    /*\r\n     *  sqrt(-n) =  N\r\n     *  sqrt(N) =  N\r\n     *  sqrt(-I) =  N\r\n     *  sqrt(I) =  I\r\n     *  sqrt(0) =  0\r\n     *  sqrt(-0) = -0\r\n     *\r\n     * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n     * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n     */\r\n    P.squareRoot = P.sqrt = function () {\r\n      var m, n, r, rep, t,\r\n        x = this,\r\n        c = x.c,\r\n        s = x.s,\r\n        e = x.e,\r\n        dp = DECIMAL_PLACES + 4,\r\n        half = new BigNumber('0.5');\r\n\r\n      // Negative/NaN/Infinity/zero?\r\n      if (s !== 1 || !c || !c[0]) {\r\n        return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n      }\r\n\r\n      // Initial estimate.\r\n      s = Math.sqrt(+valueOf(x));\r\n\r\n      // Math.sqrt underflow/overflow?\r\n      // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n      if (s == 0 || s == 1 / 0) {\r\n        n = coeffToString(c);\r\n        if ((n.length + e) % 2 == 0) n += '0';\r\n        s = Math.sqrt(+n);\r\n        e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n        if (s == 1 / 0) {\r\n          n = '5e' + e;\r\n        } else {\r\n          n = s.toExponential();\r\n          n = n.slice(0, n.indexOf('e') + 1) + e;\r\n        }\r\n\r\n        r = new BigNumber(n);\r\n      } else {\r\n        r = new BigNumber(s + '');\r\n      }\r\n\r\n      // Check for zero.\r\n      // r could be zero if MIN_EXP is changed after the this value was created.\r\n      // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n      // coeffToString to throw.\r\n      if (r.c[0]) {\r\n        e = r.e;\r\n        s = e + dp;\r\n        if (s < 3) s = 0;\r\n\r\n        // Newton-Raphson iteration.\r\n        for (; ;) {\r\n          t = r;\r\n          r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n          if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n            // The exponent of r may here be one less than the final result exponent,\r\n            // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n            // are indexed correctly.\r\n            if (r.e < e) --s;\r\n            n = n.slice(s - 3, s + 1);\r\n\r\n            // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n            // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n            // iteration.\r\n            if (n == '9999' || !rep && n == '4999') {\r\n\r\n              // On the first iteration only, check to see if rounding up gives the\r\n              // exact result as the nines may infinitely repeat.\r\n              if (!rep) {\r\n                round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n                if (t.times(t).eq(x)) {\r\n                  r = t;\r\n                  break;\r\n                }\r\n              }\r\n\r\n              dp += 4;\r\n              s += 4;\r\n              rep = 1;\r\n            } else {\r\n\r\n              // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n              // result. If not, then there are further digits and m will be truthy.\r\n              if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n                // Truncate to the first rounding digit.\r\n                round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n                m = !r.times(r).eq(x);\r\n              }\r\n\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in exponential notation and\r\n     * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toExponential = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp++;\r\n      }\r\n      return format(this, dp, rm, 1);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n     * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n     *\r\n     * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n     * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     */\r\n    P.toFixed = function (dp, rm) {\r\n      if (dp != null) {\r\n        intCheck(dp, 0, MAX);\r\n        dp = dp + this.e + 1;\r\n      }\r\n      return format(this, dp, rm);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n     * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n     * of the format or FORMAT object (see BigNumber.set).\r\n     *\r\n     * The formatting object may contain some or all of the properties shown below.\r\n     *\r\n     * FORMAT = {\r\n     *   prefix: '',\r\n     *   groupSize: 3,\r\n     *   secondaryGroupSize: 0,\r\n     *   groupSeparator: ',',\r\n     *   decimalSeparator: '.',\r\n     *   fractionGroupSize: 0,\r\n     *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n     *   suffix: ''\r\n     * };\r\n     *\r\n     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     * [format] {object} Formatting options. See FORMAT pbject above.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n     * '[BigNumber Error] Argument not an object: {format}'\r\n     */\r\n    P.toFormat = function (dp, rm, format) {\r\n      var str,\r\n        x = this;\r\n\r\n      if (format == null) {\r\n        if (dp != null && rm && typeof rm == 'object') {\r\n          format = rm;\r\n          rm = null;\r\n        } else if (dp && typeof dp == 'object') {\r\n          format = dp;\r\n          dp = rm = null;\r\n        } else {\r\n          format = FORMAT;\r\n        }\r\n      } else if (typeof format != 'object') {\r\n        throw Error\r\n          (bignumberError + 'Argument not an object: ' + format);\r\n      }\r\n\r\n      str = x.toFixed(dp, rm);\r\n\r\n      if (x.c) {\r\n        var i,\r\n          arr = str.split('.'),\r\n          g1 = +format.groupSize,\r\n          g2 = +format.secondaryGroupSize,\r\n          groupSeparator = format.groupSeparator || '',\r\n          intPart = arr[0],\r\n          fractionPart = arr[1],\r\n          isNeg = x.s < 0,\r\n          intDigits = isNeg ? intPart.slice(1) : intPart,\r\n          len = intDigits.length;\r\n\r\n        if (g2) {\r\n          i = g1;\r\n          g1 = g2;\r\n          g2 = i;\r\n          len -= i;\r\n        }\r\n\r\n        if (g1 > 0 && len > 0) {\r\n          i = len % g1 || g1;\r\n          intPart = intDigits.substr(0, i);\r\n          for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n          if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n          if (isNeg) intPart = '-' + intPart;\r\n        }\r\n\r\n        str = fractionPart\r\n         ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n          ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n           '$&' + (format.fractionGroupSeparator || ''))\r\n          : fractionPart)\r\n         : intPart;\r\n      }\r\n\r\n      return (format.prefix || '') + str + (format.suffix || '');\r\n    };\r\n\r\n\r\n    /*\r\n     * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n     * fraction with an integer numerator and an integer denominator.\r\n     * The denominator will be a positive non-zero value less than or equal to the specified\r\n     * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n     * the lowest value necessary to represent the number exactly.\r\n     *\r\n     * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n     *\r\n     * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n     */\r\n    P.toFraction = function (md) {\r\n      var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n        x = this,\r\n        xc = x.c;\r\n\r\n      if (md != null) {\r\n        n = new BigNumber(md);\r\n\r\n        // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n        if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n          throw Error\r\n            (bignumberError + 'Argument ' +\r\n              (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n        }\r\n      }\r\n\r\n      if (!xc) return new BigNumber(x);\r\n\r\n      d = new BigNumber(ONE);\r\n      n1 = d0 = new BigNumber(ONE);\r\n      d1 = n0 = new BigNumber(ONE);\r\n      s = coeffToString(xc);\r\n\r\n      // Determine initial denominator.\r\n      // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n      e = d.e = s.length - x.e - 1;\r\n      d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n      md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n      exp = MAX_EXP;\r\n      MAX_EXP = 1 / 0;\r\n      n = new BigNumber(s);\r\n\r\n      // n0 = d1 = 0\r\n      n0.c[0] = 0;\r\n\r\n      for (; ;)  {\r\n        q = div(n, d, 0, 1);\r\n        d2 = d0.plus(q.times(d1));\r\n        if (d2.comparedTo(md) == 1) break;\r\n        d0 = d1;\r\n        d1 = d2;\r\n        n1 = n0.plus(q.times(d2 = n1));\r\n        n0 = d2;\r\n        d = n.minus(q.times(d2 = d));\r\n        n = d2;\r\n      }\r\n\r\n      d2 = div(md.minus(d0), d1, 0, 1);\r\n      n0 = n0.plus(d2.times(n1));\r\n      d0 = d0.plus(d2.times(d1));\r\n      n0.s = n1.s = x.s;\r\n      e = e * 2;\r\n\r\n      // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n      r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n          div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n      MAX_EXP = exp;\r\n\r\n      return r;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return the value of this BigNumber converted to a number primitive.\r\n     */\r\n    P.toNumber = function () {\r\n      return +valueOf(this);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n     * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n     * necessary to represent the integer part of the value in fixed-point notation, then use\r\n     * exponential notation.\r\n     *\r\n     * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n     *\r\n     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n     */\r\n    P.toPrecision = function (sd, rm) {\r\n      if (sd != null) intCheck(sd, 1, MAX);\r\n      return format(this, sd, rm, 2);\r\n    };\r\n\r\n\r\n    /*\r\n     * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n     * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n     * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n     * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n     * TO_EXP_NEG, return exponential notation.\r\n     *\r\n     * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n     *\r\n     * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n     */\r\n    P.toString = function (b) {\r\n      var str,\r\n        n = this,\r\n        s = n.s,\r\n        e = n.e;\r\n\r\n      // Infinity or NaN?\r\n      if (e === null) {\r\n        if (s) {\r\n          str = 'Infinity';\r\n          if (s < 0) str = '-' + str;\r\n        } else {\r\n          str = 'NaN';\r\n        }\r\n      } else {\r\n        if (b == null) {\r\n          str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n           ? toExponential(coeffToString(n.c), e)\r\n           : toFixedPoint(coeffToString(n.c), e, '0');\r\n        } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n          n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n          str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n        } else {\r\n          intCheck(b, 2, ALPHABET.length, 'Base');\r\n          str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n        }\r\n\r\n        if (s < 0 && n.c[0]) str = '-' + str;\r\n      }\r\n\r\n      return str;\r\n    };\r\n\r\n\r\n    /*\r\n     * Return as toString, but do not accept a base argument, and include the minus sign for\r\n     * negative zero.\r\n     */\r\n    P.valueOf = P.toJSON = function () {\r\n      return valueOf(this);\r\n    };\r\n\r\n\r\n    P._isBigNumber = true;\r\n\r\n    if (configObject != null) BigNumber.set(configObject);\r\n\r\n    return BigNumber;\r\n  }\r\n\r\n\r\n  // PRIVATE HELPER FUNCTIONS\r\n\r\n  // These functions don't need access to variables,\r\n  // e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\n  function bitFloor(n) {\r\n    var i = n | 0;\r\n    return n > 0 || n === i ? i : i - 1;\r\n  }\r\n\r\n\r\n  // Return a coefficient array as a string of base 10 digits.\r\n  function coeffToString(a) {\r\n    var s, z,\r\n      i = 1,\r\n      j = a.length,\r\n      r = a[0] + '';\r\n\r\n    for (; i < j;) {\r\n      s = a[i++] + '';\r\n      z = LOG_BASE - s.length;\r\n      for (; z--; s = '0' + s);\r\n      r += s;\r\n    }\r\n\r\n    // Determine trailing zeros.\r\n    for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n    return r.slice(0, j + 1 || 1);\r\n  }\r\n\r\n\r\n  // Compare the value of BigNumbers x and y.\r\n  function compare(x, y) {\r\n    var a, b,\r\n      xc = x.c,\r\n      yc = y.c,\r\n      i = x.s,\r\n      j = y.s,\r\n      k = x.e,\r\n      l = y.e;\r\n\r\n    // Either NaN?\r\n    if (!i || !j) return null;\r\n\r\n    a = xc && !xc[0];\r\n    b = yc && !yc[0];\r\n\r\n    // Either zero?\r\n    if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n    // Signs differ?\r\n    if (i != j) return i;\r\n\r\n    a = i < 0;\r\n    b = k == l;\r\n\r\n    // Either Infinity?\r\n    if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n    // Compare exponents.\r\n    if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n    j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n    // Compare digit by digit.\r\n    for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n    // Compare lengths.\r\n    return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n  }\r\n\r\n\r\n  /*\r\n   * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n   */\r\n  function intCheck(n, min, max, name) {\r\n    if (n < min || n > max || n !== mathfloor(n)) {\r\n      throw Error\r\n       (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n         ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n         : ' not a primitive number: ') + String(n));\r\n    }\r\n  }\r\n\r\n\r\n  // Assumes finite n.\r\n  function isOdd(n) {\r\n    var k = n.c.length - 1;\r\n    return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n  }\r\n\r\n\r\n  function toExponential(str, e) {\r\n    return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n     (e < 0 ? 'e' : 'e+') + e;\r\n  }\r\n\r\n\r\n  function toFixedPoint(str, e, z) {\r\n    var len, zs;\r\n\r\n    // Negative exponent?\r\n    if (e < 0) {\r\n\r\n      // Prepend zeros.\r\n      for (zs = z + '.'; ++e; zs += z);\r\n      str = zs + str;\r\n\r\n    // Positive exponent\r\n    } else {\r\n      len = str.length;\r\n\r\n      // Append zeros.\r\n      if (++e > len) {\r\n        for (zs = z, e -= len; --e; zs += z);\r\n        str += zs;\r\n      } else if (e < len) {\r\n        str = str.slice(0, e) + '.' + str.slice(e);\r\n      }\r\n    }\r\n\r\n    return str;\r\n  }\r\n\r\n\r\n  // EXPORT\r\n\r\n\r\n  BigNumber = clone();\r\n  BigNumber['default'] = BigNumber.BigNumber = BigNumber;\r\n\r\n  // AMD.\r\n  if (typeof define == 'function' && define.amd) {\r\n    define(function () { return BigNumber; });\r\n\r\n  // Node.js and other environments that support module.exports.\r\n  } else if (typeof module != 'undefined' && module.exports) {\r\n    module.exports = BigNumber;\r\n\r\n  // Browser.\r\n  } else {\r\n    if (!globalObject) {\r\n      globalObject = typeof self != 'undefined' && self ? self : window;\r\n    }\r\n\r\n    globalObject.BigNumber = BigNumber;\r\n  }\r\n})(this);\r\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('body-parser')\n\n/**\n * Cache of loaded parsers.\n * @private\n */\n\nvar parsers = Object.create(null)\n\n/**\n * @typedef Parsers\n * @type {function}\n * @property {function} json\n * @property {function} raw\n * @property {function} text\n * @property {function} urlencoded\n */\n\n/**\n * Module exports.\n * @type {Parsers}\n */\n\nexports = module.exports = deprecate.function(bodyParser,\n  'bodyParser: use individual json/urlencoded middlewares')\n\n/**\n * JSON parser.\n * @public\n */\n\nObject.defineProperty(exports, 'json', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('json')\n})\n\n/**\n * Raw parser.\n * @public\n */\n\nObject.defineProperty(exports, 'raw', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('raw')\n})\n\n/**\n * Text parser.\n * @public\n */\n\nObject.defineProperty(exports, 'text', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('text')\n})\n\n/**\n * URL-encoded parser.\n * @public\n */\n\nObject.defineProperty(exports, 'urlencoded', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('urlencoded')\n})\n\n/**\n * Create a middleware to parse json and urlencoded bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @deprecated\n * @public\n */\n\nfunction bodyParser (options) {\n  // use default type for parsers\n  var opts = Object.create(options || null, {\n    type: {\n      configurable: true,\n      enumerable: true,\n      value: undefined,\n      writable: true\n    }\n  })\n\n  var _urlencoded = exports.urlencoded(opts)\n  var _json = exports.json(opts)\n\n  return function bodyParser (req, res, next) {\n    _json(req, res, function (err) {\n      if (err) return next(err)\n      _urlencoded(req, res, next)\n    })\n  }\n}\n\n/**\n * Create a getter for loading a parser.\n * @private\n */\n\nfunction createParserGetter (name) {\n  return function get () {\n    return loadParser(name)\n  }\n}\n\n/**\n * Load a parser module.\n * @private\n */\n\nfunction loadParser (parserName) {\n  var parser = parsers[parserName]\n\n  if (parser !== undefined) {\n    return parser\n  }\n\n  // this uses a switch for static require analysis\n  switch (parserName) {\n    case 'json':\n      parser = require('./lib/types/json')\n      break\n    case 'raw':\n      parser = require('./lib/types/raw')\n      break\n    case 'text':\n      parser = require('./lib/types/text')\n      break\n    case 'urlencoded':\n      parser = require('./lib/types/urlencoded')\n      break\n  }\n\n  // store to prevent invoking require()\n  return (parsers[parserName] = parser)\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar destroy = require('destroy')\nvar getBody = require('raw-body')\nvar iconv = require('iconv-lite')\nvar onFinished = require('on-finished')\nvar unpipe = require('unpipe')\nvar zlib = require('zlib')\n\n/**\n * Module exports.\n */\n\nmodule.exports = read\n\n/**\n * Read a request into a buffer and parse.\n *\n * @param {object} req\n * @param {object} res\n * @param {function} next\n * @param {function} parse\n * @param {function} debug\n * @param {object} options\n * @private\n */\n\nfunction read (req, res, next, parse, debug, options) {\n  var length\n  var opts = options\n  var stream\n\n  // flag as parsed\n  req._body = true\n\n  // read options\n  var encoding = opts.encoding !== null\n    ? opts.encoding\n    : null\n  var verify = opts.verify\n\n  try {\n    // get the content stream\n    stream = contentstream(req, debug, opts.inflate)\n    length = stream.length\n    stream.length = undefined\n  } catch (err) {\n    return next(err)\n  }\n\n  // set raw-body options\n  opts.length = length\n  opts.encoding = verify\n    ? null\n    : encoding\n\n  // assert charset is supported\n  if (opts.encoding === null && encoding !== null && !iconv.encodingExists(encoding)) {\n    return next(createError(415, 'unsupported charset \"' + encoding.toUpperCase() + '\"', {\n      charset: encoding.toLowerCase(),\n      type: 'charset.unsupported'\n    }))\n  }\n\n  // read body\n  debug('read body')\n  getBody(stream, opts, function (error, body) {\n    if (error) {\n      var _error\n\n      if (error.type === 'encoding.unsupported') {\n        // echo back charset\n        _error = createError(415, 'unsupported charset \"' + encoding.toUpperCase() + '\"', {\n          charset: encoding.toLowerCase(),\n          type: 'charset.unsupported'\n        })\n      } else {\n        // set status code on error\n        _error = createError(400, error)\n      }\n\n      // unpipe from stream and destroy\n      if (stream !== req) {\n        unpipe(req)\n        destroy(stream, true)\n      }\n\n      // read off entire request\n      dump(req, function onfinished () {\n        next(createError(400, _error))\n      })\n      return\n    }\n\n    // verify\n    if (verify) {\n      try {\n        debug('verify body')\n        verify(req, res, body, encoding)\n      } catch (err) {\n        next(createError(403, err, {\n          body: body,\n          type: err.type || 'entity.verify.failed'\n        }))\n        return\n      }\n    }\n\n    // parse\n    var str = body\n    try {\n      debug('parse body')\n      str = typeof body !== 'string' && encoding !== null\n        ? iconv.decode(body, encoding)\n        : body\n      req.body = parse(str)\n    } catch (err) {\n      next(createError(400, err, {\n        body: str,\n        type: err.type || 'entity.parse.failed'\n      }))\n      return\n    }\n\n    next()\n  })\n}\n\n/**\n * Get the content stream of the request.\n *\n * @param {object} req\n * @param {function} debug\n * @param {boolean} [inflate=true]\n * @return {object}\n * @api private\n */\n\nfunction contentstream (req, debug, inflate) {\n  var encoding = (req.headers['content-encoding'] || 'identity').toLowerCase()\n  var length = req.headers['content-length']\n  var stream\n\n  debug('content-encoding \"%s\"', encoding)\n\n  if (inflate === false && encoding !== 'identity') {\n    throw createError(415, 'content encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n\n  switch (encoding) {\n    case 'deflate':\n      stream = zlib.createInflate()\n      debug('inflate body')\n      req.pipe(stream)\n      break\n    case 'gzip':\n      stream = zlib.createGunzip()\n      debug('gunzip body')\n      req.pipe(stream)\n      break\n    case 'identity':\n      stream = req\n      stream.length = length\n      break\n    default:\n      throw createError(415, 'unsupported content encoding \"' + encoding + '\"', {\n        encoding: encoding,\n        type: 'encoding.unsupported'\n      })\n  }\n\n  return stream\n}\n\n/**\n * Dump the contents of a request.\n *\n * @param {object} req\n * @param {function} callback\n * @api private\n */\n\nfunction dump (req, callback) {\n  if (onFinished.isFinished(req)) {\n    callback(null)\n  } else {\n    onFinished(req, callback)\n    req.resume()\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar createError = require('http-errors')\nvar debug = require('debug')('body-parser:json')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = json\n\n/**\n * RegExp to match the first non-space in a string.\n *\n * Allowed whitespace is defined in RFC 7159:\n *\n *    ws = *(\n *            %x20 /              ; Space\n *            %x09 /              ; Horizontal tab\n *            %x0A /              ; Line feed or New line\n *            %x0D )              ; Carriage return\n */\n\nvar FIRST_CHAR_REGEXP = /^[\\x20\\x09\\x0a\\x0d]*([^\\x20\\x09\\x0a\\x0d])/ // eslint-disable-line no-control-regex\n\nvar JSON_SYNTAX_CHAR = '#'\nvar JSON_SYNTAX_REGEXP = /#+/g\n\n/**\n * Create a middleware to parse JSON bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction json (options) {\n  var opts = options || {}\n\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var inflate = opts.inflate !== false\n  var reviver = opts.reviver\n  var strict = opts.strict !== false\n  var type = opts.type || 'application/json'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (body) {\n    if (body.length === 0) {\n      // special-case empty json body, as it's a common client-side mistake\n      // TODO: maybe make this configurable or part of \"strict\" option\n      return {}\n    }\n\n    if (strict) {\n      var first = firstchar(body)\n\n      if (first !== '{' && first !== '[') {\n        debug('strict violation')\n        throw createStrictSyntaxError(body, first)\n      }\n    }\n\n    try {\n      debug('parse json')\n      return JSON.parse(body, reviver)\n    } catch (e) {\n      throw normalizeJsonSyntaxError(e, {\n        message: e.message,\n        stack: e.stack\n      })\n    }\n  }\n\n  return function jsonParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // assert charset per RFC 7159 sec 8.1\n    var charset = getCharset(req) || 'utf-8'\n    if (charset.slice(0, 4) !== 'utf-') {\n      debug('invalid charset')\n      next(createError(415, 'unsupported charset \"' + charset.toUpperCase() + '\"', {\n        charset: charset,\n        type: 'charset.unsupported'\n      }))\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: charset,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Create strict violation syntax error matching native error.\n *\n * @param {string} str\n * @param {string} char\n * @return {Error}\n * @private\n */\n\nfunction createStrictSyntaxError (str, char) {\n  var index = str.indexOf(char)\n  var partial = ''\n\n  if (index !== -1) {\n    partial = str.substring(0, index) + JSON_SYNTAX_CHAR\n\n    for (var i = index + 1; i < str.length; i++) {\n      partial += JSON_SYNTAX_CHAR\n    }\n  }\n\n  try {\n    JSON.parse(partial); /* istanbul ignore next */ throw new SyntaxError('strict violation')\n  } catch (e) {\n    return normalizeJsonSyntaxError(e, {\n      message: e.message.replace(JSON_SYNTAX_REGEXP, function (placeholder) {\n        return str.substring(index, index + placeholder.length)\n      }),\n      stack: e.stack\n    })\n  }\n}\n\n/**\n * Get the first non-whitespace character in a string.\n *\n * @param {string} str\n * @return {function}\n * @private\n */\n\nfunction firstchar (str) {\n  var match = FIRST_CHAR_REGEXP.exec(str)\n\n  return match\n    ? match[1]\n    : undefined\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch (e) {\n    return undefined\n  }\n}\n\n/**\n * Normalize a SyntaxError for JSON.parse.\n *\n * @param {SyntaxError} error\n * @param {object} obj\n * @return {SyntaxError}\n */\n\nfunction normalizeJsonSyntaxError (error, obj) {\n  var keys = Object.getOwnPropertyNames(error)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    if (key !== 'stack' && key !== 'message') {\n      delete error[key]\n    }\n  }\n\n  // replace stack before message for Node.js 0.10 and below\n  error.stack = obj.stack.replace(error.message, obj.message)\n  error.message = obj.message\n\n  return error\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n */\n\nvar bytes = require('bytes')\nvar debug = require('debug')('body-parser:raw')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = raw\n\n/**\n * Create a middleware to parse raw bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @api public\n */\n\nfunction raw (options) {\n  var opts = options || {}\n\n  var inflate = opts.inflate !== false\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var type = opts.type || 'application/octet-stream'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (buf) {\n    return buf\n  }\n\n  return function rawParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: null,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar debug = require('debug')('body-parser:text')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = text\n\n/**\n * Create a middleware to parse text bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @api public\n */\n\nfunction text (options) {\n  var opts = options || {}\n\n  var defaultCharset = opts.defaultCharset || 'utf-8'\n  var inflate = opts.inflate !== false\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var type = opts.type || 'text/plain'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (buf) {\n    return buf\n  }\n\n  return function textParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // get charset\n    var charset = getCharset(req) || defaultCharset\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: charset,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch (e) {\n    return undefined\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar createError = require('http-errors')\nvar debug = require('debug')('body-parser:urlencoded')\nvar deprecate = require('depd')('body-parser')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = urlencoded\n\n/**\n * Cache of parser modules.\n */\n\nvar parsers = Object.create(null)\n\n/**\n * Create a middleware to parse urlencoded bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction urlencoded (options) {\n  var opts = options || {}\n\n  // notice because option default will flip in next major\n  if (opts.extended === undefined) {\n    deprecate('undefined extended: provide extended option')\n  }\n\n  var extended = opts.extended !== false\n  var inflate = opts.inflate !== false\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var type = opts.type || 'application/x-www-form-urlencoded'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate query parser\n  var queryparse = extended\n    ? extendedparser(opts)\n    : simpleparser(opts)\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (body) {\n    return body.length\n      ? queryparse(body)\n      : {}\n  }\n\n  return function urlencodedParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // assert charset\n    var charset = getCharset(req) || 'utf-8'\n    if (charset !== 'utf-8') {\n      debug('invalid charset')\n      next(createError(415, 'unsupported charset \"' + charset.toUpperCase() + '\"', {\n        charset: charset,\n        type: 'charset.unsupported'\n      }))\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      debug: debug,\n      encoding: charset,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Get the extended query parser.\n *\n * @param {object} options\n */\n\nfunction extendedparser (options) {\n  var parameterLimit = options.parameterLimit !== undefined\n    ? options.parameterLimit\n    : 1000\n  var parse = parser('qs')\n\n  if (isNaN(parameterLimit) || parameterLimit < 1) {\n    throw new TypeError('option parameterLimit must be a positive number')\n  }\n\n  if (isFinite(parameterLimit)) {\n    parameterLimit = parameterLimit | 0\n  }\n\n  return function queryparse (body) {\n    var paramCount = parameterCount(body, parameterLimit)\n\n    if (paramCount === undefined) {\n      debug('too many parameters')\n      throw createError(413, 'too many parameters', {\n        type: 'parameters.too.many'\n      })\n    }\n\n    var arrayLimit = Math.max(100, paramCount)\n\n    debug('parse extended urlencoding')\n    return parse(body, {\n      allowPrototypes: true,\n      arrayLimit: arrayLimit,\n      depth: Infinity,\n      parameterLimit: parameterLimit\n    })\n  }\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch (e) {\n    return undefined\n  }\n}\n\n/**\n * Count the number of parameters, stopping once limit reached\n *\n * @param {string} body\n * @param {number} limit\n * @api private\n */\n\nfunction parameterCount (body, limit) {\n  var count = 0\n  var index = 0\n\n  while ((index = body.indexOf('&', index)) !== -1) {\n    count++\n    index++\n\n    if (count === limit) {\n      return undefined\n    }\n  }\n\n  return count\n}\n\n/**\n * Get parser for module name dynamically.\n *\n * @param {string} name\n * @return {function}\n * @api private\n */\n\nfunction parser (name) {\n  var mod = parsers[name]\n\n  if (mod !== undefined) {\n    return mod.parse\n  }\n\n  // this uses a switch for static require analysis\n  switch (name) {\n    case 'qs':\n      mod = require('qs')\n      break\n    case 'querystring':\n      mod = require('querystring')\n      break\n  }\n\n  // store to prevent invoking require()\n  parsers[name] = mod\n\n  return mod.parse\n}\n\n/**\n * Get the simple query parser.\n *\n * @param {object} options\n */\n\nfunction simpleparser (options) {\n  var parameterLimit = options.parameterLimit !== undefined\n    ? options.parameterLimit\n    : 1000\n  var parse = parser('querystring')\n\n  if (isNaN(parameterLimit) || parameterLimit < 1) {\n    throw new TypeError('option parameterLimit must be a positive number')\n  }\n\n  if (isFinite(parameterLimit)) {\n    parameterLimit = parameterLimit | 0\n  }\n\n  return function queryparse (body) {\n    var paramCount = parameterCount(body, parameterLimit)\n\n    if (paramCount === undefined) {\n      debug('too many parameters')\n      throw createError(413, 'too many parameters', {\n        type: 'parameters.too.many'\n      })\n    }\n\n    debug('parse urlencoding')\n    return parse(body, undefined, undefined, { maxKeys: parameterLimit })\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","/*jshint node:true */\n'use strict';\nvar Buffer = require('buffer').Buffer; // browserify\nvar SlowBuffer = require('buffer').SlowBuffer;\n\nmodule.exports = bufferEq;\n\nfunction bufferEq(a, b) {\n\n  // shortcutting on type is necessary for correctness\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    return false;\n  }\n\n  // buffer sizes should be well-known information, so despite this\n  // shortcutting, it doesn't leak any information about the *contents* of the\n  // buffers.\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  var c = 0;\n  for (var i = 0; i < a.length; i++) {\n    /*jshint bitwise:false */\n    c |= a[i] ^ b[i]; // XOR\n  }\n  return c === 0;\n}\n\nbufferEq.install = function() {\n  Buffer.prototype.equal = SlowBuffer.prototype.equal = function equal(that) {\n    return bufferEq(this, that);\n  };\n};\n\nvar origBufEqual = Buffer.prototype.equal;\nvar origSlowBufEqual = SlowBuffer.prototype.equal;\nbufferEq.restore = function() {\n  Buffer.prototype.equal = origBufEqual;\n  SlowBuffer.prototype.equal = origSlowBufEqual;\n};\n","/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.split('.').map(function (s, i) {\n      return i === 0\n        ? s.replace(formatThousandsRegExp, thousandsSeparator)\n        : s\n    }).join('.');\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  if (isNaN(floatValue)) {\n    return null;\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\nvar setFunctionLength = require('set-function-length');\n\nvar $TypeError = require('es-errors/type');\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $defineProperty = require('es-define-property');\nvar $max = GetIntrinsic('%Math.max%');\n\nmodule.exports = function callBind(originalFunction) {\n\tif (typeof originalFunction !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\tvar func = $reflectApply(bind, $call, arguments);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + $max(0, originalFunction.length - (arguments.length - 1)),\n\t\ttrue\n\t);\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","/*!\n * content-disposition\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = contentDisposition\nmodule.exports.parse = parse\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar basename = require('path').basename\nvar Buffer = require('safe-buffer').Buffer\n\n/**\n * RegExp to match non attr-char, *after* encodeURIComponent (i.e. not including \"%\")\n * @private\n */\n\nvar ENCODE_URL_ATTR_CHAR_REGEXP = /[\\x00-\\x20\"'()*,/:;<=>?@[\\\\\\]{}\\x7f]/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match percent encoding escape.\n * @private\n */\n\nvar HEX_ESCAPE_REGEXP = /%[0-9A-Fa-f]{2}/\nvar HEX_ESCAPE_REPLACE_REGEXP = /%([0-9A-Fa-f]{2})/g\n\n/**\n * RegExp to match non-latin1 characters.\n * @private\n */\n\nvar NON_LATIN1_REGEXP = /[^\\x20-\\x7e\\xa0-\\xff]/g\n\n/**\n * RegExp to match quoted-pair in RFC 2616\n *\n * quoted-pair = \"\\\" CHAR\n * CHAR        = <any US-ASCII character (octets 0 - 127)>\n * @private\n */\n\nvar QESC_REGEXP = /\\\\([\\u0000-\\u007f])/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 2616\n * @private\n */\n\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp for various RFC 2616 grammar\n *\n * parameter     = token \"=\" ( token | quoted-string )\n * token         = 1*<any CHAR except CTLs or separators>\n * separators    = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n *               | \",\" | \";\" | \":\" | \"\\\" | <\">\n *               | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n *               | \"{\" | \"}\" | SP | HT\n * quoted-string = ( <\"> *(qdtext | quoted-pair ) <\"> )\n * qdtext        = <any TEXT except <\">>\n * quoted-pair   = \"\\\" CHAR\n * CHAR          = <any US-ASCII character (octets 0 - 127)>\n * TEXT          = <any OCTET except CTLs, but including LWS>\n * LWS           = [CRLF] 1*( SP | HT )\n * CRLF          = CR LF\n * CR            = <US-ASCII CR, carriage return (13)>\n * LF            = <US-ASCII LF, linefeed (10)>\n * SP            = <US-ASCII SP, space (32)>\n * HT            = <US-ASCII HT, horizontal-tab (9)>\n * CTL           = <any US-ASCII control character (octets 0 - 31) and DEL (127)>\n * OCTET         = <any 8-bit sequence of data>\n * @private\n */\n\nvar PARAM_REGEXP = /;[\\x09\\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*=[\\x09\\x20]*(\"(?:[\\x20!\\x23-\\x5b\\x5d-\\x7e\\x80-\\xff]|\\\\[\\x20-\\x7e])*\"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*/g // eslint-disable-line no-control-regex\nvar TEXT_REGEXP = /^[\\x20-\\x7e\\x80-\\xff]+$/\nvar TOKEN_REGEXP = /^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/\n\n/**\n * RegExp for various RFC 5987 grammar\n *\n * ext-value     = charset  \"'\" [ language ] \"'\" value-chars\n * charset       = \"UTF-8\" / \"ISO-8859-1\" / mime-charset\n * mime-charset  = 1*mime-charsetc\n * mime-charsetc = ALPHA / DIGIT\n *               / \"!\" / \"#\" / \"$\" / \"%\" / \"&\"\n *               / \"+\" / \"-\" / \"^\" / \"_\" / \"`\"\n *               / \"{\" / \"}\" / \"~\"\n * language      = ( 2*3ALPHA [ extlang ] )\n *               / 4ALPHA\n *               / 5*8ALPHA\n * extlang       = *3( \"-\" 3ALPHA )\n * value-chars   = *( pct-encoded / attr-char )\n * pct-encoded   = \"%\" HEXDIG HEXDIG\n * attr-char     = ALPHA / DIGIT\n *               / \"!\" / \"#\" / \"$\" / \"&\" / \"+\" / \"-\" / \".\"\n *               / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n * @private\n */\n\nvar EXT_VALUE_REGEXP = /^([A-Za-z0-9!#$%&+\\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/\n\n/**\n * RegExp for various RFC 6266 grammar\n *\n * disposition-type = \"inline\" | \"attachment\" | disp-ext-type\n * disp-ext-type    = token\n * disposition-parm = filename-parm | disp-ext-parm\n * filename-parm    = \"filename\" \"=\" value\n *                  | \"filename*\" \"=\" ext-value\n * disp-ext-parm    = token \"=\" value\n *                  | ext-token \"=\" ext-value\n * ext-token        = <the characters in token, followed by \"*\">\n * @private\n */\n\nvar DISPOSITION_TYPE_REGEXP = /^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*(?:$|;)/ // eslint-disable-line no-control-regex\n\n/**\n * Create an attachment Content-Disposition header.\n *\n * @param {string} [filename]\n * @param {object} [options]\n * @param {string} [options.type=attachment]\n * @param {string|boolean} [options.fallback=true]\n * @return {string}\n * @public\n */\n\nfunction contentDisposition (filename, options) {\n  var opts = options || {}\n\n  // get type\n  var type = opts.type || 'attachment'\n\n  // get parameters\n  var params = createparams(filename, opts.fallback)\n\n  // format into string\n  return format(new ContentDisposition(type, params))\n}\n\n/**\n * Create parameters object from filename and fallback.\n *\n * @param {string} [filename]\n * @param {string|boolean} [fallback=true]\n * @return {object}\n * @private\n */\n\nfunction createparams (filename, fallback) {\n  if (filename === undefined) {\n    return\n  }\n\n  var params = {}\n\n  if (typeof filename !== 'string') {\n    throw new TypeError('filename must be a string')\n  }\n\n  // fallback defaults to true\n  if (fallback === undefined) {\n    fallback = true\n  }\n\n  if (typeof fallback !== 'string' && typeof fallback !== 'boolean') {\n    throw new TypeError('fallback must be a string or boolean')\n  }\n\n  if (typeof fallback === 'string' && NON_LATIN1_REGEXP.test(fallback)) {\n    throw new TypeError('fallback must be ISO-8859-1 string')\n  }\n\n  // restrict to file base name\n  var name = basename(filename)\n\n  // determine if name is suitable for quoted string\n  var isQuotedString = TEXT_REGEXP.test(name)\n\n  // generate fallback name\n  var fallbackName = typeof fallback !== 'string'\n    ? fallback && getlatin1(name)\n    : basename(fallback)\n  var hasFallback = typeof fallbackName === 'string' && fallbackName !== name\n\n  // set extended filename parameter\n  if (hasFallback || !isQuotedString || HEX_ESCAPE_REGEXP.test(name)) {\n    params['filename*'] = name\n  }\n\n  // set filename parameter\n  if (isQuotedString || hasFallback) {\n    params.filename = hasFallback\n      ? fallbackName\n      : name\n  }\n\n  return params\n}\n\n/**\n * Format object to Content-Disposition header.\n *\n * @param {object} obj\n * @param {string} obj.type\n * @param {object} [obj.parameters]\n * @return {string}\n * @private\n */\n\nfunction format (obj) {\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || typeof type !== 'string' || !TOKEN_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  // start with normalized type\n  var string = String(type).toLowerCase()\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      var val = param.substr(-1) === '*'\n        ? ustring(parameters[param])\n        : qstring(parameters[param])\n\n      string += '; ' + param + '=' + val\n    }\n  }\n\n  return string\n}\n\n/**\n * Decode a RFC 5987 field value (gracefully).\n *\n * @param {string} str\n * @return {string}\n * @private\n */\n\nfunction decodefield (str) {\n  var match = EXT_VALUE_REGEXP.exec(str)\n\n  if (!match) {\n    throw new TypeError('invalid extended field value')\n  }\n\n  var charset = match[1].toLowerCase()\n  var encoded = match[2]\n  var value\n\n  // to binary string\n  var binary = encoded.replace(HEX_ESCAPE_REPLACE_REGEXP, pdecode)\n\n  switch (charset) {\n    case 'iso-8859-1':\n      value = getlatin1(binary)\n      break\n    case 'utf-8':\n      value = Buffer.from(binary, 'binary').toString('utf8')\n      break\n    default:\n      throw new TypeError('unsupported charset in extended field')\n  }\n\n  return value\n}\n\n/**\n * Get ISO-8859-1 version of string.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction getlatin1 (val) {\n  // simple Unicode -> ISO-8859-1 transformation\n  return String(val).replace(NON_LATIN1_REGEXP, '?')\n}\n\n/**\n * Parse Content-Disposition header string.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string || typeof string !== 'string') {\n    throw new TypeError('argument string is required')\n  }\n\n  var match = DISPOSITION_TYPE_REGEXP.exec(string)\n\n  if (!match) {\n    throw new TypeError('invalid type format')\n  }\n\n  // normalize type\n  var index = match[0].length\n  var type = match[1].toLowerCase()\n\n  var key\n  var names = []\n  var params = {}\n  var value\n\n  // calculate index to start at\n  index = PARAM_REGEXP.lastIndex = match[0].substr(-1) === ';'\n    ? index - 1\n    : index\n\n  // match parameters\n  while ((match = PARAM_REGEXP.exec(string))) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (names.indexOf(key) !== -1) {\n      throw new TypeError('invalid duplicate parameter')\n    }\n\n    names.push(key)\n\n    if (key.indexOf('*') + 1 === key.length) {\n      // decode extended value\n      key = key.slice(0, -1)\n      value = decodefield(value)\n\n      // overwrite existing value\n      params[key] = value\n      continue\n    }\n\n    if (typeof params[key] === 'string') {\n      continue\n    }\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .substr(1, value.length - 2)\n        .replace(QESC_REGEXP, '$1')\n    }\n\n    params[key] = value\n  }\n\n  if (index !== -1 && index !== string.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  return new ContentDisposition(type, params)\n}\n\n/**\n * Percent decode a single character.\n *\n * @param {string} str\n * @param {string} hex\n * @return {string}\n * @private\n */\n\nfunction pdecode (str, hex) {\n  return String.fromCharCode(parseInt(hex, 16))\n}\n\n/**\n * Percent encode a single character.\n *\n * @param {string} char\n * @return {string}\n * @private\n */\n\nfunction pencode (char) {\n  return '%' + String(char)\n    .charCodeAt(0)\n    .toString(16)\n    .toUpperCase()\n}\n\n/**\n * Quote a string for HTTP.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Encode a Unicode string for HTTP (RFC 5987).\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction ustring (val) {\n  var str = String(val)\n\n  // percent encode as UTF-8\n  var encoded = encodeURIComponent(str)\n    .replace(ENCODE_URL_ATTR_CHAR_REGEXP, pencode)\n\n  return 'UTF-8\\'\\'' + encoded\n}\n\n/**\n * Class for parsed Content-Disposition header for v8 optimization\n *\n * @public\n * @param {string} type\n * @param {object} parameters\n * @constructor\n */\n\nfunction ContentDisposition (type, parameters) {\n  this.type = type\n  this.parameters = parameters\n}\n","/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g // eslint-disable-line no-control-regex\nvar TEXT_REGEXP = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/ // eslint-disable-line no-control-regex\nvar TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar QESC_REGEXP = /\\\\([\\u000b\\u0020-\\u00ff])/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar TYPE_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!TOKEN_REGEXP.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  var header = typeof string === 'object'\n    ? getcontenttype(string)\n    : string\n\n  if (typeof header !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = header.indexOf(';')\n  var type = index !== -1\n    ? header.slice(0, index).trim()\n    : header.trim()\n\n  if (!TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var obj = new ContentType(type.toLowerCase())\n\n  // parse parameters\n  if (index !== -1) {\n    var key\n    var match\n    var value\n\n    PARAM_REGEXP.lastIndex = index\n\n    while ((match = PARAM_REGEXP.exec(header))) {\n      if (match.index !== index) {\n        throw new TypeError('invalid parameter format')\n      }\n\n      index += match[0].length\n      key = match[1].toLowerCase()\n      value = match[2]\n\n      if (value.charCodeAt(0) === 0x22 /* \" */) {\n        // remove quotes\n        value = value.slice(1, -1)\n\n        // remove escapes\n        if (value.indexOf('\\\\') !== -1) {\n          value = value.replace(QESC_REGEXP, '$1')\n        }\n      }\n\n      obj.parameters[key] = value\n    }\n\n    if (index !== header.length) {\n      throw new TypeError('invalid parameter format')\n    }\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype (obj) {\n  var header\n\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    header = obj.getHeader('content-type')\n  } else if (typeof obj.headers === 'object') {\n    // req-like\n    header = obj.headers && obj.headers['content-type']\n  }\n\n  if (typeof header !== 'string') {\n    throw new TypeError('content-type header is missing from object')\n  }\n\n  return header\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (TOKEN_REGEXP.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !TEXT_REGEXP.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType (type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n","/**\n * Module dependencies.\n */\n\nvar crypto = require('crypto');\n\n/**\n * Sign the given `val` with `secret`.\n *\n * @param {String} val\n * @param {String} secret\n * @return {String}\n * @api private\n */\n\nexports.sign = function(val, secret){\n  if ('string' != typeof val) throw new TypeError(\"Cookie value must be provided as a string.\");\n  if ('string' != typeof secret) throw new TypeError(\"Secret string must be provided.\");\n  return val + '.' + crypto\n    .createHmac('sha256', secret)\n    .update(val)\n    .digest('base64')\n    .replace(/\\=+$/, '');\n};\n\n/**\n * Unsign and decode the given `val` with `secret`,\n * returning `false` if the signature is invalid.\n *\n * @param {String} val\n * @param {String} secret\n * @return {String|Boolean}\n * @api private\n */\n\nexports.unsign = function(val, secret){\n  if ('string' != typeof val) throw new TypeError(\"Signed cookie string must be provided.\");\n  if ('string' != typeof secret) throw new TypeError(\"Secret string must be provided.\");\n  var str = val.slice(0, val.lastIndexOf('.'))\n    , mac = exports.sign(str, secret);\n  \n  return sha1(mac) == sha1(val) ? str : false;\n};\n\n/**\n * Private\n */\n\nfunction sha1(str){\n  return crypto.createHash('sha1').update(str).digest('hex');\n}\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var dec = opt.decode || decode;\n\n  var index = 0\n  while (index < str.length) {\n    var eqIdx = str.indexOf('=', index)\n\n    // no more cookie pairs\n    if (eqIdx === -1) {\n      break\n    }\n\n    var endIdx = str.indexOf(';', index)\n\n    if (endIdx === -1) {\n      endIdx = str.length\n    } else if (endIdx < eqIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1\n      continue\n    }\n\n    var key = str.slice(index, eqIdx).trim()\n\n    // only assign once\n    if (undefined === obj[key]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim()\n\n      // quoted values\n      if (val.charCodeAt(0) === 0x22) {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.partitioned) {\n    str += '; Partitioned'\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase()\n      : opt.priority\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * URL-encode value.\n *\n * @param {string} val\n * @returns {string}\n */\n\nfunction encode (val) {\n  return encodeURIComponent(val)\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]' ||\n    val instanceof Date\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\n\nvar gopd = require('gopd');\n\n/** @type {import('.')} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n","/*!\n * depd\n * Copyright(c) 2014-2018 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar relative = require('path').relative\n\n/**\n * Module exports.\n */\n\nmodule.exports = depd\n\n/**\n * Get the path to base files on.\n */\n\nvar basePath = process.cwd()\n\n/**\n * Determine if namespace is contained in the string.\n */\n\nfunction containsNamespace (str, namespace) {\n  var vals = str.split(/[ ,]+/)\n  var ns = String(namespace).toLowerCase()\n\n  for (var i = 0; i < vals.length; i++) {\n    var val = vals[i]\n\n    // namespace contained\n    if (val && (val === '*' || val.toLowerCase() === ns)) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Convert a data descriptor to accessor descriptor.\n */\n\nfunction convertDataDescriptorToAccessor (obj, prop, message) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n  var value = descriptor.value\n\n  descriptor.get = function getter () { return value }\n\n  if (descriptor.writable) {\n    descriptor.set = function setter (val) { return (value = val) }\n  }\n\n  delete descriptor.value\n  delete descriptor.writable\n\n  Object.defineProperty(obj, prop, descriptor)\n\n  return descriptor\n}\n\n/**\n * Create arguments string to keep arity.\n */\n\nfunction createArgumentsString (arity) {\n  var str = ''\n\n  for (var i = 0; i < arity; i++) {\n    str += ', arg' + i\n  }\n\n  return str.substr(2)\n}\n\n/**\n * Create stack string from stack.\n */\n\nfunction createStackString (stack) {\n  var str = this.name + ': ' + this.namespace\n\n  if (this.message) {\n    str += ' deprecated ' + this.message\n  }\n\n  for (var i = 0; i < stack.length; i++) {\n    str += '\\n    at ' + stack[i].toString()\n  }\n\n  return str\n}\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n  var file = site[0]\n\n  function deprecate (message) {\n    // call to self as log\n    log.call(deprecate, message)\n  }\n\n  deprecate._file = file\n  deprecate._ignored = isignored(namespace)\n  deprecate._namespace = namespace\n  deprecate._traced = istraced(namespace)\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Determine if event emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.8\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction eehaslisteners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Determine if namespace is ignored.\n */\n\nfunction isignored (namespace) {\n  if (process.noDeprecation) {\n    // --no-deprecation support\n    return true\n  }\n\n  var str = process.env.NO_DEPRECATION || ''\n\n  // namespace ignored\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Determine if namespace is traced.\n */\n\nfunction istraced (namespace) {\n  if (process.traceDeprecation) {\n    // --trace-deprecation support\n    return true\n  }\n\n  var str = process.env.TRACE_DEPRECATION || ''\n\n  // namespace traced\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Display deprecation message.\n */\n\nfunction log (message, site) {\n  var haslisteners = eehaslisteners(process, 'deprecation')\n\n  // abort early if no destination\n  if (!haslisteners && this._ignored) {\n    return\n  }\n\n  var caller\n  var callFile\n  var callSite\n  var depSite\n  var i = 0\n  var seen = false\n  var stack = getStack()\n  var file = this._file\n\n  if (site) {\n    // provided site\n    depSite = site\n    callSite = callSiteLocation(stack[1])\n    callSite.name = depSite.name\n    file = callSite[0]\n  } else {\n    // get call site\n    i = 2\n    depSite = callSiteLocation(stack[i])\n    callSite = depSite\n  }\n\n  // get caller of deprecated thing in relation to file\n  for (; i < stack.length; i++) {\n    caller = callSiteLocation(stack[i])\n    callFile = caller[0]\n\n    if (callFile === file) {\n      seen = true\n    } else if (callFile === this._file) {\n      file = this._file\n    } else if (seen) {\n      break\n    }\n  }\n\n  var key = caller\n    ? depSite.join(':') + '__' + caller.join(':')\n    : undefined\n\n  if (key !== undefined && key in this._warned) {\n    // already warned\n    return\n  }\n\n  this._warned[key] = true\n\n  // generate automatic message from call site\n  var msg = message\n  if (!msg) {\n    msg = callSite === depSite || !callSite.name\n      ? defaultMessage(depSite)\n      : defaultMessage(callSite)\n  }\n\n  // emit deprecation if listeners exist\n  if (haslisteners) {\n    var err = DeprecationError(this._namespace, msg, stack.slice(i))\n    process.emit('deprecation', err)\n    return\n  }\n\n  // format and write message\n  var format = process.stderr.isTTY\n    ? formatColor\n    : formatPlain\n  var output = format.call(this, msg, caller, stack.slice(i))\n  process.stderr.write(output + '\\n', 'utf8')\n}\n\n/**\n * Get call site location as array.\n */\n\nfunction callSiteLocation (callSite) {\n  var file = callSite.getFileName() || '<anonymous>'\n  var line = callSite.getLineNumber()\n  var colm = callSite.getColumnNumber()\n\n  if (callSite.isEval()) {\n    file = callSite.getEvalOrigin() + ', ' + file\n  }\n\n  var site = [file, line, colm]\n\n  site.callSite = callSite\n  site.name = callSite.getFunctionName()\n\n  return site\n}\n\n/**\n * Generate a default message from the site.\n */\n\nfunction defaultMessage (site) {\n  var callSite = site.callSite\n  var funcName = site.name\n\n  // make useful anonymous name\n  if (!funcName) {\n    funcName = '<anonymous@' + formatLocation(site) + '>'\n  }\n\n  var context = callSite.getThis()\n  var typeName = context && callSite.getTypeName()\n\n  // ignore useless type name\n  if (typeName === 'Object') {\n    typeName = undefined\n  }\n\n  // make useful type name\n  if (typeName === 'Function') {\n    typeName = context.name || typeName\n  }\n\n  return typeName && callSite.getMethodName()\n    ? typeName + '.' + funcName\n    : funcName\n}\n\n/**\n * Format deprecation message without color.\n */\n\nfunction formatPlain (msg, caller, stack) {\n  var timestamp = new Date().toUTCString()\n\n  var formatted = timestamp +\n    ' ' + this._namespace +\n    ' deprecated ' + msg\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    at ' + stack[i].toString()\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' at ' + formatLocation(caller)\n  }\n\n  return formatted\n}\n\n/**\n * Format deprecation message with color.\n */\n\nfunction formatColor (msg, caller, stack) {\n  var formatted = '\\x1b[36;1m' + this._namespace + '\\x1b[22;39m' + // bold cyan\n    ' \\x1b[33;1mdeprecated\\x1b[22;39m' + // bold yellow\n    ' \\x1b[0m' + msg + '\\x1b[39m' // reset\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    \\x1b[36mat ' + stack[i].toString() + '\\x1b[39m' // cyan\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' \\x1b[36m' + formatLocation(caller) + '\\x1b[39m' // cyan\n  }\n\n  return formatted\n}\n\n/**\n * Format call site location.\n */\n\nfunction formatLocation (callSite) {\n  return relative(basePath, callSite[0]) +\n    ':' + callSite[1] +\n    ':' + callSite[2]\n}\n\n/**\n * Get the stack as array of call sites.\n */\n\nfunction getStack () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = Math.max(10, limit)\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice this function off the top\n  var stack = obj.stack.slice(1)\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack\n}\n\n/**\n * Capture call site stack from v8.\n */\n\nfunction prepareObjectStackTrace (obj, stack) {\n  return stack\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  var args = createArgumentsString(fn.length)\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  site.name = fn.name\n\n  // eslint-disable-next-line no-new-func\n  var deprecatedfn = new Function('fn', 'log', 'deprecate', 'message', 'site',\n    '\"use strict\"\\n' +\n    'return function (' + args + ') {' +\n    'log.call(deprecate, message, site)\\n' +\n    'return fn.apply(this, arguments)\\n' +\n    '}')(fn, log, this, message, site)\n\n  return deprecatedfn\n}\n\n/**\n * Wrap property in a deprecation message.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  // set site name\n  site.name = prop\n\n  // convert data descriptor\n  if ('value' in descriptor) {\n    descriptor = convertDataDescriptorToAccessor(obj, prop, message)\n  }\n\n  var get = descriptor.get\n  var set = descriptor.set\n\n  // wrap getter\n  if (typeof get === 'function') {\n    descriptor.get = function getter () {\n      log.call(deprecate, message, site)\n      return get.apply(this, arguments)\n    }\n  }\n\n  // wrap setter\n  if (typeof set === 'function') {\n    descriptor.set = function setter () {\n      log.call(deprecate, message, site)\n      return set.apply(this, arguments)\n    }\n  }\n\n  Object.defineProperty(obj, prop, descriptor)\n}\n\n/**\n * Create DeprecationError for deprecation\n */\n\nfunction DeprecationError (namespace, message, stack) {\n  var error = new Error()\n  var stackString\n\n  Object.defineProperty(error, 'constructor', {\n    value: DeprecationError\n  })\n\n  Object.defineProperty(error, 'message', {\n    configurable: true,\n    enumerable: false,\n    value: message,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'name', {\n    enumerable: false,\n    configurable: true,\n    value: 'DeprecationError',\n    writable: true\n  })\n\n  Object.defineProperty(error, 'namespace', {\n    configurable: true,\n    enumerable: false,\n    value: namespace,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'stack', {\n    configurable: true,\n    enumerable: false,\n    get: function () {\n      if (stackString !== undefined) {\n        return stackString\n      }\n\n      // prepare stack trace\n      return (stackString = createStackString.call(this, stack))\n    },\n    set: function setter (val) {\n      stackString = val\n    }\n  })\n\n  return error\n}\n","/*!\n * destroy\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar EventEmitter = require('events').EventEmitter\nvar ReadStream = require('fs').ReadStream\nvar Stream = require('stream')\nvar Zlib = require('zlib')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = destroy\n\n/**\n * Destroy the given stream, and optionally suppress any future `error` events.\n *\n * @param {object} stream\n * @param {boolean} suppress\n * @public\n */\n\nfunction destroy (stream, suppress) {\n  if (isFsReadStream(stream)) {\n    destroyReadStream(stream)\n  } else if (isZlibStream(stream)) {\n    destroyZlibStream(stream)\n  } else if (hasDestroy(stream)) {\n    stream.destroy()\n  }\n\n  if (isEventEmitter(stream) && suppress) {\n    stream.removeAllListeners('error')\n    stream.addListener('error', noop)\n  }\n\n  return stream\n}\n\n/**\n * Destroy a ReadStream.\n *\n * @param {object} stream\n * @private\n */\n\nfunction destroyReadStream (stream) {\n  stream.destroy()\n\n  if (typeof stream.close === 'function') {\n    // node.js core bug work-around\n    stream.on('open', onOpenClose)\n  }\n}\n\n/**\n * Close a Zlib stream.\n *\n * Zlib streams below Node.js 4.5.5 have a buggy implementation\n * of .close() when zlib encountered an error.\n *\n * @param {object} stream\n * @private\n */\n\nfunction closeZlibStream (stream) {\n  if (stream._hadError === true) {\n    var prop = stream._binding === null\n      ? '_binding'\n      : '_handle'\n\n    stream[prop] = {\n      close: function () { this[prop] = null }\n    }\n  }\n\n  stream.close()\n}\n\n/**\n * Destroy a Zlib stream.\n *\n * Zlib streams don't have a destroy function in Node.js 6. On top of that\n * simply calling destroy on a zlib stream in Node.js 8+ will result in a\n * memory leak. So until that is fixed, we need to call both close AND destroy.\n *\n * PR to fix memory leak: https://github.com/nodejs/node/pull/23734\n *\n * In Node.js 6+8, it's important that destroy is called before close as the\n * stream would otherwise emit the error 'zlib binding closed'.\n *\n * @param {object} stream\n * @private\n */\n\nfunction destroyZlibStream (stream) {\n  if (typeof stream.destroy === 'function') {\n    // node.js core bug work-around\n    // istanbul ignore if: node.js 0.8\n    if (stream._binding) {\n      // node.js < 0.10.0\n      stream.destroy()\n      if (stream._processing) {\n        stream._needDrain = true\n        stream.once('drain', onDrainClearBinding)\n      } else {\n        stream._binding.clear()\n      }\n    } else if (stream._destroy && stream._destroy !== Stream.Transform.prototype._destroy) {\n      // node.js >= 12, ^11.1.0, ^10.15.1\n      stream.destroy()\n    } else if (stream._destroy && typeof stream.close === 'function') {\n      // node.js 7, 8\n      stream.destroyed = true\n      stream.close()\n    } else {\n      // fallback\n      // istanbul ignore next\n      stream.destroy()\n    }\n  } else if (typeof stream.close === 'function') {\n    // node.js < 8 fallback\n    closeZlibStream(stream)\n  }\n}\n\n/**\n * Determine if stream has destroy.\n * @private\n */\n\nfunction hasDestroy (stream) {\n  return stream instanceof Stream &&\n    typeof stream.destroy === 'function'\n}\n\n/**\n * Determine if val is EventEmitter.\n * @private\n */\n\nfunction isEventEmitter (val) {\n  return val instanceof EventEmitter\n}\n\n/**\n * Determine if stream is fs.ReadStream stream.\n * @private\n */\n\nfunction isFsReadStream (stream) {\n  return stream instanceof ReadStream\n}\n\n/**\n * Determine if stream is Zlib stream.\n * @private\n */\n\nfunction isZlibStream (stream) {\n  return stream instanceof Zlib.Gzip ||\n    stream instanceof Zlib.Gunzip ||\n    stream instanceof Zlib.Deflate ||\n    stream instanceof Zlib.DeflateRaw ||\n    stream instanceof Zlib.Inflate ||\n    stream instanceof Zlib.InflateRaw ||\n    stream instanceof Zlib.Unzip\n}\n\n/**\n * No-op function.\n * @private\n */\n\nfunction noop () {}\n\n/**\n * On drain handler to clear binding.\n * @private\n */\n\n// istanbul ignore next: node.js 0.8\nfunction onDrainClearBinding () {\n  this._binding.clear()\n}\n\n/**\n * On open handler to close stream.\n * @private\n */\n\nfunction onOpenClose () {\n  if (typeof this.fd === 'number') {\n    // actually close down the fd\n    this.close()\n  }\n}\n","'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\n\nvar getParamBytesForAlg = require('./param-bytes-for-alg');\n\nvar MAX_OCTET = 0x80,\n\tCLASS_UNIVERSAL = 0,\n\tPRIMITIVE_BIT = 0x20,\n\tTAG_SEQ = 0x10,\n\tTAG_INT = 0x02,\n\tENCODED_TAG_SEQ = (TAG_SEQ | PRIMITIVE_BIT) | (CLASS_UNIVERSAL << 6),\n\tENCODED_TAG_INT = TAG_INT | (CLASS_UNIVERSAL << 6);\n\nfunction base64Url(base64) {\n\treturn base64\n\t\t.replace(/=/g, '')\n\t\t.replace(/\\+/g, '-')\n\t\t.replace(/\\//g, '_');\n}\n\nfunction signatureAsBuffer(signature) {\n\tif (Buffer.isBuffer(signature)) {\n\t\treturn signature;\n\t} else if ('string' === typeof signature) {\n\t\treturn Buffer.from(signature, 'base64');\n\t}\n\n\tthrow new TypeError('ECDSA signature must be a Base64 string or a Buffer');\n}\n\nfunction derToJose(signature, alg) {\n\tsignature = signatureAsBuffer(signature);\n\tvar paramBytes = getParamBytesForAlg(alg);\n\n\t// the DER encoded param should at most be the param size, plus a padding\n\t// zero, since due to being a signed integer\n\tvar maxEncodedParamLength = paramBytes + 1;\n\n\tvar inputLength = signature.length;\n\n\tvar offset = 0;\n\tif (signature[offset++] !== ENCODED_TAG_SEQ) {\n\t\tthrow new Error('Could not find expected \"seq\"');\n\t}\n\n\tvar seqLength = signature[offset++];\n\tif (seqLength === (MAX_OCTET | 1)) {\n\t\tseqLength = signature[offset++];\n\t}\n\n\tif (inputLength - offset < seqLength) {\n\t\tthrow new Error('\"seq\" specified length of \"' + seqLength + '\", only \"' + (inputLength - offset) + '\" remaining');\n\t}\n\n\tif (signature[offset++] !== ENCODED_TAG_INT) {\n\t\tthrow new Error('Could not find expected \"int\" for \"r\"');\n\t}\n\n\tvar rLength = signature[offset++];\n\n\tif (inputLength - offset - 2 < rLength) {\n\t\tthrow new Error('\"r\" specified length of \"' + rLength + '\", only \"' + (inputLength - offset - 2) + '\" available');\n\t}\n\n\tif (maxEncodedParamLength < rLength) {\n\t\tthrow new Error('\"r\" specified length of \"' + rLength + '\", max of \"' + maxEncodedParamLength + '\" is acceptable');\n\t}\n\n\tvar rOffset = offset;\n\toffset += rLength;\n\n\tif (signature[offset++] !== ENCODED_TAG_INT) {\n\t\tthrow new Error('Could not find expected \"int\" for \"s\"');\n\t}\n\n\tvar sLength = signature[offset++];\n\n\tif (inputLength - offset !== sLength) {\n\t\tthrow new Error('\"s\" specified length of \"' + sLength + '\", expected \"' + (inputLength - offset) + '\"');\n\t}\n\n\tif (maxEncodedParamLength < sLength) {\n\t\tthrow new Error('\"s\" specified length of \"' + sLength + '\", max of \"' + maxEncodedParamLength + '\" is acceptable');\n\t}\n\n\tvar sOffset = offset;\n\toffset += sLength;\n\n\tif (offset !== inputLength) {\n\t\tthrow new Error('Expected to consume entire buffer, but \"' + (inputLength - offset) + '\" bytes remain');\n\t}\n\n\tvar rPadding = paramBytes - rLength,\n\t\tsPadding = paramBytes - sLength;\n\n\tvar dst = Buffer.allocUnsafe(rPadding + rLength + sPadding + sLength);\n\n\tfor (offset = 0; offset < rPadding; ++offset) {\n\t\tdst[offset] = 0;\n\t}\n\tsignature.copy(dst, offset, rOffset + Math.max(-rPadding, 0), rOffset + rLength);\n\n\toffset = paramBytes;\n\n\tfor (var o = offset; offset < o + sPadding; ++offset) {\n\t\tdst[offset] = 0;\n\t}\n\tsignature.copy(dst, offset, sOffset + Math.max(-sPadding, 0), sOffset + sLength);\n\n\tdst = dst.toString('base64');\n\tdst = base64Url(dst);\n\n\treturn dst;\n}\n\nfunction countPadding(buf, start, stop) {\n\tvar padding = 0;\n\twhile (start + padding < stop && buf[start + padding] === 0) {\n\t\t++padding;\n\t}\n\n\tvar needsSign = buf[start + padding] >= MAX_OCTET;\n\tif (needsSign) {\n\t\t--padding;\n\t}\n\n\treturn padding;\n}\n\nfunction joseToDer(signature, alg) {\n\tsignature = signatureAsBuffer(signature);\n\tvar paramBytes = getParamBytesForAlg(alg);\n\n\tvar signatureBytes = signature.length;\n\tif (signatureBytes !== paramBytes * 2) {\n\t\tthrow new TypeError('\"' + alg + '\" signatures must be \"' + paramBytes * 2 + '\" bytes, saw \"' + signatureBytes + '\"');\n\t}\n\n\tvar rPadding = countPadding(signature, 0, paramBytes);\n\tvar sPadding = countPadding(signature, paramBytes, signature.length);\n\tvar rLength = paramBytes - rPadding;\n\tvar sLength = paramBytes - sPadding;\n\n\tvar rsBytes = 1 + 1 + rLength + 1 + 1 + sLength;\n\n\tvar shortLength = rsBytes < MAX_OCTET;\n\n\tvar dst = Buffer.allocUnsafe((shortLength ? 2 : 3) + rsBytes);\n\n\tvar offset = 0;\n\tdst[offset++] = ENCODED_TAG_SEQ;\n\tif (shortLength) {\n\t\t// Bit 8 has value \"0\"\n\t\t// bits 7-1 give the length.\n\t\tdst[offset++] = rsBytes;\n\t} else {\n\t\t// Bit 8 of first octet has value \"1\"\n\t\t// bits 7-1 give the number of additional length octets.\n\t\tdst[offset++] = MAX_OCTET\t| 1;\n\t\t// length, base 256\n\t\tdst[offset++] = rsBytes & 0xff;\n\t}\n\tdst[offset++] = ENCODED_TAG_INT;\n\tdst[offset++] = rLength;\n\tif (rPadding < 0) {\n\t\tdst[offset++] = 0;\n\t\toffset += signature.copy(dst, offset, 0, paramBytes);\n\t} else {\n\t\toffset += signature.copy(dst, offset, rPadding, paramBytes);\n\t}\n\tdst[offset++] = ENCODED_TAG_INT;\n\tdst[offset++] = sLength;\n\tif (sPadding < 0) {\n\t\tdst[offset++] = 0;\n\t\tsignature.copy(dst, offset, paramBytes);\n\t} else {\n\t\tsignature.copy(dst, offset, paramBytes + sPadding);\n\t}\n\n\treturn dst;\n}\n\nmodule.exports = {\n\tderToJose: derToJose,\n\tjoseToDer: joseToDer\n};\n","'use strict';\n\nfunction getParamSize(keySize) {\n\tvar result = ((keySize / 8) | 0) + (keySize % 8 === 0 ? 0 : 1);\n\treturn result;\n}\n\nvar paramBytesForAlg = {\n\tES256: getParamSize(256),\n\tES384: getParamSize(384),\n\tES512: getParamSize(521)\n};\n\nfunction getParamBytesForAlg(alg) {\n\tvar paramBytes = paramBytesForAlg[alg];\n\tif (paramBytes) {\n\t\treturn paramBytes;\n\t}\n\n\tthrow new Error('Unknown algorithm \"' + alg + '\"');\n}\n\nmodule.exports = getParamBytesForAlg;\n","/*!\n * ee-first\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = first\n\n/**\n * Get the first event in a set of event emitters and event pairs.\n *\n * @param {array} stuff\n * @param {function} done\n * @public\n */\n\nfunction first(stuff, done) {\n  if (!Array.isArray(stuff))\n    throw new TypeError('arg must be an array of [ee, events...] arrays')\n\n  var cleanups = []\n\n  for (var i = 0; i < stuff.length; i++) {\n    var arr = stuff[i]\n\n    if (!Array.isArray(arr) || arr.length < 2)\n      throw new TypeError('each array member must be [ee, events...]')\n\n    var ee = arr[0]\n\n    for (var j = 1; j < arr.length; j++) {\n      var event = arr[j]\n      var fn = listener(event, callback)\n\n      // listen to the event\n      ee.on(event, fn)\n      // push this listener to the list of cleanups\n      cleanups.push({\n        ee: ee,\n        event: event,\n        fn: fn,\n      })\n    }\n  }\n\n  function callback() {\n    cleanup()\n    done.apply(null, arguments)\n  }\n\n  function cleanup() {\n    var x\n    for (var i = 0; i < cleanups.length; i++) {\n      x = cleanups[i]\n      x.ee.removeListener(x.event, x.fn)\n    }\n  }\n\n  function thunk(fn) {\n    done = fn\n  }\n\n  thunk.cancel = cleanup\n\n  return thunk\n}\n\n/**\n * Create the event listener.\n * @private\n */\n\nfunction listener(event, done) {\n  return function onevent(arg1) {\n    var args = new Array(arguments.length)\n    var ee = this\n    var err = event === 'error'\n      ? arg1\n      : null\n\n    // copy args to prevent arguments escaping scope\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    done(err, ee, event, args)\n  }\n}\n","var path = require('path');\nvar spawn = require('child_process').spawn;\nvar debug = require('debug')('electron-squirrel-startup');\nvar app = require('electron').app;\n\nvar run = function(args, done) {\n  var updateExe = path.resolve(path.dirname(process.execPath), '..', 'Update.exe');\n  debug('Spawning `%s` with args `%s`', updateExe, args);\n  spawn(updateExe, args, {\n    detached: true\n  }).on('close', done);\n};\n\nvar check = function() {\n  if (process.platform === 'win32') {\n    var cmd = process.argv[1];\n    debug('processing squirrel command `%s`', cmd);\n    var target = path.basename(process.execPath);\n\n    if (cmd === '--squirrel-install' || cmd === '--squirrel-updated') {\n      run(['--createShortcut=' + target + ''], app.quit);\n      return true;\n    }\n    if (cmd === '--squirrel-uninstall') {\n      run(['--removeShortcut=' + target + ''], app.quit);\n      return true;\n    }\n    if (cmd === '--squirrel-obsolete') {\n      app.quit();\n      return true;\n    }\n  }\n  return false;\n};\n\nmodule.exports = check();\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","/*!\n * encodeurl\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = encodeUrl\n\n/**\n * RegExp to match non-URL code points, *after* encoding (i.e. not including \"%\")\n * and including invalid escape sequences.\n * @private\n */\n\nvar ENCODE_CHARS_REGEXP = /(?:[^\\x21\\x25\\x26-\\x3B\\x3D\\x3F-\\x5B\\x5D\\x5F\\x61-\\x7A\\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g\n\n/**\n * RegExp to match unmatched surrogate pair.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REGEXP = /(^|[^\\uD800-\\uDBFF])[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/g\n\n/**\n * String to replace unmatched surrogate pair with.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REPLACE = '$1\\uFFFD$2'\n\n/**\n * Encode a URL to a percent-encoded form, excluding already-encoded sequences.\n *\n * This function will take an already-encoded URL and encode all the non-URL\n * code points. This function will not encode the \"%\" character unless it is\n * not part of a valid sequence (`%20` will be left as-is, but `%foo` will\n * be encoded as `%25foo`).\n *\n * This encode is meant to be \"safe\" and does not throw errors. It will try as\n * hard as it can to properly encode the given URL, including replacing any raw,\n * unpaired surrogate pairs with the Unicode replacement character prior to\n * encoding.\n *\n * @param {string} url\n * @return {string}\n * @public\n */\n\nfunction encodeUrl (url) {\n  return String(url)\n    .replace(UNMATCHED_SURROGATE_PAIR_REGEXP, UNMATCHED_SURROGATE_PAIR_REPLACE)\n    .replace(ENCODE_CHARS_REGEXP, encodeURI)\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\n/** @type {import('.')} */\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true) || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","/*!\n * etag\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = etag\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar crypto = require('crypto')\nvar Stats = require('fs').Stats\n\n/**\n * Module variables.\n * @private\n */\n\nvar toString = Object.prototype.toString\n\n/**\n * Generate an entity tag.\n *\n * @param {Buffer|string} entity\n * @return {string}\n * @private\n */\n\nfunction entitytag (entity) {\n  if (entity.length === 0) {\n    // fast-path empty\n    return '\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"'\n  }\n\n  // compute hash of entity\n  var hash = crypto\n    .createHash('sha1')\n    .update(entity, 'utf8')\n    .digest('base64')\n    .substring(0, 27)\n\n  // compute length of entity\n  var len = typeof entity === 'string'\n    ? Buffer.byteLength(entity, 'utf8')\n    : entity.length\n\n  return '\"' + len.toString(16) + '-' + hash + '\"'\n}\n\n/**\n * Create a simple ETag.\n *\n * @param {string|Buffer|Stats} entity\n * @param {object} [options]\n * @param {boolean} [options.weak]\n * @return {String}\n * @public\n */\n\nfunction etag (entity, options) {\n  if (entity == null) {\n    throw new TypeError('argument entity is required')\n  }\n\n  // support fs.Stats object\n  var isStats = isstats(entity)\n  var weak = options && typeof options.weak === 'boolean'\n    ? options.weak\n    : isStats\n\n  // validate argument\n  if (!isStats && typeof entity !== 'string' && !Buffer.isBuffer(entity)) {\n    throw new TypeError('argument entity must be string, Buffer, or fs.Stats')\n  }\n\n  // generate entity tag\n  var tag = isStats\n    ? stattag(entity)\n    : entitytag(entity)\n\n  return weak\n    ? 'W/' + tag\n    : tag\n}\n\n/**\n * Determine if object is a Stats object.\n *\n * @param {object} obj\n * @return {boolean}\n * @api private\n */\n\nfunction isstats (obj) {\n  // genuine fs.Stats\n  if (typeof Stats === 'function' && obj instanceof Stats) {\n    return true\n  }\n\n  // quack quack\n  return obj && typeof obj === 'object' &&\n    'ctime' in obj && toString.call(obj.ctime) === '[object Date]' &&\n    'mtime' in obj && toString.call(obj.mtime) === '[object Date]' &&\n    'ino' in obj && typeof obj.ino === 'number' &&\n    'size' in obj && typeof obj.size === 'number'\n}\n\n/**\n * Generate a tag for a stat.\n *\n * @param {object} stat\n * @return {string}\n * @private\n */\n\nfunction stattag (stat) {\n  var mtime = stat.mtime.getTime().toString(16)\n  var size = stat.size.toString(16)\n\n  return '\"' + size + '-' + mtime + '\"'\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\nmodule.exports = require('./lib/express');\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar finalhandler = require('finalhandler');\nvar Router = require('./router');\nvar methods = require('methods');\nvar middleware = require('./middleware/init');\nvar query = require('./middleware/query');\nvar debug = require('debug')('express:application');\nvar View = require('./view');\nvar http = require('http');\nvar compileETag = require('./utils').compileETag;\nvar compileQueryParser = require('./utils').compileQueryParser;\nvar compileTrust = require('./utils').compileTrust;\nvar deprecate = require('depd')('express');\nvar flatten = require('array-flatten');\nvar merge = require('utils-merge');\nvar resolve = require('path').resolve;\nvar setPrototypeOf = require('setprototypeof')\n\n/**\n * Module variables.\n * @private\n */\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty\nvar slice = Array.prototype.slice;\n\n/**\n * Application prototype.\n */\n\nvar app = exports = module.exports = {};\n\n/**\n * Variable for trust proxy inheritance back-compat\n * @private\n */\n\nvar trustProxyDefaultSymbol = '@@symbol:trust_proxy_default';\n\n/**\n * Initialize the server.\n *\n *   - setup default configuration\n *   - setup default middleware\n *   - setup route reflection methods\n *\n * @private\n */\n\napp.init = function init() {\n  this.cache = {};\n  this.engines = {};\n  this.settings = {};\n\n  this.defaultConfiguration();\n};\n\n/**\n * Initialize application configuration.\n * @private\n */\n\napp.defaultConfiguration = function defaultConfiguration() {\n  var env = process.env.NODE_ENV || 'development';\n\n  // default settings\n  this.enable('x-powered-by');\n  this.set('etag', 'weak');\n  this.set('env', env);\n  this.set('query parser', 'extended');\n  this.set('subdomain offset', 2);\n  this.set('trust proxy', false);\n\n  // trust proxy inherit back-compat\n  Object.defineProperty(this.settings, trustProxyDefaultSymbol, {\n    configurable: true,\n    value: true\n  });\n\n  debug('booting in %s mode', env);\n\n  this.on('mount', function onmount(parent) {\n    // inherit trust proxy\n    if (this.settings[trustProxyDefaultSymbol] === true\n      && typeof parent.settings['trust proxy fn'] === 'function') {\n      delete this.settings['trust proxy'];\n      delete this.settings['trust proxy fn'];\n    }\n\n    // inherit protos\n    setPrototypeOf(this.request, parent.request)\n    setPrototypeOf(this.response, parent.response)\n    setPrototypeOf(this.engines, parent.engines)\n    setPrototypeOf(this.settings, parent.settings)\n  });\n\n  // setup locals\n  this.locals = Object.create(null);\n\n  // top-most app is mounted at /\n  this.mountpath = '/';\n\n  // default locals\n  this.locals.settings = this.settings;\n\n  // default configuration\n  this.set('view', View);\n  this.set('views', resolve('views'));\n  this.set('jsonp callback name', 'callback');\n\n  if (env === 'production') {\n    this.enable('view cache');\n  }\n\n  Object.defineProperty(this, 'router', {\n    get: function() {\n      throw new Error('\\'app.router\\' is deprecated!\\nPlease see the 3.x to 4.x migration guide for details on how to update your app.');\n    }\n  });\n};\n\n/**\n * lazily adds the base router if it has not yet been added.\n *\n * We cannot add the base router in the defaultConfiguration because\n * it reads app settings which might be set after that has run.\n *\n * @private\n */\napp.lazyrouter = function lazyrouter() {\n  if (!this._router) {\n    this._router = new Router({\n      caseSensitive: this.enabled('case sensitive routing'),\n      strict: this.enabled('strict routing')\n    });\n\n    this._router.use(query(this.get('query parser fn')));\n    this._router.use(middleware.init(this));\n  }\n};\n\n/**\n * Dispatch a req, res pair into the application. Starts pipeline processing.\n *\n * If no callback is provided, then default error handlers will respond\n * in the event of an error bubbling through the stack.\n *\n * @private\n */\n\napp.handle = function handle(req, res, callback) {\n  var router = this._router;\n\n  // final handler\n  var done = callback || finalhandler(req, res, {\n    env: this.get('env'),\n    onerror: logerror.bind(this)\n  });\n\n  // no routes\n  if (!router) {\n    debug('no routes defined on app');\n    done();\n    return;\n  }\n\n  router.handle(req, res, done);\n};\n\n/**\n * Proxy `Router#use()` to add middleware to the app router.\n * See Router#use() documentation for details.\n *\n * If the _fn_ parameter is an express app, then it will be\n * mounted at the _route_ specified.\n *\n * @public\n */\n\napp.use = function use(fn) {\n  var offset = 0;\n  var path = '/';\n\n  // default path to '/'\n  // disambiguate app.use([fn])\n  if (typeof fn !== 'function') {\n    var arg = fn;\n\n    while (Array.isArray(arg) && arg.length !== 0) {\n      arg = arg[0];\n    }\n\n    // first arg is the path\n    if (typeof arg !== 'function') {\n      offset = 1;\n      path = fn;\n    }\n  }\n\n  var fns = flatten(slice.call(arguments, offset));\n\n  if (fns.length === 0) {\n    throw new TypeError('app.use() requires a middleware function')\n  }\n\n  // setup router\n  this.lazyrouter();\n  var router = this._router;\n\n  fns.forEach(function (fn) {\n    // non-express app\n    if (!fn || !fn.handle || !fn.set) {\n      return router.use(path, fn);\n    }\n\n    debug('.use app under %s', path);\n    fn.mountpath = path;\n    fn.parent = this;\n\n    // restore .app property on req and res\n    router.use(path, function mounted_app(req, res, next) {\n      var orig = req.app;\n      fn.handle(req, res, function (err) {\n        setPrototypeOf(req, orig.request)\n        setPrototypeOf(res, orig.response)\n        next(err);\n      });\n    });\n\n    // mounted an app\n    fn.emit('mount', this);\n  }, this);\n\n  return this;\n};\n\n/**\n * Proxy to the app `Router#route()`\n * Returns a new `Route` instance for the _path_.\n *\n * Routes are isolated middleware stacks for specific paths.\n * See the Route api docs for details.\n *\n * @public\n */\n\napp.route = function route(path) {\n  this.lazyrouter();\n  return this._router.route(path);\n};\n\n/**\n * Register the given template engine callback `fn`\n * as `ext`.\n *\n * By default will `require()` the engine based on the\n * file extension. For example if you try to render\n * a \"foo.ejs\" file Express will invoke the following internally:\n *\n *     app.engine('ejs', require('ejs').__express);\n *\n * For engines that do not provide `.__express` out of the box,\n * or if you wish to \"map\" a different extension to the template engine\n * you may use this method. For example mapping the EJS template engine to\n * \".html\" files:\n *\n *     app.engine('html', require('ejs').renderFile);\n *\n * In this case EJS provides a `.renderFile()` method with\n * the same signature that Express expects: `(path, options, callback)`,\n * though note that it aliases this method as `ejs.__express` internally\n * so if you're using \".ejs\" extensions you don't need to do anything.\n *\n * Some template engines do not follow this convention, the\n * [Consolidate.js](https://github.com/tj/consolidate.js)\n * library was created to map all of node's popular template\n * engines to follow this convention, thus allowing them to\n * work seamlessly within Express.\n *\n * @param {String} ext\n * @param {Function} fn\n * @return {app} for chaining\n * @public\n */\n\napp.engine = function engine(ext, fn) {\n  if (typeof fn !== 'function') {\n    throw new Error('callback function required');\n  }\n\n  // get file extension\n  var extension = ext[0] !== '.'\n    ? '.' + ext\n    : ext;\n\n  // store engine\n  this.engines[extension] = fn;\n\n  return this;\n};\n\n/**\n * Proxy to `Router#param()` with one added api feature. The _name_ parameter\n * can be an array of names.\n *\n * See the Router#param() docs for more details.\n *\n * @param {String|Array} name\n * @param {Function} fn\n * @return {app} for chaining\n * @public\n */\n\napp.param = function param(name, fn) {\n  this.lazyrouter();\n\n  if (Array.isArray(name)) {\n    for (var i = 0; i < name.length; i++) {\n      this.param(name[i], fn);\n    }\n\n    return this;\n  }\n\n  this._router.param(name, fn);\n\n  return this;\n};\n\n/**\n * Assign `setting` to `val`, or return `setting`'s value.\n *\n *    app.set('foo', 'bar');\n *    app.set('foo');\n *    // => \"bar\"\n *\n * Mounted servers inherit their parent server's settings.\n *\n * @param {String} setting\n * @param {*} [val]\n * @return {Server} for chaining\n * @public\n */\n\napp.set = function set(setting, val) {\n  if (arguments.length === 1) {\n    // app.get(setting)\n    var settings = this.settings\n\n    while (settings && settings !== Object.prototype) {\n      if (hasOwnProperty.call(settings, setting)) {\n        return settings[setting]\n      }\n\n      settings = Object.getPrototypeOf(settings)\n    }\n\n    return undefined\n  }\n\n  debug('set \"%s\" to %o', setting, val);\n\n  // set value\n  this.settings[setting] = val;\n\n  // trigger matched settings\n  switch (setting) {\n    case 'etag':\n      this.set('etag fn', compileETag(val));\n      break;\n    case 'query parser':\n      this.set('query parser fn', compileQueryParser(val));\n      break;\n    case 'trust proxy':\n      this.set('trust proxy fn', compileTrust(val));\n\n      // trust proxy inherit back-compat\n      Object.defineProperty(this.settings, trustProxyDefaultSymbol, {\n        configurable: true,\n        value: false\n      });\n\n      break;\n  }\n\n  return this;\n};\n\n/**\n * Return the app's absolute pathname\n * based on the parent(s) that have\n * mounted it.\n *\n * For example if the application was\n * mounted as \"/admin\", which itself\n * was mounted as \"/blog\" then the\n * return value would be \"/blog/admin\".\n *\n * @return {String}\n * @private\n */\n\napp.path = function path() {\n  return this.parent\n    ? this.parent.path() + this.mountpath\n    : '';\n};\n\n/**\n * Check if `setting` is enabled (truthy).\n *\n *    app.enabled('foo')\n *    // => false\n *\n *    app.enable('foo')\n *    app.enabled('foo')\n *    // => true\n *\n * @param {String} setting\n * @return {Boolean}\n * @public\n */\n\napp.enabled = function enabled(setting) {\n  return Boolean(this.set(setting));\n};\n\n/**\n * Check if `setting` is disabled.\n *\n *    app.disabled('foo')\n *    // => true\n *\n *    app.enable('foo')\n *    app.disabled('foo')\n *    // => false\n *\n * @param {String} setting\n * @return {Boolean}\n * @public\n */\n\napp.disabled = function disabled(setting) {\n  return !this.set(setting);\n};\n\n/**\n * Enable `setting`.\n *\n * @param {String} setting\n * @return {app} for chaining\n * @public\n */\n\napp.enable = function enable(setting) {\n  return this.set(setting, true);\n};\n\n/**\n * Disable `setting`.\n *\n * @param {String} setting\n * @return {app} for chaining\n * @public\n */\n\napp.disable = function disable(setting) {\n  return this.set(setting, false);\n};\n\n/**\n * Delegate `.VERB(...)` calls to `router.VERB(...)`.\n */\n\nmethods.forEach(function(method){\n  app[method] = function(path){\n    if (method === 'get' && arguments.length === 1) {\n      // app.get(setting)\n      return this.set(path);\n    }\n\n    this.lazyrouter();\n\n    var route = this._router.route(path);\n    route[method].apply(route, slice.call(arguments, 1));\n    return this;\n  };\n});\n\n/**\n * Special-cased \"all\" method, applying the given route `path`,\n * middleware, and callback to _every_ HTTP method.\n *\n * @param {String} path\n * @param {Function} ...\n * @return {app} for chaining\n * @public\n */\n\napp.all = function all(path) {\n  this.lazyrouter();\n\n  var route = this._router.route(path);\n  var args = slice.call(arguments, 1);\n\n  for (var i = 0; i < methods.length; i++) {\n    route[methods[i]].apply(route, args);\n  }\n\n  return this;\n};\n\n// del -> delete alias\n\napp.del = deprecate.function(app.delete, 'app.del: Use app.delete instead');\n\n/**\n * Render the given view `name` name with `options`\n * and a callback accepting an error and the\n * rendered template string.\n *\n * Example:\n *\n *    app.render('email', { name: 'Tobi' }, function(err, html){\n *      // ...\n *    })\n *\n * @param {String} name\n * @param {Object|Function} options or fn\n * @param {Function} callback\n * @public\n */\n\napp.render = function render(name, options, callback) {\n  var cache = this.cache;\n  var done = callback;\n  var engines = this.engines;\n  var opts = options;\n  var renderOptions = {};\n  var view;\n\n  // support callback function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  // merge app.locals\n  merge(renderOptions, this.locals);\n\n  // merge options._locals\n  if (opts._locals) {\n    merge(renderOptions, opts._locals);\n  }\n\n  // merge options\n  merge(renderOptions, opts);\n\n  // set .cache unless explicitly provided\n  if (renderOptions.cache == null) {\n    renderOptions.cache = this.enabled('view cache');\n  }\n\n  // primed cache\n  if (renderOptions.cache) {\n    view = cache[name];\n  }\n\n  // view\n  if (!view) {\n    var View = this.get('view');\n\n    view = new View(name, {\n      defaultEngine: this.get('view engine'),\n      root: this.get('views'),\n      engines: engines\n    });\n\n    if (!view.path) {\n      var dirs = Array.isArray(view.root) && view.root.length > 1\n        ? 'directories \"' + view.root.slice(0, -1).join('\", \"') + '\" or \"' + view.root[view.root.length - 1] + '\"'\n        : 'directory \"' + view.root + '\"'\n      var err = new Error('Failed to lookup view \"' + name + '\" in views ' + dirs);\n      err.view = view;\n      return done(err);\n    }\n\n    // prime the cache\n    if (renderOptions.cache) {\n      cache[name] = view;\n    }\n  }\n\n  // render\n  tryRender(view, renderOptions, done);\n};\n\n/**\n * Listen for connections.\n *\n * A node `http.Server` is returned, with this\n * application (which is a `Function`) as its\n * callback. If you wish to create both an HTTP\n * and HTTPS server you may do so with the \"http\"\n * and \"https\" modules as shown here:\n *\n *    var http = require('http')\n *      , https = require('https')\n *      , express = require('express')\n *      , app = express();\n *\n *    http.createServer(app).listen(80);\n *    https.createServer({ ... }, app).listen(443);\n *\n * @return {http.Server}\n * @public\n */\n\napp.listen = function listen() {\n  var server = http.createServer(this);\n  return server.listen.apply(server, arguments);\n};\n\n/**\n * Log error using console.error.\n *\n * @param {Error} err\n * @private\n */\n\nfunction logerror(err) {\n  /* istanbul ignore next */\n  if (this.get('env') !== 'test') console.error(err.stack || err.toString());\n}\n\n/**\n * Try rendering a view.\n * @private\n */\n\nfunction tryRender(view, options, callback) {\n  try {\n    view.render(options, callback);\n  } catch (err) {\n    callback(err);\n  }\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar bodyParser = require('body-parser')\nvar EventEmitter = require('events').EventEmitter;\nvar mixin = require('merge-descriptors');\nvar proto = require('./application');\nvar Route = require('./router/route');\nvar Router = require('./router');\nvar req = require('./request');\nvar res = require('./response');\n\n/**\n * Expose `createApplication()`.\n */\n\nexports = module.exports = createApplication;\n\n/**\n * Create an express application.\n *\n * @return {Function}\n * @api public\n */\n\nfunction createApplication() {\n  var app = function(req, res, next) {\n    app.handle(req, res, next);\n  };\n\n  mixin(app, EventEmitter.prototype, false);\n  mixin(app, proto, false);\n\n  // expose the prototype that will get set on requests\n  app.request = Object.create(req, {\n    app: { configurable: true, enumerable: true, writable: true, value: app }\n  })\n\n  // expose the prototype that will get set on responses\n  app.response = Object.create(res, {\n    app: { configurable: true, enumerable: true, writable: true, value: app }\n  })\n\n  app.init();\n  return app;\n}\n\n/**\n * Expose the prototypes.\n */\n\nexports.application = proto;\nexports.request = req;\nexports.response = res;\n\n/**\n * Expose constructors.\n */\n\nexports.Route = Route;\nexports.Router = Router;\n\n/**\n * Expose middleware\n */\n\nexports.json = bodyParser.json\nexports.query = require('./middleware/query');\nexports.raw = bodyParser.raw\nexports.static = require('serve-static');\nexports.text = bodyParser.text\nexports.urlencoded = bodyParser.urlencoded\n\n/**\n * Replace removed middleware with an appropriate error message.\n */\n\nvar removedMiddlewares = [\n  'bodyParser',\n  'compress',\n  'cookieSession',\n  'session',\n  'logger',\n  'cookieParser',\n  'favicon',\n  'responseTime',\n  'errorHandler',\n  'timeout',\n  'methodOverride',\n  'vhost',\n  'csrf',\n  'directory',\n  'limit',\n  'multipart',\n  'staticCache'\n]\n\nremovedMiddlewares.forEach(function (name) {\n  Object.defineProperty(exports, name, {\n    get: function () {\n      throw new Error('Most middleware (like ' + name + ') is no longer bundled with Express and must be installed separately. Please see https://github.com/senchalabs/connect#middleware.');\n    },\n    configurable: true\n  });\n});\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar setPrototypeOf = require('setprototypeof')\n\n/**\n * Initialization middleware, exposing the\n * request and response to each other, as well\n * as defaulting the X-Powered-By header field.\n *\n * @param {Function} app\n * @return {Function}\n * @api private\n */\n\nexports.init = function(app){\n  return function expressInit(req, res, next){\n    if (app.enabled('x-powered-by')) res.setHeader('X-Powered-By', 'Express');\n    req.res = res;\n    res.req = req;\n    req.next = next;\n\n    setPrototypeOf(req, app.request)\n    setPrototypeOf(res, app.response)\n\n    res.locals = res.locals || Object.create(null);\n\n    next();\n  };\n};\n\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar merge = require('utils-merge')\nvar parseUrl = require('parseurl');\nvar qs = require('qs');\n\n/**\n * @param {Object} options\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function query(options) {\n  var opts = merge({}, options)\n  var queryparse = qs.parse;\n\n  if (typeof options === 'function') {\n    queryparse = options;\n    opts = undefined;\n  }\n\n  if (opts !== undefined && opts.allowPrototypes === undefined) {\n    // back-compat for qs module\n    opts.allowPrototypes = true;\n  }\n\n  return function query(req, res, next){\n    if (!req.query) {\n      var val = parseUrl(req).query;\n      req.query = queryparse(val, opts);\n    }\n\n    next();\n  };\n};\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar accepts = require('accepts');\nvar deprecate = require('depd')('express');\nvar isIP = require('net').isIP;\nvar typeis = require('type-is');\nvar http = require('http');\nvar fresh = require('fresh');\nvar parseRange = require('range-parser');\nvar parse = require('parseurl');\nvar proxyaddr = require('proxy-addr');\n\n/**\n * Request prototype.\n * @public\n */\n\nvar req = Object.create(http.IncomingMessage.prototype)\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = req\n\n/**\n * Return request header.\n *\n * The `Referrer` header field is special-cased,\n * both `Referrer` and `Referer` are interchangeable.\n *\n * Examples:\n *\n *     req.get('Content-Type');\n *     // => \"text/plain\"\n *\n *     req.get('content-type');\n *     // => \"text/plain\"\n *\n *     req.get('Something');\n *     // => undefined\n *\n * Aliased as `req.header()`.\n *\n * @param {String} name\n * @return {String}\n * @public\n */\n\nreq.get =\nreq.header = function header(name) {\n  if (!name) {\n    throw new TypeError('name argument is required to req.get');\n  }\n\n  if (typeof name !== 'string') {\n    throw new TypeError('name must be a string to req.get');\n  }\n\n  var lc = name.toLowerCase();\n\n  switch (lc) {\n    case 'referer':\n    case 'referrer':\n      return this.headers.referrer\n        || this.headers.referer;\n    default:\n      return this.headers[lc];\n  }\n};\n\n/**\n * To do: update docs.\n *\n * Check if the given `type(s)` is acceptable, returning\n * the best match when true, otherwise `undefined`, in which\n * case you should respond with 406 \"Not Acceptable\".\n *\n * The `type` value may be a single MIME type string\n * such as \"application/json\", an extension name\n * such as \"json\", a comma-delimited list such as \"json, html, text/plain\",\n * an argument list such as `\"json\", \"html\", \"text/plain\"`,\n * or an array `[\"json\", \"html\", \"text/plain\"]`. When a list\n * or array is given, the _best_ match, if any is returned.\n *\n * Examples:\n *\n *     // Accept: text/html\n *     req.accepts('html');\n *     // => \"html\"\n *\n *     // Accept: text/*, application/json\n *     req.accepts('html');\n *     // => \"html\"\n *     req.accepts('text/html');\n *     // => \"text/html\"\n *     req.accepts('json, text');\n *     // => \"json\"\n *     req.accepts('application/json');\n *     // => \"application/json\"\n *\n *     // Accept: text/*, application/json\n *     req.accepts('image/png');\n *     req.accepts('png');\n *     // => undefined\n *\n *     // Accept: text/*;q=.5, application/json\n *     req.accepts(['html', 'json']);\n *     req.accepts('html', 'json');\n *     req.accepts('html, json');\n *     // => \"json\"\n *\n * @param {String|Array} type(s)\n * @return {String|Array|Boolean}\n * @public\n */\n\nreq.accepts = function(){\n  var accept = accepts(this);\n  return accept.types.apply(accept, arguments);\n};\n\n/**\n * Check if the given `encoding`s are accepted.\n *\n * @param {String} ...encoding\n * @return {String|Array}\n * @public\n */\n\nreq.acceptsEncodings = function(){\n  var accept = accepts(this);\n  return accept.encodings.apply(accept, arguments);\n};\n\nreq.acceptsEncoding = deprecate.function(req.acceptsEncodings,\n  'req.acceptsEncoding: Use acceptsEncodings instead');\n\n/**\n * Check if the given `charset`s are acceptable,\n * otherwise you should respond with 406 \"Not Acceptable\".\n *\n * @param {String} ...charset\n * @return {String|Array}\n * @public\n */\n\nreq.acceptsCharsets = function(){\n  var accept = accepts(this);\n  return accept.charsets.apply(accept, arguments);\n};\n\nreq.acceptsCharset = deprecate.function(req.acceptsCharsets,\n  'req.acceptsCharset: Use acceptsCharsets instead');\n\n/**\n * Check if the given `lang`s are acceptable,\n * otherwise you should respond with 406 \"Not Acceptable\".\n *\n * @param {String} ...lang\n * @return {String|Array}\n * @public\n */\n\nreq.acceptsLanguages = function(){\n  var accept = accepts(this);\n  return accept.languages.apply(accept, arguments);\n};\n\nreq.acceptsLanguage = deprecate.function(req.acceptsLanguages,\n  'req.acceptsLanguage: Use acceptsLanguages instead');\n\n/**\n * Parse Range header field, capping to the given `size`.\n *\n * Unspecified ranges such as \"0-\" require knowledge of your resource length. In\n * the case of a byte range this is of course the total number of bytes. If the\n * Range header field is not given `undefined` is returned, `-1` when unsatisfiable,\n * and `-2` when syntactically invalid.\n *\n * When ranges are returned, the array has a \"type\" property which is the type of\n * range that is required (most commonly, \"bytes\"). Each array element is an object\n * with a \"start\" and \"end\" property for the portion of the range.\n *\n * The \"combine\" option can be set to `true` and overlapping & adjacent ranges\n * will be combined into a single range.\n *\n * NOTE: remember that ranges are inclusive, so for example \"Range: users=0-3\"\n * should respond with 4 users when available, not 3.\n *\n * @param {number} size\n * @param {object} [options]\n * @param {boolean} [options.combine=false]\n * @return {number|array}\n * @public\n */\n\nreq.range = function range(size, options) {\n  var range = this.get('Range');\n  if (!range) return;\n  return parseRange(size, range, options);\n};\n\n/**\n * Return the value of param `name` when present or `defaultValue`.\n *\n *  - Checks route placeholders, ex: _/user/:id_\n *  - Checks body params, ex: id=12, {\"id\":12}\n *  - Checks query string params, ex: ?id=12\n *\n * To utilize request bodies, `req.body`\n * should be an object. This can be done by using\n * the `bodyParser()` middleware.\n *\n * @param {String} name\n * @param {Mixed} [defaultValue]\n * @return {String}\n * @public\n */\n\nreq.param = function param(name, defaultValue) {\n  var params = this.params || {};\n  var body = this.body || {};\n  var query = this.query || {};\n\n  var args = arguments.length === 1\n    ? 'name'\n    : 'name, default';\n  deprecate('req.param(' + args + '): Use req.params, req.body, or req.query instead');\n\n  if (null != params[name] && params.hasOwnProperty(name)) return params[name];\n  if (null != body[name]) return body[name];\n  if (null != query[name]) return query[name];\n\n  return defaultValue;\n};\n\n/**\n * Check if the incoming request contains the \"Content-Type\"\n * header field, and it contains the given mime `type`.\n *\n * Examples:\n *\n *      // With Content-Type: text/html; charset=utf-8\n *      req.is('html');\n *      req.is('text/html');\n *      req.is('text/*');\n *      // => true\n *\n *      // When Content-Type is application/json\n *      req.is('json');\n *      req.is('application/json');\n *      req.is('application/*');\n *      // => true\n *\n *      req.is('html');\n *      // => false\n *\n * @param {String|Array} types...\n * @return {String|false|null}\n * @public\n */\n\nreq.is = function is(types) {\n  var arr = types;\n\n  // support flattened arguments\n  if (!Array.isArray(types)) {\n    arr = new Array(arguments.length);\n    for (var i = 0; i < arr.length; i++) {\n      arr[i] = arguments[i];\n    }\n  }\n\n  return typeis(this, arr);\n};\n\n/**\n * Return the protocol string \"http\" or \"https\"\n * when requested with TLS. When the \"trust proxy\"\n * setting trusts the socket address, the\n * \"X-Forwarded-Proto\" header field will be trusted\n * and used if present.\n *\n * If you're running behind a reverse proxy that\n * supplies https for you this may be enabled.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'protocol', function protocol(){\n  var proto = this.connection.encrypted\n    ? 'https'\n    : 'http';\n  var trust = this.app.get('trust proxy fn');\n\n  if (!trust(this.connection.remoteAddress, 0)) {\n    return proto;\n  }\n\n  // Note: X-Forwarded-Proto is normally only ever a\n  //       single value, but this is to be safe.\n  var header = this.get('X-Forwarded-Proto') || proto\n  var index = header.indexOf(',')\n\n  return index !== -1\n    ? header.substring(0, index).trim()\n    : header.trim()\n});\n\n/**\n * Short-hand for:\n *\n *    req.protocol === 'https'\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'secure', function secure(){\n  return this.protocol === 'https';\n});\n\n/**\n * Return the remote address from the trusted proxy.\n *\n * The is the remote address on the socket unless\n * \"trust proxy\" is set.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'ip', function ip(){\n  var trust = this.app.get('trust proxy fn');\n  return proxyaddr(this, trust);\n});\n\n/**\n * When \"trust proxy\" is set, trusted proxy addresses + client.\n *\n * For example if the value were \"client, proxy1, proxy2\"\n * you would receive the array `[\"client\", \"proxy1\", \"proxy2\"]`\n * where \"proxy2\" is the furthest down-stream and \"proxy1\" and\n * \"proxy2\" were trusted.\n *\n * @return {Array}\n * @public\n */\n\ndefineGetter(req, 'ips', function ips() {\n  var trust = this.app.get('trust proxy fn');\n  var addrs = proxyaddr.all(this, trust);\n\n  // reverse the order (to farthest -> closest)\n  // and remove socket address\n  addrs.reverse().pop()\n\n  return addrs\n});\n\n/**\n * Return subdomains as an array.\n *\n * Subdomains are the dot-separated parts of the host before the main domain of\n * the app. By default, the domain of the app is assumed to be the last two\n * parts of the host. This can be changed by setting \"subdomain offset\".\n *\n * For example, if the domain is \"tobi.ferrets.example.com\":\n * If \"subdomain offset\" is not set, req.subdomains is `[\"ferrets\", \"tobi\"]`.\n * If \"subdomain offset\" is 3, req.subdomains is `[\"tobi\"]`.\n *\n * @return {Array}\n * @public\n */\n\ndefineGetter(req, 'subdomains', function subdomains() {\n  var hostname = this.hostname;\n\n  if (!hostname) return [];\n\n  var offset = this.app.get('subdomain offset');\n  var subdomains = !isIP(hostname)\n    ? hostname.split('.').reverse()\n    : [hostname];\n\n  return subdomains.slice(offset);\n});\n\n/**\n * Short-hand for `url.parse(req.url).pathname`.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'path', function path() {\n  return parse(this).pathname;\n});\n\n/**\n * Parse the \"Host\" header field to a hostname.\n *\n * When the \"trust proxy\" setting trusts the socket\n * address, the \"X-Forwarded-Host\" header field will\n * be trusted.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'hostname', function hostname(){\n  var trust = this.app.get('trust proxy fn');\n  var host = this.get('X-Forwarded-Host');\n\n  if (!host || !trust(this.connection.remoteAddress, 0)) {\n    host = this.get('Host');\n  } else if (host.indexOf(',') !== -1) {\n    // Note: X-Forwarded-Host is normally only ever a\n    //       single value, but this is to be safe.\n    host = host.substring(0, host.indexOf(',')).trimRight()\n  }\n\n  if (!host) return;\n\n  // IPv6 literal support\n  var offset = host[0] === '['\n    ? host.indexOf(']') + 1\n    : 0;\n  var index = host.indexOf(':', offset);\n\n  return index !== -1\n    ? host.substring(0, index)\n    : host;\n});\n\n// TODO: change req.host to return host in next major\n\ndefineGetter(req, 'host', deprecate.function(function host(){\n  return this.hostname;\n}, 'req.host: Use req.hostname instead'));\n\n/**\n * Check if the request is fresh, aka\n * Last-Modified and/or the ETag\n * still match.\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'fresh', function(){\n  var method = this.method;\n  var res = this.res\n  var status = res.statusCode\n\n  // GET or HEAD for weak freshness validation only\n  if ('GET' !== method && 'HEAD' !== method) return false;\n\n  // 2xx or 304 as per rfc2616 14.26\n  if ((status >= 200 && status < 300) || 304 === status) {\n    return fresh(this.headers, {\n      'etag': res.get('ETag'),\n      'last-modified': res.get('Last-Modified')\n    })\n  }\n\n  return false;\n});\n\n/**\n * Check if the request is stale, aka\n * \"Last-Modified\" and / or the \"ETag\" for the\n * resource has changed.\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'stale', function stale(){\n  return !this.fresh;\n});\n\n/**\n * Check if the request was an _XMLHttpRequest_.\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'xhr', function xhr(){\n  var val = this.get('X-Requested-With') || '';\n  return val.toLowerCase() === 'xmlhttprequest';\n});\n\n/**\n * Helper function for creating a getter on an object.\n *\n * @param {Object} obj\n * @param {String} name\n * @param {Function} getter\n * @private\n */\nfunction defineGetter(obj, name, getter) {\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: true,\n    get: getter\n  });\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Buffer = require('safe-buffer').Buffer\nvar contentDisposition = require('content-disposition');\nvar createError = require('http-errors')\nvar deprecate = require('depd')('express');\nvar encodeUrl = require('encodeurl');\nvar escapeHtml = require('escape-html');\nvar http = require('http');\nvar isAbsolute = require('./utils').isAbsolute;\nvar onFinished = require('on-finished');\nvar path = require('path');\nvar statuses = require('statuses')\nvar merge = require('utils-merge');\nvar sign = require('cookie-signature').sign;\nvar normalizeType = require('./utils').normalizeType;\nvar normalizeTypes = require('./utils').normalizeTypes;\nvar setCharset = require('./utils').setCharset;\nvar cookie = require('cookie');\nvar send = require('send');\nvar extname = path.extname;\nvar mime = send.mime;\nvar resolve = path.resolve;\nvar vary = require('vary');\n\n/**\n * Response prototype.\n * @public\n */\n\nvar res = Object.create(http.ServerResponse.prototype)\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = res\n\n/**\n * Module variables.\n * @private\n */\n\nvar charsetRegExp = /;\\s*charset\\s*=/;\nvar schemaAndHostRegExp = /^(?:[a-zA-Z][a-zA-Z0-9+.-]*:)?\\/\\/[^\\\\\\/\\?]+/;\n\n/**\n * Set status `code`.\n *\n * @param {Number} code\n * @return {ServerResponse}\n * @public\n */\n\nres.status = function status(code) {\n  if ((typeof code === 'string' || Math.floor(code) !== code) && code > 99 && code < 1000) {\n    deprecate('res.status(' + JSON.stringify(code) + '): use res.status(' + Math.floor(code) + ') instead')\n  }\n  this.statusCode = code;\n  return this;\n};\n\n/**\n * Set Link header field with the given `links`.\n *\n * Examples:\n *\n *    res.links({\n *      next: 'http://api.example.com/users?page=2',\n *      last: 'http://api.example.com/users?page=5'\n *    });\n *\n * @param {Object} links\n * @return {ServerResponse}\n * @public\n */\n\nres.links = function(links){\n  var link = this.get('Link') || '';\n  if (link) link += ', ';\n  return this.set('Link', link + Object.keys(links).map(function(rel){\n    return '<' + links[rel] + '>; rel=\"' + rel + '\"';\n  }).join(', '));\n};\n\n/**\n * Send a response.\n *\n * Examples:\n *\n *     res.send(Buffer.from('wahoo'));\n *     res.send({ some: 'json' });\n *     res.send('<p>some html</p>');\n *\n * @param {string|number|boolean|object|Buffer} body\n * @public\n */\n\nres.send = function send(body) {\n  var chunk = body;\n  var encoding;\n  var req = this.req;\n  var type;\n\n  // settings\n  var app = this.app;\n\n  // allow status / body\n  if (arguments.length === 2) {\n    // res.send(body, status) backwards compat\n    if (typeof arguments[0] !== 'number' && typeof arguments[1] === 'number') {\n      deprecate('res.send(body, status): Use res.status(status).send(body) instead');\n      this.statusCode = arguments[1];\n    } else {\n      deprecate('res.send(status, body): Use res.status(status).send(body) instead');\n      this.statusCode = arguments[0];\n      chunk = arguments[1];\n    }\n  }\n\n  // disambiguate res.send(status) and res.send(status, num)\n  if (typeof chunk === 'number' && arguments.length === 1) {\n    // res.send(status) will set status message as text string\n    if (!this.get('Content-Type')) {\n      this.type('txt');\n    }\n\n    deprecate('res.send(status): Use res.sendStatus(status) instead');\n    this.statusCode = chunk;\n    chunk = statuses.message[chunk]\n  }\n\n  switch (typeof chunk) {\n    // string defaulting to html\n    case 'string':\n      if (!this.get('Content-Type')) {\n        this.type('html');\n      }\n      break;\n    case 'boolean':\n    case 'number':\n    case 'object':\n      if (chunk === null) {\n        chunk = '';\n      } else if (Buffer.isBuffer(chunk)) {\n        if (!this.get('Content-Type')) {\n          this.type('bin');\n        }\n      } else {\n        return this.json(chunk);\n      }\n      break;\n  }\n\n  // write strings in utf-8\n  if (typeof chunk === 'string') {\n    encoding = 'utf8';\n    type = this.get('Content-Type');\n\n    // reflect this in content-type\n    if (typeof type === 'string') {\n      this.set('Content-Type', setCharset(type, 'utf-8'));\n    }\n  }\n\n  // determine if ETag should be generated\n  var etagFn = app.get('etag fn')\n  var generateETag = !this.get('ETag') && typeof etagFn === 'function'\n\n  // populate Content-Length\n  var len\n  if (chunk !== undefined) {\n    if (Buffer.isBuffer(chunk)) {\n      // get length of Buffer\n      len = chunk.length\n    } else if (!generateETag && chunk.length < 1000) {\n      // just calculate length when no ETag + small chunk\n      len = Buffer.byteLength(chunk, encoding)\n    } else {\n      // convert chunk to Buffer and calculate\n      chunk = Buffer.from(chunk, encoding)\n      encoding = undefined;\n      len = chunk.length\n    }\n\n    this.set('Content-Length', len);\n  }\n\n  // populate ETag\n  var etag;\n  if (generateETag && len !== undefined) {\n    if ((etag = etagFn(chunk, encoding))) {\n      this.set('ETag', etag);\n    }\n  }\n\n  // freshness\n  if (req.fresh) this.statusCode = 304;\n\n  // strip irrelevant headers\n  if (204 === this.statusCode || 304 === this.statusCode) {\n    this.removeHeader('Content-Type');\n    this.removeHeader('Content-Length');\n    this.removeHeader('Transfer-Encoding');\n    chunk = '';\n  }\n\n  // alter headers for 205\n  if (this.statusCode === 205) {\n    this.set('Content-Length', '0')\n    this.removeHeader('Transfer-Encoding')\n    chunk = ''\n  }\n\n  if (req.method === 'HEAD') {\n    // skip body for HEAD\n    this.end();\n  } else {\n    // respond\n    this.end(chunk, encoding);\n  }\n\n  return this;\n};\n\n/**\n * Send JSON response.\n *\n * Examples:\n *\n *     res.json(null);\n *     res.json({ user: 'tj' });\n *\n * @param {string|number|boolean|object} obj\n * @public\n */\n\nres.json = function json(obj) {\n  var val = obj;\n\n  // allow status / body\n  if (arguments.length === 2) {\n    // res.json(body, status) backwards compat\n    if (typeof arguments[1] === 'number') {\n      deprecate('res.json(obj, status): Use res.status(status).json(obj) instead');\n      this.statusCode = arguments[1];\n    } else {\n      deprecate('res.json(status, obj): Use res.status(status).json(obj) instead');\n      this.statusCode = arguments[0];\n      val = arguments[1];\n    }\n  }\n\n  // settings\n  var app = this.app;\n  var escape = app.get('json escape')\n  var replacer = app.get('json replacer');\n  var spaces = app.get('json spaces');\n  var body = stringify(val, replacer, spaces, escape)\n\n  // content-type\n  if (!this.get('Content-Type')) {\n    this.set('Content-Type', 'application/json');\n  }\n\n  return this.send(body);\n};\n\n/**\n * Send JSON response with JSONP callback support.\n *\n * Examples:\n *\n *     res.jsonp(null);\n *     res.jsonp({ user: 'tj' });\n *\n * @param {string|number|boolean|object} obj\n * @public\n */\n\nres.jsonp = function jsonp(obj) {\n  var val = obj;\n\n  // allow status / body\n  if (arguments.length === 2) {\n    // res.jsonp(body, status) backwards compat\n    if (typeof arguments[1] === 'number') {\n      deprecate('res.jsonp(obj, status): Use res.status(status).jsonp(obj) instead');\n      this.statusCode = arguments[1];\n    } else {\n      deprecate('res.jsonp(status, obj): Use res.status(status).jsonp(obj) instead');\n      this.statusCode = arguments[0];\n      val = arguments[1];\n    }\n  }\n\n  // settings\n  var app = this.app;\n  var escape = app.get('json escape')\n  var replacer = app.get('json replacer');\n  var spaces = app.get('json spaces');\n  var body = stringify(val, replacer, spaces, escape)\n  var callback = this.req.query[app.get('jsonp callback name')];\n\n  // content-type\n  if (!this.get('Content-Type')) {\n    this.set('X-Content-Type-Options', 'nosniff');\n    this.set('Content-Type', 'application/json');\n  }\n\n  // fixup callback\n  if (Array.isArray(callback)) {\n    callback = callback[0];\n  }\n\n  // jsonp\n  if (typeof callback === 'string' && callback.length !== 0) {\n    this.set('X-Content-Type-Options', 'nosniff');\n    this.set('Content-Type', 'text/javascript');\n\n    // restrict callback charset\n    callback = callback.replace(/[^\\[\\]\\w$.]/g, '');\n\n    if (body === undefined) {\n      // empty argument\n      body = ''\n    } else if (typeof body === 'string') {\n      // replace chars not allowed in JavaScript that are in JSON\n      body = body\n        .replace(/\\u2028/g, '\\\\u2028')\n        .replace(/\\u2029/g, '\\\\u2029')\n    }\n\n    // the /**/ is a specific security mitigation for \"Rosetta Flash JSONP abuse\"\n    // the typeof check is just to reduce client error noise\n    body = '/**/ typeof ' + callback + ' === \\'function\\' && ' + callback + '(' + body + ');';\n  }\n\n  return this.send(body);\n};\n\n/**\n * Send given HTTP status code.\n *\n * Sets the response status to `statusCode` and the body of the\n * response to the standard description from node's http.STATUS_CODES\n * or the statusCode number if no description.\n *\n * Examples:\n *\n *     res.sendStatus(200);\n *\n * @param {number} statusCode\n * @public\n */\n\nres.sendStatus = function sendStatus(statusCode) {\n  var body = statuses.message[statusCode] || String(statusCode)\n\n  this.statusCode = statusCode;\n  this.type('txt');\n\n  return this.send(body);\n};\n\n/**\n * Transfer the file at the given `path`.\n *\n * Automatically sets the _Content-Type_ response header field.\n * The callback `callback(err)` is invoked when the transfer is complete\n * or when an error occurs. Be sure to check `res.headersSent`\n * if you wish to attempt responding, as the header and some data\n * may have already been transferred.\n *\n * Options:\n *\n *   - `maxAge`   defaulting to 0 (can be string converted by `ms`)\n *   - `root`     root directory for relative filenames\n *   - `headers`  object of headers to serve with file\n *   - `dotfiles` serve dotfiles, defaulting to false; can be `\"allow\"` to send them\n *\n * Other options are passed along to `send`.\n *\n * Examples:\n *\n *  The following example illustrates how `res.sendFile()` may\n *  be used as an alternative for the `static()` middleware for\n *  dynamic situations. The code backing `res.sendFile()` is actually\n *  the same code, so HTTP cache support etc is identical.\n *\n *     app.get('/user/:uid/photos/:file', function(req, res){\n *       var uid = req.params.uid\n *         , file = req.params.file;\n *\n *       req.user.mayViewFilesFrom(uid, function(yes){\n *         if (yes) {\n *           res.sendFile('/uploads/' + uid + '/' + file);\n *         } else {\n *           res.send(403, 'Sorry! you cant see that.');\n *         }\n *       });\n *     });\n *\n * @public\n */\n\nres.sendFile = function sendFile(path, options, callback) {\n  var done = callback;\n  var req = this.req;\n  var res = this;\n  var next = req.next;\n  var opts = options || {};\n\n  if (!path) {\n    throw new TypeError('path argument is required to res.sendFile');\n  }\n\n  if (typeof path !== 'string') {\n    throw new TypeError('path must be a string to res.sendFile')\n  }\n\n  // support function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  if (!opts.root && !isAbsolute(path)) {\n    throw new TypeError('path must be absolute or specify root to res.sendFile');\n  }\n\n  // create file stream\n  var pathname = encodeURI(path);\n  var file = send(req, pathname, opts);\n\n  // transfer\n  sendfile(res, file, opts, function (err) {\n    if (done) return done(err);\n    if (err && err.code === 'EISDIR') return next();\n\n    // next() all but write errors\n    if (err && err.code !== 'ECONNABORTED' && err.syscall !== 'write') {\n      next(err);\n    }\n  });\n};\n\n/**\n * Transfer the file at the given `path`.\n *\n * Automatically sets the _Content-Type_ response header field.\n * The callback `callback(err)` is invoked when the transfer is complete\n * or when an error occurs. Be sure to check `res.headersSent`\n * if you wish to attempt responding, as the header and some data\n * may have already been transferred.\n *\n * Options:\n *\n *   - `maxAge`   defaulting to 0 (can be string converted by `ms`)\n *   - `root`     root directory for relative filenames\n *   - `headers`  object of headers to serve with file\n *   - `dotfiles` serve dotfiles, defaulting to false; can be `\"allow\"` to send them\n *\n * Other options are passed along to `send`.\n *\n * Examples:\n *\n *  The following example illustrates how `res.sendfile()` may\n *  be used as an alternative for the `static()` middleware for\n *  dynamic situations. The code backing `res.sendfile()` is actually\n *  the same code, so HTTP cache support etc is identical.\n *\n *     app.get('/user/:uid/photos/:file', function(req, res){\n *       var uid = req.params.uid\n *         , file = req.params.file;\n *\n *       req.user.mayViewFilesFrom(uid, function(yes){\n *         if (yes) {\n *           res.sendfile('/uploads/' + uid + '/' + file);\n *         } else {\n *           res.send(403, 'Sorry! you cant see that.');\n *         }\n *       });\n *     });\n *\n * @public\n */\n\nres.sendfile = function (path, options, callback) {\n  var done = callback;\n  var req = this.req;\n  var res = this;\n  var next = req.next;\n  var opts = options || {};\n\n  // support function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  // create file stream\n  var file = send(req, path, opts);\n\n  // transfer\n  sendfile(res, file, opts, function (err) {\n    if (done) return done(err);\n    if (err && err.code === 'EISDIR') return next();\n\n    // next() all but write errors\n    if (err && err.code !== 'ECONNABORTED' && err.syscall !== 'write') {\n      next(err);\n    }\n  });\n};\n\nres.sendfile = deprecate.function(res.sendfile,\n  'res.sendfile: Use res.sendFile instead');\n\n/**\n * Transfer the file at the given `path` as an attachment.\n *\n * Optionally providing an alternate attachment `filename`,\n * and optional callback `callback(err)`. The callback is invoked\n * when the data transfer is complete, or when an error has\n * occurred. Be sure to check `res.headersSent` if you plan to respond.\n *\n * Optionally providing an `options` object to use with `res.sendFile()`.\n * This function will set the `Content-Disposition` header, overriding\n * any `Content-Disposition` header passed as header options in order\n * to set the attachment and filename.\n *\n * This method uses `res.sendFile()`.\n *\n * @public\n */\n\nres.download = function download (path, filename, options, callback) {\n  var done = callback;\n  var name = filename;\n  var opts = options || null\n\n  // support function as second or third arg\n  if (typeof filename === 'function') {\n    done = filename;\n    name = null;\n    opts = null\n  } else if (typeof options === 'function') {\n    done = options\n    opts = null\n  }\n\n  // support optional filename, where options may be in it's place\n  if (typeof filename === 'object' &&\n    (typeof options === 'function' || options === undefined)) {\n    name = null\n    opts = filename\n  }\n\n  // set Content-Disposition when file is sent\n  var headers = {\n    'Content-Disposition': contentDisposition(name || path)\n  };\n\n  // merge user-provided headers\n  if (opts && opts.headers) {\n    var keys = Object.keys(opts.headers)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      if (key.toLowerCase() !== 'content-disposition') {\n        headers[key] = opts.headers[key]\n      }\n    }\n  }\n\n  // merge user-provided options\n  opts = Object.create(opts)\n  opts.headers = headers\n\n  // Resolve the full path for sendFile\n  var fullPath = !opts.root\n    ? resolve(path)\n    : path\n\n  // send file\n  return this.sendFile(fullPath, opts, done)\n};\n\n/**\n * Set _Content-Type_ response header with `type` through `mime.lookup()`\n * when it does not contain \"/\", or set the Content-Type to `type` otherwise.\n *\n * Examples:\n *\n *     res.type('.html');\n *     res.type('html');\n *     res.type('json');\n *     res.type('application/json');\n *     res.type('png');\n *\n * @param {String} type\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.contentType =\nres.type = function contentType(type) {\n  var ct = type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type;\n\n  return this.set('Content-Type', ct);\n};\n\n/**\n * Respond to the Acceptable formats using an `obj`\n * of mime-type callbacks.\n *\n * This method uses `req.accepted`, an array of\n * acceptable types ordered by their quality values.\n * When \"Accept\" is not present the _first_ callback\n * is invoked, otherwise the first match is used. When\n * no match is performed the server responds with\n * 406 \"Not Acceptable\".\n *\n * Content-Type is set for you, however if you choose\n * you may alter this within the callback using `res.type()`\n * or `res.set('Content-Type', ...)`.\n *\n *    res.format({\n *      'text/plain': function(){\n *        res.send('hey');\n *      },\n *\n *      'text/html': function(){\n *        res.send('<p>hey</p>');\n *      },\n *\n *      'application/json': function () {\n *        res.send({ message: 'hey' });\n *      }\n *    });\n *\n * In addition to canonicalized MIME types you may\n * also use extnames mapped to these types:\n *\n *    res.format({\n *      text: function(){\n *        res.send('hey');\n *      },\n *\n *      html: function(){\n *        res.send('<p>hey</p>');\n *      },\n *\n *      json: function(){\n *        res.send({ message: 'hey' });\n *      }\n *    });\n *\n * By default Express passes an `Error`\n * with a `.status` of 406 to `next(err)`\n * if a match is not made. If you provide\n * a `.default` callback it will be invoked\n * instead.\n *\n * @param {Object} obj\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.format = function(obj){\n  var req = this.req;\n  var next = req.next;\n\n  var keys = Object.keys(obj)\n    .filter(function (v) { return v !== 'default' })\n\n  var key = keys.length > 0\n    ? req.accepts(keys)\n    : false;\n\n  this.vary(\"Accept\");\n\n  if (key) {\n    this.set('Content-Type', normalizeType(key).value);\n    obj[key](req, this, next);\n  } else if (obj.default) {\n    obj.default(req, this, next)\n  } else {\n    next(createError(406, {\n      types: normalizeTypes(keys).map(function (o) { return o.value })\n    }))\n  }\n\n  return this;\n};\n\n/**\n * Set _Content-Disposition_ header to _attachment_ with optional `filename`.\n *\n * @param {String} filename\n * @return {ServerResponse}\n * @public\n */\n\nres.attachment = function attachment(filename) {\n  if (filename) {\n    this.type(extname(filename));\n  }\n\n  this.set('Content-Disposition', contentDisposition(filename));\n\n  return this;\n};\n\n/**\n * Append additional header `field` with value `val`.\n *\n * Example:\n *\n *    res.append('Link', ['<http://localhost/>', '<http://localhost:3000/>']);\n *    res.append('Set-Cookie', 'foo=bar; Path=/; HttpOnly');\n *    res.append('Warning', '199 Miscellaneous warning');\n *\n * @param {String} field\n * @param {String|Array} val\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.append = function append(field, val) {\n  var prev = this.get(field);\n  var value = val;\n\n  if (prev) {\n    // concat the new and prev vals\n    value = Array.isArray(prev) ? prev.concat(val)\n      : Array.isArray(val) ? [prev].concat(val)\n        : [prev, val]\n  }\n\n  return this.set(field, value);\n};\n\n/**\n * Set header `field` to `val`, or pass\n * an object of header fields.\n *\n * Examples:\n *\n *    res.set('Foo', ['bar', 'baz']);\n *    res.set('Accept', 'application/json');\n *    res.set({ Accept: 'text/plain', 'X-API-Key': 'tobi' });\n *\n * Aliased as `res.header()`.\n *\n * @param {String|Object} field\n * @param {String|Array} val\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.set =\nres.header = function header(field, val) {\n  if (arguments.length === 2) {\n    var value = Array.isArray(val)\n      ? val.map(String)\n      : String(val);\n\n    // add charset to content-type\n    if (field.toLowerCase() === 'content-type') {\n      if (Array.isArray(value)) {\n        throw new TypeError('Content-Type cannot be set to an Array');\n      }\n      if (!charsetRegExp.test(value)) {\n        var charset = mime.charsets.lookup(value.split(';')[0]);\n        if (charset) value += '; charset=' + charset.toLowerCase();\n      }\n    }\n\n    this.setHeader(field, value);\n  } else {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n  }\n  return this;\n};\n\n/**\n * Get value for header `field`.\n *\n * @param {String} field\n * @return {String}\n * @public\n */\n\nres.get = function(field){\n  return this.getHeader(field);\n};\n\n/**\n * Clear cookie `name`.\n *\n * @param {String} name\n * @param {Object} [options]\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.clearCookie = function clearCookie(name, options) {\n  var opts = merge({ expires: new Date(1), path: '/' }, options);\n\n  return this.cookie(name, '', opts);\n};\n\n/**\n * Set cookie `name` to `value`, with the given `options`.\n *\n * Options:\n *\n *    - `maxAge`   max-age in milliseconds, converted to `expires`\n *    - `signed`   sign the cookie\n *    - `path`     defaults to \"/\"\n *\n * Examples:\n *\n *    // \"Remember Me\" for 15 minutes\n *    res.cookie('rememberme', '1', { expires: new Date(Date.now() + 900000), httpOnly: true });\n *\n *    // same as above\n *    res.cookie('rememberme', '1', { maxAge: 900000, httpOnly: true })\n *\n * @param {String} name\n * @param {String|Object} value\n * @param {Object} [options]\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.cookie = function (name, value, options) {\n  var opts = merge({}, options);\n  var secret = this.req.secret;\n  var signed = opts.signed;\n\n  if (signed && !secret) {\n    throw new Error('cookieParser(\"secret\") required for signed cookies');\n  }\n\n  var val = typeof value === 'object'\n    ? 'j:' + JSON.stringify(value)\n    : String(value);\n\n  if (signed) {\n    val = 's:' + sign(val, secret);\n  }\n\n  if (opts.maxAge != null) {\n    var maxAge = opts.maxAge - 0\n\n    if (!isNaN(maxAge)) {\n      opts.expires = new Date(Date.now() + maxAge)\n      opts.maxAge = Math.floor(maxAge / 1000)\n    }\n  }\n\n  if (opts.path == null) {\n    opts.path = '/';\n  }\n\n  this.append('Set-Cookie', cookie.serialize(name, String(val), opts));\n\n  return this;\n};\n\n/**\n * Set the location header to `url`.\n *\n * The given `url` can also be \"back\", which redirects\n * to the _Referrer_ or _Referer_ headers or \"/\".\n *\n * Examples:\n *\n *    res.location('/foo/bar').;\n *    res.location('http://example.com');\n *    res.location('../login');\n *\n * @param {String} url\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.location = function location(url) {\n  var loc;\n\n  // \"back\" is an alias for the referrer\n  if (url === 'back') {\n    loc = this.req.get('Referrer') || '/';\n  } else {\n    loc = String(url);\n  }\n\n  var m = schemaAndHostRegExp.exec(loc);\n  var pos = m ? m[0].length + 1 : 0;\n\n  // Only encode after host to avoid invalid encoding which can introduce\n  // vulnerabilities (e.g. `\\\\` to `%5C`).\n  loc = loc.slice(0, pos) + encodeUrl(loc.slice(pos));\n\n  return this.set('Location', loc);\n};\n\n/**\n * Redirect to the given `url` with optional response `status`\n * defaulting to 302.\n *\n * The resulting `url` is determined by `res.location()`, so\n * it will play nicely with mounted apps, relative paths,\n * `\"back\"` etc.\n *\n * Examples:\n *\n *    res.redirect('/foo/bar');\n *    res.redirect('http://example.com');\n *    res.redirect(301, 'http://example.com');\n *    res.redirect('../login'); // /blog/post/1 -> /blog/login\n *\n * @public\n */\n\nres.redirect = function redirect(url) {\n  var address = url;\n  var body;\n  var status = 302;\n\n  // allow status / url\n  if (arguments.length === 2) {\n    if (typeof arguments[0] === 'number') {\n      status = arguments[0];\n      address = arguments[1];\n    } else {\n      deprecate('res.redirect(url, status): Use res.redirect(status, url) instead');\n      status = arguments[1];\n    }\n  }\n\n  // Set location header\n  address = this.location(address).get('Location');\n\n  // Support text/{plain,html} by default\n  this.format({\n    text: function(){\n      body = statuses.message[status] + '. Redirecting to ' + address\n    },\n\n    html: function(){\n      var u = escapeHtml(address);\n      body = '<p>' + statuses.message[status] + '. Redirecting to <a href=\"' + u + '\">' + u + '</a></p>'\n    },\n\n    default: function(){\n      body = '';\n    }\n  });\n\n  // Respond\n  this.statusCode = status;\n  this.set('Content-Length', Buffer.byteLength(body));\n\n  if (this.req.method === 'HEAD') {\n    this.end();\n  } else {\n    this.end(body);\n  }\n};\n\n/**\n * Add `field` to Vary. If already present in the Vary set, then\n * this call is simply ignored.\n *\n * @param {Array|String} field\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.vary = function(field){\n  // checks for back-compat\n  if (!field || (Array.isArray(field) && !field.length)) {\n    deprecate('res.vary(): Provide a field name');\n    return this;\n  }\n\n  vary(this, field);\n\n  return this;\n};\n\n/**\n * Render `view` with the given `options` and optional callback `fn`.\n * When a callback function is given a response will _not_ be made\n * automatically, otherwise a response of _200_ and _text/html_ is given.\n *\n * Options:\n *\n *  - `cache`     boolean hinting to the engine it should cache\n *  - `filename`  filename of the view being rendered\n *\n * @public\n */\n\nres.render = function render(view, options, callback) {\n  var app = this.req.app;\n  var done = callback;\n  var opts = options || {};\n  var req = this.req;\n  var self = this;\n\n  // support callback function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  // merge res.locals\n  opts._locals = self.locals;\n\n  // default callback to respond\n  done = done || function (err, str) {\n    if (err) return req.next(err);\n    self.send(str);\n  };\n\n  // render\n  app.render(view, opts, done);\n};\n\n// pipe the send file stream\nfunction sendfile(res, file, options, callback) {\n  var done = false;\n  var streaming;\n\n  // request aborted\n  function onaborted() {\n    if (done) return;\n    done = true;\n\n    var err = new Error('Request aborted');\n    err.code = 'ECONNABORTED';\n    callback(err);\n  }\n\n  // directory\n  function ondirectory() {\n    if (done) return;\n    done = true;\n\n    var err = new Error('EISDIR, read');\n    err.code = 'EISDIR';\n    callback(err);\n  }\n\n  // errors\n  function onerror(err) {\n    if (done) return;\n    done = true;\n    callback(err);\n  }\n\n  // ended\n  function onend() {\n    if (done) return;\n    done = true;\n    callback();\n  }\n\n  // file\n  function onfile() {\n    streaming = false;\n  }\n\n  // finished\n  function onfinish(err) {\n    if (err && err.code === 'ECONNRESET') return onaborted();\n    if (err) return onerror(err);\n    if (done) return;\n\n    setImmediate(function () {\n      if (streaming !== false && !done) {\n        onaborted();\n        return;\n      }\n\n      if (done) return;\n      done = true;\n      callback();\n    });\n  }\n\n  // streaming\n  function onstream() {\n    streaming = true;\n  }\n\n  file.on('directory', ondirectory);\n  file.on('end', onend);\n  file.on('error', onerror);\n  file.on('file', onfile);\n  file.on('stream', onstream);\n  onFinished(res, onfinish);\n\n  if (options.headers) {\n    // set headers on successful transfer\n    file.on('headers', function headers(res) {\n      var obj = options.headers;\n      var keys = Object.keys(obj);\n\n      for (var i = 0; i < keys.length; i++) {\n        var k = keys[i];\n        res.setHeader(k, obj[k]);\n      }\n    });\n  }\n\n  // pipe\n  file.pipe(res);\n}\n\n/**\n * Stringify JSON, like JSON.stringify, but v8 optimized, with the\n * ability to escape characters that can trigger HTML sniffing.\n *\n * @param {*} value\n * @param {function} replacer\n * @param {number} spaces\n * @param {boolean} escape\n * @returns {string}\n * @private\n */\n\nfunction stringify (value, replacer, spaces, escape) {\n  // v8 checks arguments.length for optimizing simple call\n  // https://bugs.chromium.org/p/v8/issues/detail?id=4730\n  var json = replacer || spaces\n    ? JSON.stringify(value, replacer, spaces)\n    : JSON.stringify(value);\n\n  if (escape && typeof json === 'string') {\n    json = json.replace(/[<>&]/g, function (c) {\n      switch (c.charCodeAt(0)) {\n        case 0x3c:\n          return '\\\\u003c'\n        case 0x3e:\n          return '\\\\u003e'\n        case 0x26:\n          return '\\\\u0026'\n        /* istanbul ignore next: unreachable default */\n        default:\n          return c\n      }\n    })\n  }\n\n  return json\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Route = require('./route');\nvar Layer = require('./layer');\nvar methods = require('methods');\nvar mixin = require('utils-merge');\nvar debug = require('debug')('express:router');\nvar deprecate = require('depd')('express');\nvar flatten = require('array-flatten');\nvar parseUrl = require('parseurl');\nvar setPrototypeOf = require('setprototypeof')\n\n/**\n * Module variables.\n * @private\n */\n\nvar objectRegExp = /^\\[object (\\S+)\\]$/;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n/**\n * Initialize a new `Router` with the given `options`.\n *\n * @param {Object} [options]\n * @return {Router} which is a callable function\n * @public\n */\n\nvar proto = module.exports = function(options) {\n  var opts = options || {};\n\n  function router(req, res, next) {\n    router.handle(req, res, next);\n  }\n\n  // mixin Router class functions\n  setPrototypeOf(router, proto)\n\n  router.params = {};\n  router._params = [];\n  router.caseSensitive = opts.caseSensitive;\n  router.mergeParams = opts.mergeParams;\n  router.strict = opts.strict;\n  router.stack = [];\n\n  return router;\n};\n\n/**\n * Map the given param placeholder `name`(s) to the given callback.\n *\n * Parameter mapping is used to provide pre-conditions to routes\n * which use normalized placeholders. For example a _:user_id_ parameter\n * could automatically load a user's information from the database without\n * any additional code,\n *\n * The callback uses the same signature as middleware, the only difference\n * being that the value of the placeholder is passed, in this case the _id_\n * of the user. Once the `next()` function is invoked, just like middleware\n * it will continue on to execute the route, or subsequent parameter functions.\n *\n * Just like in middleware, you must either respond to the request or call next\n * to avoid stalling the request.\n *\n *  app.param('user_id', function(req, res, next, id){\n *    User.find(id, function(err, user){\n *      if (err) {\n *        return next(err);\n *      } else if (!user) {\n *        return next(new Error('failed to load user'));\n *      }\n *      req.user = user;\n *      next();\n *    });\n *  });\n *\n * @param {String} name\n * @param {Function} fn\n * @return {app} for chaining\n * @public\n */\n\nproto.param = function param(name, fn) {\n  // param logic\n  if (typeof name === 'function') {\n    deprecate('router.param(fn): Refactor to use path params');\n    this._params.push(name);\n    return;\n  }\n\n  // apply param functions\n  var params = this._params;\n  var len = params.length;\n  var ret;\n\n  if (name[0] === ':') {\n    deprecate('router.param(' + JSON.stringify(name) + ', fn): Use router.param(' + JSON.stringify(name.slice(1)) + ', fn) instead')\n    name = name.slice(1)\n  }\n\n  for (var i = 0; i < len; ++i) {\n    if (ret = params[i](name, fn)) {\n      fn = ret;\n    }\n  }\n\n  // ensure we end up with a\n  // middleware function\n  if ('function' !== typeof fn) {\n    throw new Error('invalid param() call for ' + name + ', got ' + fn);\n  }\n\n  (this.params[name] = this.params[name] || []).push(fn);\n  return this;\n};\n\n/**\n * Dispatch a req, res into the router.\n * @private\n */\n\nproto.handle = function handle(req, res, out) {\n  var self = this;\n\n  debug('dispatching %s %s', req.method, req.url);\n\n  var idx = 0;\n  var protohost = getProtohost(req.url) || ''\n  var removed = '';\n  var slashAdded = false;\n  var sync = 0\n  var paramcalled = {};\n\n  // store options for OPTIONS request\n  // only used if OPTIONS request\n  var options = [];\n\n  // middleware and routes\n  var stack = self.stack;\n\n  // manage inter-router variables\n  var parentParams = req.params;\n  var parentUrl = req.baseUrl || '';\n  var done = restore(out, req, 'baseUrl', 'next', 'params');\n\n  // setup next layer\n  req.next = next;\n\n  // for options requests, respond with a default if nothing else responds\n  if (req.method === 'OPTIONS') {\n    done = wrap(done, function(old, err) {\n      if (err || options.length === 0) return old(err);\n      sendOptionsResponse(res, options, old);\n    });\n  }\n\n  // setup basic req values\n  req.baseUrl = parentUrl;\n  req.originalUrl = req.originalUrl || req.url;\n\n  next();\n\n  function next(err) {\n    var layerError = err === 'route'\n      ? null\n      : err;\n\n    // remove added slash\n    if (slashAdded) {\n      req.url = req.url.slice(1)\n      slashAdded = false;\n    }\n\n    // restore altered req.url\n    if (removed.length !== 0) {\n      req.baseUrl = parentUrl;\n      req.url = protohost + removed + req.url.slice(protohost.length)\n      removed = '';\n    }\n\n    // signal to exit router\n    if (layerError === 'router') {\n      setImmediate(done, null)\n      return\n    }\n\n    // no more matching layers\n    if (idx >= stack.length) {\n      setImmediate(done, layerError);\n      return;\n    }\n\n    // max sync stack\n    if (++sync > 100) {\n      return setImmediate(next, err)\n    }\n\n    // get pathname of request\n    var path = getPathname(req);\n\n    if (path == null) {\n      return done(layerError);\n    }\n\n    // find next matching layer\n    var layer;\n    var match;\n    var route;\n\n    while (match !== true && idx < stack.length) {\n      layer = stack[idx++];\n      match = matchLayer(layer, path);\n      route = layer.route;\n\n      if (typeof match !== 'boolean') {\n        // hold on to layerError\n        layerError = layerError || match;\n      }\n\n      if (match !== true) {\n        continue;\n      }\n\n      if (!route) {\n        // process non-route handlers normally\n        continue;\n      }\n\n      if (layerError) {\n        // routes do not match with a pending error\n        match = false;\n        continue;\n      }\n\n      var method = req.method;\n      var has_method = route._handles_method(method);\n\n      // build up automatic options response\n      if (!has_method && method === 'OPTIONS') {\n        appendMethods(options, route._options());\n      }\n\n      // don't even bother matching route\n      if (!has_method && method !== 'HEAD') {\n        match = false;\n      }\n    }\n\n    // no match\n    if (match !== true) {\n      return done(layerError);\n    }\n\n    // store route for dispatch on change\n    if (route) {\n      req.route = route;\n    }\n\n    // Capture one-time layer values\n    req.params = self.mergeParams\n      ? mergeParams(layer.params, parentParams)\n      : layer.params;\n    var layerPath = layer.path;\n\n    // this should be done for the layer\n    self.process_params(layer, paramcalled, req, res, function (err) {\n      if (err) {\n        next(layerError || err)\n      } else if (route) {\n        layer.handle_request(req, res, next)\n      } else {\n        trim_prefix(layer, layerError, layerPath, path)\n      }\n\n      sync = 0\n    });\n  }\n\n  function trim_prefix(layer, layerError, layerPath, path) {\n    if (layerPath.length !== 0) {\n      // Validate path is a prefix match\n      if (layerPath !== path.slice(0, layerPath.length)) {\n        next(layerError)\n        return\n      }\n\n      // Validate path breaks on a path separator\n      var c = path[layerPath.length]\n      if (c && c !== '/' && c !== '.') return next(layerError)\n\n      // Trim off the part of the url that matches the route\n      // middleware (.use stuff) needs to have the path stripped\n      debug('trim prefix (%s) from url %s', layerPath, req.url);\n      removed = layerPath;\n      req.url = protohost + req.url.slice(protohost.length + removed.length)\n\n      // Ensure leading slash\n      if (!protohost && req.url[0] !== '/') {\n        req.url = '/' + req.url;\n        slashAdded = true;\n      }\n\n      // Setup base URL (no trailing slash)\n      req.baseUrl = parentUrl + (removed[removed.length - 1] === '/'\n        ? removed.substring(0, removed.length - 1)\n        : removed);\n    }\n\n    debug('%s %s : %s', layer.name, layerPath, req.originalUrl);\n\n    if (layerError) {\n      layer.handle_error(layerError, req, res, next);\n    } else {\n      layer.handle_request(req, res, next);\n    }\n  }\n};\n\n/**\n * Process any parameters for the layer.\n * @private\n */\n\nproto.process_params = function process_params(layer, called, req, res, done) {\n  var params = this.params;\n\n  // captured parameters from the layer, keys and values\n  var keys = layer.keys;\n\n  // fast track\n  if (!keys || keys.length === 0) {\n    return done();\n  }\n\n  var i = 0;\n  var name;\n  var paramIndex = 0;\n  var key;\n  var paramVal;\n  var paramCallbacks;\n  var paramCalled;\n\n  // process params in order\n  // param callbacks can be async\n  function param(err) {\n    if (err) {\n      return done(err);\n    }\n\n    if (i >= keys.length ) {\n      return done();\n    }\n\n    paramIndex = 0;\n    key = keys[i++];\n    name = key.name;\n    paramVal = req.params[name];\n    paramCallbacks = params[name];\n    paramCalled = called[name];\n\n    if (paramVal === undefined || !paramCallbacks) {\n      return param();\n    }\n\n    // param previously called with same value or error occurred\n    if (paramCalled && (paramCalled.match === paramVal\n      || (paramCalled.error && paramCalled.error !== 'route'))) {\n      // restore value\n      req.params[name] = paramCalled.value;\n\n      // next param\n      return param(paramCalled.error);\n    }\n\n    called[name] = paramCalled = {\n      error: null,\n      match: paramVal,\n      value: paramVal\n    };\n\n    paramCallback();\n  }\n\n  // single param callbacks\n  function paramCallback(err) {\n    var fn = paramCallbacks[paramIndex++];\n\n    // store updated value\n    paramCalled.value = req.params[key.name];\n\n    if (err) {\n      // store error\n      paramCalled.error = err;\n      param(err);\n      return;\n    }\n\n    if (!fn) return param();\n\n    try {\n      fn(req, res, paramCallback, paramVal, key.name);\n    } catch (e) {\n      paramCallback(e);\n    }\n  }\n\n  param();\n};\n\n/**\n * Use the given middleware function, with optional path, defaulting to \"/\".\n *\n * Use (like `.all`) will run for any http METHOD, but it will not add\n * handlers for those methods so OPTIONS requests will not consider `.use`\n * functions even if they could respond.\n *\n * The other difference is that _route_ path is stripped and not visible\n * to the handler function. The main effect of this feature is that mounted\n * handlers can operate without any code changes regardless of the \"prefix\"\n * pathname.\n *\n * @public\n */\n\nproto.use = function use(fn) {\n  var offset = 0;\n  var path = '/';\n\n  // default path to '/'\n  // disambiguate router.use([fn])\n  if (typeof fn !== 'function') {\n    var arg = fn;\n\n    while (Array.isArray(arg) && arg.length !== 0) {\n      arg = arg[0];\n    }\n\n    // first arg is the path\n    if (typeof arg !== 'function') {\n      offset = 1;\n      path = fn;\n    }\n  }\n\n  var callbacks = flatten(slice.call(arguments, offset));\n\n  if (callbacks.length === 0) {\n    throw new TypeError('Router.use() requires a middleware function')\n  }\n\n  for (var i = 0; i < callbacks.length; i++) {\n    var fn = callbacks[i];\n\n    if (typeof fn !== 'function') {\n      throw new TypeError('Router.use() requires a middleware function but got a ' + gettype(fn))\n    }\n\n    // add the middleware\n    debug('use %o %s', path, fn.name || '<anonymous>')\n\n    var layer = new Layer(path, {\n      sensitive: this.caseSensitive,\n      strict: false,\n      end: false\n    }, fn);\n\n    layer.route = undefined;\n\n    this.stack.push(layer);\n  }\n\n  return this;\n};\n\n/**\n * Create a new Route for the given path.\n *\n * Each route contains a separate middleware stack and VERB handlers.\n *\n * See the Route api documentation for details on adding handlers\n * and middleware to routes.\n *\n * @param {String} path\n * @return {Route}\n * @public\n */\n\nproto.route = function route(path) {\n  var route = new Route(path);\n\n  var layer = new Layer(path, {\n    sensitive: this.caseSensitive,\n    strict: this.strict,\n    end: true\n  }, route.dispatch.bind(route));\n\n  layer.route = route;\n\n  this.stack.push(layer);\n  return route;\n};\n\n// create Router#VERB functions\nmethods.concat('all').forEach(function(method){\n  proto[method] = function(path){\n    var route = this.route(path)\n    route[method].apply(route, slice.call(arguments, 1));\n    return this;\n  };\n});\n\n// append methods to a list of methods\nfunction appendMethods(list, addition) {\n  for (var i = 0; i < addition.length; i++) {\n    var method = addition[i];\n    if (list.indexOf(method) === -1) {\n      list.push(method);\n    }\n  }\n}\n\n// get pathname of request\nfunction getPathname(req) {\n  try {\n    return parseUrl(req).pathname;\n  } catch (err) {\n    return undefined;\n  }\n}\n\n// Get get protocol + host for a URL\nfunction getProtohost(url) {\n  if (typeof url !== 'string' || url.length === 0 || url[0] === '/') {\n    return undefined\n  }\n\n  var searchIndex = url.indexOf('?')\n  var pathLength = searchIndex !== -1\n    ? searchIndex\n    : url.length\n  var fqdnIndex = url.slice(0, pathLength).indexOf('://')\n\n  return fqdnIndex !== -1\n    ? url.substring(0, url.indexOf('/', 3 + fqdnIndex))\n    : undefined\n}\n\n// get type for error message\nfunction gettype(obj) {\n  var type = typeof obj;\n\n  if (type !== 'object') {\n    return type;\n  }\n\n  // inspect [[Class]] for objects\n  return toString.call(obj)\n    .replace(objectRegExp, '$1');\n}\n\n/**\n * Match path to a layer.\n *\n * @param {Layer} layer\n * @param {string} path\n * @private\n */\n\nfunction matchLayer(layer, path) {\n  try {\n    return layer.match(path);\n  } catch (err) {\n    return err;\n  }\n}\n\n// merge params with parent params\nfunction mergeParams(params, parent) {\n  if (typeof parent !== 'object' || !parent) {\n    return params;\n  }\n\n  // make copy of parent for base\n  var obj = mixin({}, parent);\n\n  // simple non-numeric merging\n  if (!(0 in params) || !(0 in parent)) {\n    return mixin(obj, params);\n  }\n\n  var i = 0;\n  var o = 0;\n\n  // determine numeric gaps\n  while (i in params) {\n    i++;\n  }\n\n  while (o in parent) {\n    o++;\n  }\n\n  // offset numeric indices in params before merge\n  for (i--; i >= 0; i--) {\n    params[i + o] = params[i];\n\n    // create holes for the merge when necessary\n    if (i < o) {\n      delete params[i];\n    }\n  }\n\n  return mixin(obj, params);\n}\n\n// restore obj props after function\nfunction restore(fn, obj) {\n  var props = new Array(arguments.length - 2);\n  var vals = new Array(arguments.length - 2);\n\n  for (var i = 0; i < props.length; i++) {\n    props[i] = arguments[i + 2];\n    vals[i] = obj[props[i]];\n  }\n\n  return function () {\n    // restore vals\n    for (var i = 0; i < props.length; i++) {\n      obj[props[i]] = vals[i];\n    }\n\n    return fn.apply(this, arguments);\n  };\n}\n\n// send an OPTIONS response\nfunction sendOptionsResponse(res, options, next) {\n  try {\n    var body = options.join(',');\n    res.set('Allow', body);\n    res.send(body);\n  } catch (err) {\n    next(err);\n  }\n}\n\n// wrap a function\nfunction wrap(old, fn) {\n  return function proxy() {\n    var args = new Array(arguments.length + 1);\n\n    args[0] = old;\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      args[i + 1] = arguments[i];\n    }\n\n    fn.apply(this, args);\n  };\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar pathRegexp = require('path-to-regexp');\nvar debug = require('debug')('express:router:layer');\n\n/**\n * Module variables.\n * @private\n */\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Layer;\n\nfunction Layer(path, options, fn) {\n  if (!(this instanceof Layer)) {\n    return new Layer(path, options, fn);\n  }\n\n  debug('new %o', path)\n  var opts = options || {};\n\n  this.handle = fn;\n  this.name = fn.name || '<anonymous>';\n  this.params = undefined;\n  this.path = undefined;\n  this.regexp = pathRegexp(path, this.keys = [], opts);\n\n  // set fast path flags\n  this.regexp.fast_star = path === '*'\n  this.regexp.fast_slash = path === '/' && opts.end === false\n}\n\n/**\n * Handle the error for the layer.\n *\n * @param {Error} error\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handle_error = function handle_error(error, req, res, next) {\n  var fn = this.handle;\n\n  if (fn.length !== 4) {\n    // not a standard error handler\n    return next(error);\n  }\n\n  try {\n    fn(error, req, res, next);\n  } catch (err) {\n    next(err);\n  }\n};\n\n/**\n * Handle the request for the layer.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handle_request = function handle(req, res, next) {\n  var fn = this.handle;\n\n  if (fn.length > 3) {\n    // not a standard request handler\n    return next();\n  }\n\n  try {\n    fn(req, res, next);\n  } catch (err) {\n    next(err);\n  }\n};\n\n/**\n * Check if this route matches `path`, if so\n * populate `.params`.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nLayer.prototype.match = function match(path) {\n  var match\n\n  if (path != null) {\n    // fast path non-ending match for / (any path matches)\n    if (this.regexp.fast_slash) {\n      this.params = {}\n      this.path = ''\n      return true\n    }\n\n    // fast path for * (everything matched in a param)\n    if (this.regexp.fast_star) {\n      this.params = {'0': decode_param(path)}\n      this.path = path\n      return true\n    }\n\n    // match the path\n    match = this.regexp.exec(path)\n  }\n\n  if (!match) {\n    this.params = undefined;\n    this.path = undefined;\n    return false;\n  }\n\n  // store values\n  this.params = {};\n  this.path = match[0]\n\n  var keys = this.keys;\n  var params = this.params;\n\n  for (var i = 1; i < match.length; i++) {\n    var key = keys[i - 1];\n    var prop = key.name;\n    var val = decode_param(match[i])\n\n    if (val !== undefined || !(hasOwnProperty.call(params, prop))) {\n      params[prop] = val;\n    }\n  }\n\n  return true;\n};\n\n/**\n * Decode param value.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction decode_param(val) {\n  if (typeof val !== 'string' || val.length === 0) {\n    return val;\n  }\n\n  try {\n    return decodeURIComponent(val);\n  } catch (err) {\n    if (err instanceof URIError) {\n      err.message = 'Failed to decode param \\'' + val + '\\'';\n      err.status = err.statusCode = 400;\n    }\n\n    throw err;\n  }\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar debug = require('debug')('express:router:route');\nvar flatten = require('array-flatten');\nvar Layer = require('./layer');\nvar methods = require('methods');\n\n/**\n * Module variables.\n * @private\n */\n\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Route;\n\n/**\n * Initialize `Route` with the given `path`,\n *\n * @param {String} path\n * @public\n */\n\nfunction Route(path) {\n  this.path = path;\n  this.stack = [];\n\n  debug('new %o', path)\n\n  // route handlers for various http methods\n  this.methods = {};\n}\n\n/**\n * Determine if the route handles a given method.\n * @private\n */\n\nRoute.prototype._handles_method = function _handles_method(method) {\n  if (this.methods._all) {\n    return true;\n  }\n\n  // normalize name\n  var name = typeof method === 'string'\n    ? method.toLowerCase()\n    : method\n\n  if (name === 'head' && !this.methods['head']) {\n    name = 'get';\n  }\n\n  return Boolean(this.methods[name]);\n};\n\n/**\n * @return {Array} supported HTTP methods\n * @private\n */\n\nRoute.prototype._options = function _options() {\n  var methods = Object.keys(this.methods);\n\n  // append automatic head\n  if (this.methods.get && !this.methods.head) {\n    methods.push('head');\n  }\n\n  for (var i = 0; i < methods.length; i++) {\n    // make upper case\n    methods[i] = methods[i].toUpperCase();\n  }\n\n  return methods;\n};\n\n/**\n * dispatch req, res into this route\n * @private\n */\n\nRoute.prototype.dispatch = function dispatch(req, res, done) {\n  var idx = 0;\n  var stack = this.stack;\n  var sync = 0\n\n  if (stack.length === 0) {\n    return done();\n  }\n  var method = typeof req.method === 'string'\n    ? req.method.toLowerCase()\n    : req.method\n\n  if (method === 'head' && !this.methods['head']) {\n    method = 'get';\n  }\n\n  req.route = this;\n\n  next();\n\n  function next(err) {\n    // signal to exit route\n    if (err && err === 'route') {\n      return done();\n    }\n\n    // signal to exit router\n    if (err && err === 'router') {\n      return done(err)\n    }\n\n    // max sync stack\n    if (++sync > 100) {\n      return setImmediate(next, err)\n    }\n\n    var layer = stack[idx++]\n\n    // end of layers\n    if (!layer) {\n      return done(err)\n    }\n\n    if (layer.method && layer.method !== method) {\n      next(err)\n    } else if (err) {\n      layer.handle_error(err, req, res, next);\n    } else {\n      layer.handle_request(req, res, next);\n    }\n\n    sync = 0\n  }\n};\n\n/**\n * Add a handler for all HTTP verbs to this route.\n *\n * Behaves just like middleware and can respond or call `next`\n * to continue processing.\n *\n * You can use multiple `.all` call to add multiple handlers.\n *\n *   function check_something(req, res, next){\n *     next();\n *   };\n *\n *   function validate_user(req, res, next){\n *     next();\n *   };\n *\n *   route\n *   .all(validate_user)\n *   .all(check_something)\n *   .get(function(req, res, next){\n *     res.send('hello world');\n *   });\n *\n * @param {function} handler\n * @return {Route} for chaining\n * @api public\n */\n\nRoute.prototype.all = function all() {\n  var handles = flatten(slice.call(arguments));\n\n  for (var i = 0; i < handles.length; i++) {\n    var handle = handles[i];\n\n    if (typeof handle !== 'function') {\n      var type = toString.call(handle);\n      var msg = 'Route.all() requires a callback function but got a ' + type\n      throw new TypeError(msg);\n    }\n\n    var layer = Layer('/', {}, handle);\n    layer.method = undefined;\n\n    this.methods._all = true;\n    this.stack.push(layer);\n  }\n\n  return this;\n};\n\nmethods.forEach(function(method){\n  Route.prototype[method] = function(){\n    var handles = flatten(slice.call(arguments));\n\n    for (var i = 0; i < handles.length; i++) {\n      var handle = handles[i];\n\n      if (typeof handle !== 'function') {\n        var type = toString.call(handle);\n        var msg = 'Route.' + method + '() requires a callback function but got a ' + type\n        throw new Error(msg);\n      }\n\n      debug('%s %o', method, this.path)\n\n      var layer = Layer('/', {}, handle);\n      layer.method = method;\n\n      this.methods[method] = true;\n      this.stack.push(layer);\n    }\n\n    return this;\n  };\n});\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @api private\n */\n\nvar Buffer = require('safe-buffer').Buffer\nvar contentDisposition = require('content-disposition');\nvar contentType = require('content-type');\nvar deprecate = require('depd')('express');\nvar flatten = require('array-flatten');\nvar mime = require('send').mime;\nvar etag = require('etag');\nvar proxyaddr = require('proxy-addr');\nvar qs = require('qs');\nvar querystring = require('querystring');\n\n/**\n * Return strong ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */\n\nexports.etag = createETagGenerator({ weak: false })\n\n/**\n * Return weak ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */\n\nexports.wetag = createETagGenerator({ weak: true })\n\n/**\n * Check if `path` looks absolute.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nexports.isAbsolute = function(path){\n  if ('/' === path[0]) return true;\n  if (':' === path[1] && ('\\\\' === path[2] || '/' === path[2])) return true; // Windows device path\n  if ('\\\\\\\\' === path.substring(0, 2)) return true; // Microsoft Azure absolute path\n};\n\n/**\n * Flatten the given `arr`.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nexports.flatten = deprecate.function(flatten,\n  'utils.flatten: use array-flatten npm module instead');\n\n/**\n * Normalize the given `type`, for example \"html\" becomes \"text/html\".\n *\n * @param {String} type\n * @return {Object}\n * @api private\n */\n\nexports.normalizeType = function(type){\n  return ~type.indexOf('/')\n    ? acceptParams(type)\n    : { value: mime.lookup(type), params: {} };\n};\n\n/**\n * Normalize `types`, for example \"html\" becomes \"text/html\".\n *\n * @param {Array} types\n * @return {Array}\n * @api private\n */\n\nexports.normalizeTypes = function(types){\n  var ret = [];\n\n  for (var i = 0; i < types.length; ++i) {\n    ret.push(exports.normalizeType(types[i]));\n  }\n\n  return ret;\n};\n\n/**\n * Generate Content-Disposition header appropriate for the filename.\n * non-ascii filenames are urlencoded and a filename* parameter is added\n *\n * @param {String} filename\n * @return {String}\n * @api private\n */\n\nexports.contentDisposition = deprecate.function(contentDisposition,\n  'utils.contentDisposition: use content-disposition npm module instead');\n\n/**\n * Parse accept params `str` returning an\n * object with `.value`, `.quality` and `.params`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction acceptParams (str) {\n  var parts = str.split(/ *; */);\n  var ret = { value: parts[0], quality: 1, params: {} }\n\n  for (var i = 1; i < parts.length; ++i) {\n    var pms = parts[i].split(/ *= */);\n    if ('q' === pms[0]) {\n      ret.quality = parseFloat(pms[1]);\n    } else {\n      ret.params[pms[0]] = pms[1];\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compile \"etag\" value to function.\n *\n * @param  {Boolean|String|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileETag = function(val) {\n  var fn;\n\n  if (typeof val === 'function') {\n    return val;\n  }\n\n  switch (val) {\n    case true:\n    case 'weak':\n      fn = exports.wetag;\n      break;\n    case false:\n      break;\n    case 'strong':\n      fn = exports.etag;\n      break;\n    default:\n      throw new TypeError('unknown value for etag function: ' + val);\n  }\n\n  return fn;\n}\n\n/**\n * Compile \"query parser\" value to function.\n *\n * @param  {String|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileQueryParser = function compileQueryParser(val) {\n  var fn;\n\n  if (typeof val === 'function') {\n    return val;\n  }\n\n  switch (val) {\n    case true:\n    case 'simple':\n      fn = querystring.parse;\n      break;\n    case false:\n      fn = newObject;\n      break;\n    case 'extended':\n      fn = parseExtendedQueryString;\n      break;\n    default:\n      throw new TypeError('unknown value for query parser function: ' + val);\n  }\n\n  return fn;\n}\n\n/**\n * Compile \"proxy trust\" value to function.\n *\n * @param  {Boolean|String|Number|Array|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileTrust = function(val) {\n  if (typeof val === 'function') return val;\n\n  if (val === true) {\n    // Support plain true/false\n    return function(){ return true };\n  }\n\n  if (typeof val === 'number') {\n    // Support trusting hop count\n    return function(a, i){ return i < val };\n  }\n\n  if (typeof val === 'string') {\n    // Support comma-separated values\n    val = val.split(',')\n      .map(function (v) { return v.trim() })\n  }\n\n  return proxyaddr.compile(val || []);\n}\n\n/**\n * Set the charset in a given Content-Type string.\n *\n * @param {String} type\n * @param {String} charset\n * @return {String}\n * @api private\n */\n\nexports.setCharset = function setCharset(type, charset) {\n  if (!type || !charset) {\n    return type;\n  }\n\n  // parse type\n  var parsed = contentType.parse(type);\n\n  // set charset\n  parsed.parameters.charset = charset;\n\n  // format type\n  return contentType.format(parsed);\n};\n\n/**\n * Create an ETag generator function, generating ETags with\n * the given options.\n *\n * @param {object} options\n * @return {function}\n * @private\n */\n\nfunction createETagGenerator (options) {\n  return function generateETag (body, encoding) {\n    var buf = !Buffer.isBuffer(body)\n      ? Buffer.from(body, encoding)\n      : body\n\n    return etag(buf, options)\n  }\n}\n\n/**\n * Parse an extended query string with qs.\n *\n * @param {String} str\n * @return {Object}\n * @private\n */\n\nfunction parseExtendedQueryString(str) {\n  return qs.parse(str, {\n    allowPrototypes: true\n  });\n}\n\n/**\n * Return new empty object.\n *\n * @return {Object}\n * @api private\n */\n\nfunction newObject() {\n  return {};\n}\n",null,"/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","/*!\n * finalhandler\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar debug = require('debug')('finalhandler')\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar onFinished = require('on-finished')\nvar parseUrl = require('parseurl')\nvar statuses = require('statuses')\nvar unpipe = require('unpipe')\n\n/**\n * Module variables.\n * @private\n */\n\nvar DOUBLE_SPACE_REGEXP = /\\x20{2}/g\nvar NEWLINE_REGEXP = /\\n/g\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function (fn) { process.nextTick(fn.bind.apply(fn, arguments)) }\nvar isFinished = onFinished.isFinished\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} message\n * @private\n */\n\nfunction createHtmlDocument (message) {\n  var body = escapeHtml(message)\n    .replace(NEWLINE_REGEXP, '<br>')\n    .replace(DOUBLE_SPACE_REGEXP, ' &nbsp;')\n\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>Error</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = finalhandler\n\n/**\n * Create a function to handle the final response.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {Object} [options]\n * @return {Function}\n * @public\n */\n\nfunction finalhandler (req, res, options) {\n  var opts = options || {}\n\n  // get environment\n  var env = opts.env || process.env.NODE_ENV || 'development'\n\n  // get error callback\n  var onerror = opts.onerror\n\n  return function (err) {\n    var headers\n    var msg\n    var status\n\n    // ignore 404 on in-flight response\n    if (!err && headersSent(res)) {\n      debug('cannot 404 after headers sent')\n      return\n    }\n\n    // unhandled error\n    if (err) {\n      // respect status code from error\n      status = getErrorStatusCode(err)\n\n      if (status === undefined) {\n        // fallback to status code on response\n        status = getResponseStatusCode(res)\n      } else {\n        // respect headers from error\n        headers = getErrorHeaders(err)\n      }\n\n      // get error message\n      msg = getErrorMessage(err, status, env)\n    } else {\n      // not found\n      status = 404\n      msg = 'Cannot ' + req.method + ' ' + encodeUrl(getResourceName(req))\n    }\n\n    debug('default %s', status)\n\n    // schedule onerror callback\n    if (err && onerror) {\n      defer(onerror, err, req, res)\n    }\n\n    // cannot actually respond\n    if (headersSent(res)) {\n      debug('cannot %d after headers sent', status)\n      req.socket.destroy()\n      return\n    }\n\n    // send response\n    send(req, res, status, headers, msg)\n  }\n}\n\n/**\n * Get headers from Error object.\n *\n * @param {Error} err\n * @return {object}\n * @private\n */\n\nfunction getErrorHeaders (err) {\n  if (!err.headers || typeof err.headers !== 'object') {\n    return undefined\n  }\n\n  var headers = Object.create(null)\n  var keys = Object.keys(err.headers)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    headers[key] = err.headers[key]\n  }\n\n  return headers\n}\n\n/**\n * Get message from Error object, fallback to status message.\n *\n * @param {Error} err\n * @param {number} status\n * @param {string} env\n * @return {string}\n * @private\n */\n\nfunction getErrorMessage (err, status, env) {\n  var msg\n\n  if (env !== 'production') {\n    // use err.stack, which typically includes err.message\n    msg = err.stack\n\n    // fallback to err.toString() when possible\n    if (!msg && typeof err.toString === 'function') {\n      msg = err.toString()\n    }\n  }\n\n  return msg || statuses.message[status]\n}\n\n/**\n * Get status code from Error object.\n *\n * @param {Error} err\n * @return {number}\n * @private\n */\n\nfunction getErrorStatusCode (err) {\n  // check err.status\n  if (typeof err.status === 'number' && err.status >= 400 && err.status < 600) {\n    return err.status\n  }\n\n  // check err.statusCode\n  if (typeof err.statusCode === 'number' && err.statusCode >= 400 && err.statusCode < 600) {\n    return err.statusCode\n  }\n\n  return undefined\n}\n\n/**\n * Get resource name for the request.\n *\n * This is typically just the original pathname of the request\n * but will fallback to \"resource\" is that cannot be determined.\n *\n * @param {IncomingMessage} req\n * @return {string}\n * @private\n */\n\nfunction getResourceName (req) {\n  try {\n    return parseUrl.original(req).pathname\n  } catch (e) {\n    return 'resource'\n  }\n}\n\n/**\n * Get status code from response.\n *\n * @param {OutgoingMessage} res\n * @return {number}\n * @private\n */\n\nfunction getResponseStatusCode (res) {\n  var status = res.statusCode\n\n  // default status code to 500 if outside valid range\n  if (typeof status !== 'number' || status < 400 || status > 599) {\n    status = 500\n  }\n\n  return status\n}\n\n/**\n * Determine if the response headers have been sent.\n *\n * @param {object} res\n * @returns {boolean}\n * @private\n */\n\nfunction headersSent (res) {\n  return typeof res.headersSent !== 'boolean'\n    ? Boolean(res._header)\n    : res.headersSent\n}\n\n/**\n * Send response.\n *\n * @param {IncomingMessage} req\n * @param {OutgoingMessage} res\n * @param {number} status\n * @param {object} headers\n * @param {string} message\n * @private\n */\n\nfunction send (req, res, status, headers, message) {\n  function write () {\n    // response body\n    var body = createHtmlDocument(message)\n\n    // response status\n    res.statusCode = status\n    res.statusMessage = statuses.message[status]\n\n    // remove any content headers\n    res.removeHeader('Content-Encoding')\n    res.removeHeader('Content-Language')\n    res.removeHeader('Content-Range')\n\n    // response headers\n    setHeaders(res, headers)\n\n    // security headers\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n    res.setHeader('X-Content-Type-Options', 'nosniff')\n\n    // standard headers\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(body, 'utf8'))\n\n    if (req.method === 'HEAD') {\n      res.end()\n      return\n    }\n\n    res.end(body, 'utf8')\n  }\n\n  if (isFinished(req)) {\n    write()\n    return\n  }\n\n  // unpipe everything from the request\n  unpipe(req)\n\n  // flush the request\n  onFinished(req, write)\n  req.resume()\n}\n\n/**\n * Set response headers from an object.\n *\n * @param {OutgoingMessage} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeaders (res, headers) {\n  if (!headers) {\n    return\n  }\n\n  var keys = Object.keys(headers)\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    res.setHeader(key, headers[key])\n  }\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","/*!\n * forwarded\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = forwarded\n\n/**\n * Get all addresses in the request, using the `X-Forwarded-For` header.\n *\n * @param {object} req\n * @return {array}\n * @public\n */\n\nfunction forwarded (req) {\n  if (!req) {\n    throw new TypeError('argument req is required')\n  }\n\n  // simple header parsing\n  var proxyAddrs = parse(req.headers['x-forwarded-for'] || '')\n  var socketAddr = getSocketAddr(req)\n  var addrs = [socketAddr].concat(proxyAddrs)\n\n  // return all addresses\n  return addrs\n}\n\n/**\n * Get the socket address for a request.\n *\n * @param {object} req\n * @return {string}\n * @private\n */\n\nfunction getSocketAddr (req) {\n  return req.socket\n    ? req.socket.remoteAddress\n    : req.connection.remoteAddress\n}\n\n/**\n * Parse the X-Forwarded-For header.\n *\n * @param {string} header\n * @private\n */\n\nfunction parse (header) {\n  var end = header.length\n  var list = []\n  var start = header.length\n\n  // gather addresses, backwards\n  for (var i = header.length - 1; i >= 0; i--) {\n    switch (header.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i\n        }\n        break\n      case 0x2c: /* , */\n        if (start !== end) {\n          list.push(header.substring(start, end))\n        }\n        start = end = i\n        break\n      default:\n        start = i\n        break\n    }\n  }\n\n  // final address\n  if (start !== end) {\n    list.push(header.substring(start, end))\n  }\n\n  return list\n}\n","/*!\n * fresh\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2016-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to check for no-cache token in Cache-Control.\n * @private\n */\n\nvar CACHE_CONTROL_NO_CACHE_REGEXP = /(?:^|,)\\s*?no-cache\\s*?(?:,|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = fresh\n\n/**\n * Check freshness of the response using request and response headers.\n *\n * @param {Object} reqHeaders\n * @param {Object} resHeaders\n * @return {Boolean}\n * @public\n */\n\nfunction fresh (reqHeaders, resHeaders) {\n  // fields\n  var modifiedSince = reqHeaders['if-modified-since']\n  var noneMatch = reqHeaders['if-none-match']\n\n  // unconditional request\n  if (!modifiedSince && !noneMatch) {\n    return false\n  }\n\n  // Always return stale when Cache-Control: no-cache\n  // to support end-to-end reload requests\n  // https://tools.ietf.org/html/rfc2616#section-14.9.4\n  var cacheControl = reqHeaders['cache-control']\n  if (cacheControl && CACHE_CONTROL_NO_CACHE_REGEXP.test(cacheControl)) {\n    return false\n  }\n\n  // if-none-match\n  if (noneMatch && noneMatch !== '*') {\n    var etag = resHeaders['etag']\n\n    if (!etag) {\n      return false\n    }\n\n    var etagStale = true\n    var matches = parseTokenList(noneMatch)\n    for (var i = 0; i < matches.length; i++) {\n      var match = matches[i]\n      if (match === etag || match === 'W/' + etag || 'W/' + match === etag) {\n        etagStale = false\n        break\n      }\n    }\n\n    if (etagStale) {\n      return false\n    }\n  }\n\n  // if-modified-since\n  if (modifiedSince) {\n    var lastModified = resHeaders['last-modified']\n    var modifiedStale = !lastModified || !(parseHttpDate(lastModified) <= parseHttpDate(modifiedSince))\n\n    if (modifiedStale) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  // istanbul ignore next: guard against date.js Date.parse patching\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(str.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(str.substring(start, end))\n\n  return list\n}\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","\"use strict\";\n// Copyright 2018 Google LLC\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultErrorRedactor = exports.GaxiosError = exports.GAXIOS_ERROR_SYMBOL = void 0;\nconst url_1 = require(\"url\");\nconst util_1 = require(\"./util\");\nconst extend_1 = __importDefault(require(\"extend\"));\n/**\n * Support `instanceof` operator for `GaxiosError`s in different versions of this library.\n *\n * @see {@link GaxiosError[Symbol.hasInstance]}\n */\nexports.GAXIOS_ERROR_SYMBOL = Symbol.for(`${util_1.pkg.name}-gaxios-error`);\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nclass GaxiosError extends Error {\n    /**\n     * Support `instanceof` operator for `GaxiosError` across builds/duplicated files.\n     *\n     * @see {@link GAXIOS_ERROR_SYMBOL}\n     * @see {@link GaxiosError[GAXIOS_ERROR_SYMBOL]}\n     */\n    static [(_a = exports.GAXIOS_ERROR_SYMBOL, Symbol.hasInstance)](instance) {\n        if (instance &&\n            typeof instance === 'object' &&\n            exports.GAXIOS_ERROR_SYMBOL in instance &&\n            instance[exports.GAXIOS_ERROR_SYMBOL] === util_1.pkg.version) {\n            return true;\n        }\n        // fallback to native\n        return Function.prototype[Symbol.hasInstance].call(GaxiosError, instance);\n    }\n    constructor(message, config, response, error) {\n        var _b;\n        super(message);\n        this.config = config;\n        this.response = response;\n        this.error = error;\n        /**\n         * Support `instanceof` operator for `GaxiosError` across builds/duplicated files.\n         *\n         * @see {@link GAXIOS_ERROR_SYMBOL}\n         * @see {@link GaxiosError[Symbol.hasInstance]}\n         * @see {@link https://github.com/microsoft/TypeScript/issues/13965#issuecomment-278570200}\n         * @see {@link https://stackoverflow.com/questions/46618852/require-and-instanceof}\n         * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/@@hasInstance#reverting_to_default_instanceof_behavior}\n         */\n        this[_a] = util_1.pkg.version;\n        // deep-copy config as we do not want to mutate\n        // the existing config for future retries/use\n        this.config = (0, extend_1.default)(true, {}, config);\n        if (this.response) {\n            this.response.config = (0, extend_1.default)(true, {}, this.response.config);\n        }\n        if (this.response) {\n            try {\n                this.response.data = translateData(this.config.responseType, (_b = this.response) === null || _b === void 0 ? void 0 : _b.data);\n            }\n            catch (_c) {\n                // best effort - don't throw an error within an error\n                // we could set `this.response.config.responseType = 'unknown'`, but\n                // that would mutate future calls with this config object.\n            }\n            this.status = this.response.status;\n        }\n        if (error && 'code' in error && error.code) {\n            this.code = error.code;\n        }\n        if (config.errorRedactor) {\n            config.errorRedactor({\n                config: this.config,\n                response: this.response,\n            });\n        }\n    }\n}\nexports.GaxiosError = GaxiosError;\nfunction translateData(responseType, data) {\n    switch (responseType) {\n        case 'stream':\n            return data;\n        case 'json':\n            return JSON.parse(JSON.stringify(data));\n        case 'arraybuffer':\n            return JSON.parse(Buffer.from(data).toString('utf8'));\n        case 'blob':\n            return JSON.parse(data.text());\n        default:\n            return data;\n    }\n}\n/**\n * An experimental error redactor.\n *\n * @param config Config to potentially redact properties of\n * @param response Config to potentially redact properties of\n *\n * @experimental\n */\nfunction defaultErrorRedactor(data) {\n    const REDACT = '<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.';\n    function redactHeaders(headers) {\n        if (!headers)\n            return;\n        for (const key of Object.keys(headers)) {\n            // any casing of `Authentication`\n            if (/^authentication$/i.test(key)) {\n                headers[key] = REDACT;\n            }\n            // any casing of `Authorization`\n            if (/^authorization$/i.test(key)) {\n                headers[key] = REDACT;\n            }\n            // anything containing secret, such as 'client secret'\n            if (/secret/i.test(key)) {\n                headers[key] = REDACT;\n            }\n        }\n    }\n    function redactString(obj, key) {\n        if (typeof obj === 'object' &&\n            obj !== null &&\n            typeof obj[key] === 'string') {\n            const text = obj[key];\n            if (/grant_type=/i.test(text) ||\n                /assertion=/i.test(text) ||\n                /secret/i.test(text)) {\n                obj[key] = REDACT;\n            }\n        }\n    }\n    function redactObject(obj) {\n        if (typeof obj === 'object' && obj !== null) {\n            if ('grant_type' in obj) {\n                obj['grant_type'] = REDACT;\n            }\n            if ('assertion' in obj) {\n                obj['assertion'] = REDACT;\n            }\n            if ('client_secret' in obj) {\n                obj['client_secret'] = REDACT;\n            }\n        }\n    }\n    if (data.config) {\n        redactHeaders(data.config.headers);\n        redactString(data.config, 'data');\n        redactObject(data.config.data);\n        redactString(data.config, 'body');\n        redactObject(data.config.body);\n        try {\n            const url = new url_1.URL('', data.config.url);\n            if (url.searchParams.has('token')) {\n                url.searchParams.set('token', REDACT);\n            }\n            if (url.searchParams.has('client_secret')) {\n                url.searchParams.set('client_secret', REDACT);\n            }\n            data.config.url = url.toString();\n        }\n        catch (_b) {\n            // ignore error - no need to parse an invalid URL\n        }\n    }\n    if (data.response) {\n        defaultErrorRedactor({ config: data.response.config });\n        redactHeaders(data.response.headers);\n        redactString(data.response, 'data');\n        redactObject(data.response.data);\n    }\n    return data;\n}\nexports.defaultErrorRedactor = defaultErrorRedactor;\n//# sourceMappingURL=common.js.map","\"use strict\";\n// Copyright 2018 Google LLC\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _Gaxios_instances, _a, _Gaxios_urlMayUseProxy, _Gaxios_applyRequestInterceptors, _Gaxios_applyResponseInterceptors, _Gaxios_prepareRequest, _Gaxios_proxyAgent, _Gaxios_getProxyAgent;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Gaxios = void 0;\nconst extend_1 = __importDefault(require(\"extend\"));\nconst https_1 = require(\"https\");\nconst node_fetch_1 = __importDefault(require(\"node-fetch\"));\nconst querystring_1 = __importDefault(require(\"querystring\"));\nconst is_stream_1 = __importDefault(require(\"is-stream\"));\nconst url_1 = require(\"url\");\nconst common_1 = require(\"./common\");\nconst retry_1 = require(\"./retry\");\nconst stream_1 = require(\"stream\");\nconst uuid_1 = require(\"uuid\");\nconst interceptor_1 = require(\"./interceptor\");\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst fetch = hasFetch() ? window.fetch : node_fetch_1.default;\nfunction hasWindow() {\n    return typeof window !== 'undefined' && !!window;\n}\nfunction hasFetch() {\n    return hasWindow() && !!window.fetch;\n}\nfunction hasBuffer() {\n    return typeof Buffer !== 'undefined';\n}\nfunction hasHeader(options, header) {\n    return !!getHeader(options, header);\n}\nfunction getHeader(options, header) {\n    header = header.toLowerCase();\n    for (const key of Object.keys((options === null || options === void 0 ? void 0 : options.headers) || {})) {\n        if (header === key.toLowerCase()) {\n            return options.headers[key];\n        }\n    }\n    return undefined;\n}\nclass Gaxios {\n    /**\n     * The Gaxios class is responsible for making HTTP requests.\n     * @param defaults The default set of options to be used for this instance.\n     */\n    constructor(defaults) {\n        _Gaxios_instances.add(this);\n        this.agentCache = new Map();\n        this.defaults = defaults || {};\n        this.interceptors = {\n            request: new interceptor_1.GaxiosInterceptorManager(),\n            response: new interceptor_1.GaxiosInterceptorManager(),\n        };\n    }\n    /**\n     * Perform an HTTP request with the given options.\n     * @param opts Set of HTTP options that will be used for this HTTP request.\n     */\n    async request(opts = {}) {\n        opts = await __classPrivateFieldGet(this, _Gaxios_instances, \"m\", _Gaxios_prepareRequest).call(this, opts);\n        opts = await __classPrivateFieldGet(this, _Gaxios_instances, \"m\", _Gaxios_applyRequestInterceptors).call(this, opts);\n        return __classPrivateFieldGet(this, _Gaxios_instances, \"m\", _Gaxios_applyResponseInterceptors).call(this, this._request(opts));\n    }\n    async _defaultAdapter(opts) {\n        const fetchImpl = opts.fetchImplementation || fetch;\n        const res = (await fetchImpl(opts.url, opts));\n        const data = await this.getResponseData(opts, res);\n        return this.translateResponse(opts, res, data);\n    }\n    /**\n     * Internal, retryable version of the `request` method.\n     * @param opts Set of HTTP options that will be used for this HTTP request.\n     */\n    async _request(opts = {}) {\n        var _b;\n        try {\n            let translatedResponse;\n            if (opts.adapter) {\n                translatedResponse = await opts.adapter(opts, this._defaultAdapter.bind(this));\n            }\n            else {\n                translatedResponse = await this._defaultAdapter(opts);\n            }\n            if (!opts.validateStatus(translatedResponse.status)) {\n                if (opts.responseType === 'stream') {\n                    let response = '';\n                    await new Promise(resolve => {\n                        (translatedResponse === null || translatedResponse === void 0 ? void 0 : translatedResponse.data).on('data', chunk => {\n                            response += chunk;\n                        });\n                        (translatedResponse === null || translatedResponse === void 0 ? void 0 : translatedResponse.data).on('end', resolve);\n                    });\n                    translatedResponse.data = response;\n                }\n                throw new common_1.GaxiosError(`Request failed with status code ${translatedResponse.status}`, opts, translatedResponse);\n            }\n            return translatedResponse;\n        }\n        catch (e) {\n            const err = e instanceof common_1.GaxiosError\n                ? e\n                : new common_1.GaxiosError(e.message, opts, undefined, e);\n            const { shouldRetry, config } = await (0, retry_1.getRetryConfig)(err);\n            if (shouldRetry && config) {\n                err.config.retryConfig.currentRetryAttempt =\n                    config.retryConfig.currentRetryAttempt;\n                // The error's config could be redacted - therefore we only want to\n                // copy the retry state over to the existing config\n                opts.retryConfig = (_b = err.config) === null || _b === void 0 ? void 0 : _b.retryConfig;\n                return this._request(opts);\n            }\n            throw err;\n        }\n    }\n    async getResponseData(opts, res) {\n        switch (opts.responseType) {\n            case 'stream':\n                return res.body;\n            case 'json': {\n                let data = await res.text();\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (_b) {\n                    // continue\n                }\n                return data;\n            }\n            case 'arraybuffer':\n                return res.arrayBuffer();\n            case 'blob':\n                return res.blob();\n            case 'text':\n                return res.text();\n            default:\n                return this.getResponseDataFromContentType(res);\n        }\n    }\n    /**\n     * By default, throw for any non-2xx status code\n     * @param status status code from the HTTP response\n     */\n    validateStatus(status) {\n        return status >= 200 && status < 300;\n    }\n    /**\n     * Encode a set of key/value pars into a querystring format (?foo=bar&baz=boo)\n     * @param params key value pars to encode\n     */\n    paramsSerializer(params) {\n        return querystring_1.default.stringify(params);\n    }\n    translateResponse(opts, res, data) {\n        // headers need to be converted from a map to an obj\n        const headers = {};\n        res.headers.forEach((value, key) => {\n            headers[key] = value;\n        });\n        return {\n            config: opts,\n            data: data,\n            headers,\n            status: res.status,\n            statusText: res.statusText,\n            // XMLHttpRequestLike\n            request: {\n                responseURL: res.url,\n            },\n        };\n    }\n    /**\n     * Attempts to parse a response by looking at the Content-Type header.\n     * @param {FetchResponse} response the HTTP response.\n     * @returns {Promise<any>} a promise that resolves to the response data.\n     */\n    async getResponseDataFromContentType(response) {\n        let contentType = response.headers.get('Content-Type');\n        if (contentType === null) {\n            // Maintain existing functionality by calling text()\n            return response.text();\n        }\n        contentType = contentType.toLowerCase();\n        if (contentType.includes('application/json')) {\n            let data = await response.text();\n            try {\n                data = JSON.parse(data);\n            }\n            catch (_b) {\n                // continue\n            }\n            return data;\n        }\n        else if (contentType.match(/^text\\//)) {\n            return response.text();\n        }\n        else {\n            // If the content type is something not easily handled, just return the raw data (blob)\n            return response.blob();\n        }\n    }\n    /**\n     * Creates an async generator that yields the pieces of a multipart/related request body.\n     * This implementation follows the spec: https://www.ietf.org/rfc/rfc2387.txt. However, recursive\n     * multipart/related requests are not currently supported.\n     *\n     * @param {GaxioMultipartOptions[]} multipartOptions the pieces to turn into a multipart/related body.\n     * @param {string} boundary the boundary string to be placed between each part.\n     */\n    async *getMultipartRequest(multipartOptions, boundary) {\n        const finale = `--${boundary}--`;\n        for (const currentPart of multipartOptions) {\n            const partContentType = currentPart.headers['Content-Type'] || 'application/octet-stream';\n            const preamble = `--${boundary}\\r\\nContent-Type: ${partContentType}\\r\\n\\r\\n`;\n            yield preamble;\n            if (typeof currentPart.content === 'string') {\n                yield currentPart.content;\n            }\n            else {\n                yield* currentPart.content;\n            }\n            yield '\\r\\n';\n        }\n        yield finale;\n    }\n}\nexports.Gaxios = Gaxios;\n_a = Gaxios, _Gaxios_instances = new WeakSet(), _Gaxios_urlMayUseProxy = function _Gaxios_urlMayUseProxy(url, noProxy = []) {\n    var _b, _c;\n    const candidate = new url_1.URL(url);\n    const noProxyList = [...noProxy];\n    const noProxyEnvList = ((_c = ((_b = process.env.NO_PROXY) !== null && _b !== void 0 ? _b : process.env.no_proxy)) === null || _c === void 0 ? void 0 : _c.split(',')) || [];\n    for (const rule of noProxyEnvList) {\n        noProxyList.push(rule.trim());\n    }\n    for (const rule of noProxyList) {\n        // Match regex\n        if (rule instanceof RegExp) {\n            if (rule.test(candidate.toString())) {\n                return false;\n            }\n        }\n        // Match URL\n        else if (rule instanceof url_1.URL) {\n            if (rule.origin === candidate.origin) {\n                return false;\n            }\n        }\n        // Match string regex\n        else if (rule.startsWith('*.') || rule.startsWith('.')) {\n            const cleanedRule = rule.replace(/^\\*\\./, '.');\n            if (candidate.hostname.endsWith(cleanedRule)) {\n                return false;\n            }\n        }\n        // Basic string match\n        else if (rule === candidate.origin ||\n            rule === candidate.hostname ||\n            rule === candidate.href) {\n            return false;\n        }\n    }\n    return true;\n}, _Gaxios_applyRequestInterceptors = \n/**\n * Applies the request interceptors. The request interceptors are applied after the\n * call to prepareRequest is completed.\n *\n * @param {GaxiosOptions} options The current set of options.\n *\n * @returns {Promise<GaxiosOptions>} Promise that resolves to the set of options or response after interceptors are applied.\n */\nasync function _Gaxios_applyRequestInterceptors(options) {\n    let promiseChain = Promise.resolve(options);\n    for (const interceptor of this.interceptors.request.values()) {\n        if (interceptor) {\n            promiseChain = promiseChain.then(interceptor.resolved, interceptor.rejected);\n        }\n    }\n    return promiseChain;\n}, _Gaxios_applyResponseInterceptors = \n/**\n * Applies the response interceptors. The response interceptors are applied after the\n * call to request is made.\n *\n * @param {GaxiosOptions} options The current set of options.\n *\n * @returns {Promise<GaxiosOptions>} Promise that resolves to the set of options or response after interceptors are applied.\n */\nasync function _Gaxios_applyResponseInterceptors(response) {\n    let promiseChain = Promise.resolve(response);\n    for (const interceptor of this.interceptors.response.values()) {\n        if (interceptor) {\n            promiseChain = promiseChain.then(interceptor.resolved, interceptor.rejected);\n        }\n    }\n    return promiseChain;\n}, _Gaxios_prepareRequest = \n/**\n * Validates the options, merges them with defaults, and prepare request.\n *\n * @param options The original options passed from the client.\n * @returns Prepared options, ready to make a request\n */\nasync function _Gaxios_prepareRequest(options) {\n    var _b, _c, _d, _e;\n    const opts = (0, extend_1.default)(true, {}, this.defaults, options);\n    if (!opts.url) {\n        throw new Error('URL is required.');\n    }\n    // baseUrl has been deprecated, remove in 2.0\n    const baseUrl = opts.baseUrl || opts.baseURL;\n    if (baseUrl) {\n        opts.url = baseUrl.toString() + opts.url;\n    }\n    opts.paramsSerializer = opts.paramsSerializer || this.paramsSerializer;\n    if (opts.params && Object.keys(opts.params).length > 0) {\n        let additionalQueryParams = opts.paramsSerializer(opts.params);\n        if (additionalQueryParams.startsWith('?')) {\n            additionalQueryParams = additionalQueryParams.slice(1);\n        }\n        const prefix = opts.url.toString().includes('?') ? '&' : '?';\n        opts.url = opts.url + prefix + additionalQueryParams;\n    }\n    if (typeof options.maxContentLength === 'number') {\n        opts.size = options.maxContentLength;\n    }\n    if (typeof options.maxRedirects === 'number') {\n        opts.follow = options.maxRedirects;\n    }\n    opts.headers = opts.headers || {};\n    if (opts.multipart === undefined && opts.data) {\n        const isFormData = typeof FormData === 'undefined'\n            ? false\n            : (opts === null || opts === void 0 ? void 0 : opts.data) instanceof FormData;\n        if (is_stream_1.default.readable(opts.data)) {\n            opts.body = opts.data;\n        }\n        else if (hasBuffer() && Buffer.isBuffer(opts.data)) {\n            // Do not attempt to JSON.stringify() a Buffer:\n            opts.body = opts.data;\n            if (!hasHeader(opts, 'Content-Type')) {\n                opts.headers['Content-Type'] = 'application/json';\n            }\n        }\n        else if (typeof opts.data === 'object') {\n            // If www-form-urlencoded content type has been set, but data is\n            // provided as an object, serialize the content using querystring:\n            if (!isFormData) {\n                if (getHeader(opts, 'content-type') ===\n                    'application/x-www-form-urlencoded') {\n                    opts.body = opts.paramsSerializer(opts.data);\n                }\n                else {\n                    // } else if (!(opts.data instanceof FormData)) {\n                    if (!hasHeader(opts, 'Content-Type')) {\n                        opts.headers['Content-Type'] = 'application/json';\n                    }\n                    opts.body = JSON.stringify(opts.data);\n                }\n            }\n        }\n        else {\n            opts.body = opts.data;\n        }\n    }\n    else if (opts.multipart && opts.multipart.length > 0) {\n        // note: once the minimum version reaches Node 16,\n        // this can be replaced with randomUUID() function from crypto\n        // and the dependency on UUID removed\n        const boundary = (0, uuid_1.v4)();\n        opts.headers['Content-Type'] = `multipart/related; boundary=${boundary}`;\n        const bodyStream = new stream_1.PassThrough();\n        opts.body = bodyStream;\n        (0, stream_1.pipeline)(this.getMultipartRequest(opts.multipart, boundary), bodyStream, () => { });\n    }\n    opts.validateStatus = opts.validateStatus || this.validateStatus;\n    opts.responseType = opts.responseType || 'unknown';\n    if (!opts.headers['Accept'] && opts.responseType === 'json') {\n        opts.headers['Accept'] = 'application/json';\n    }\n    opts.method = opts.method || 'GET';\n    const proxy = opts.proxy ||\n        ((_b = process === null || process === void 0 ? void 0 : process.env) === null || _b === void 0 ? void 0 : _b.HTTPS_PROXY) ||\n        ((_c = process === null || process === void 0 ? void 0 : process.env) === null || _c === void 0 ? void 0 : _c.https_proxy) ||\n        ((_d = process === null || process === void 0 ? void 0 : process.env) === null || _d === void 0 ? void 0 : _d.HTTP_PROXY) ||\n        ((_e = process === null || process === void 0 ? void 0 : process.env) === null || _e === void 0 ? void 0 : _e.http_proxy);\n    const urlMayUseProxy = __classPrivateFieldGet(this, _Gaxios_instances, \"m\", _Gaxios_urlMayUseProxy).call(this, opts.url, opts.noProxy);\n    if (opts.agent) {\n        // don't do any of the following options - use the user-provided agent.\n    }\n    else if (proxy && urlMayUseProxy) {\n        const HttpsProxyAgent = await __classPrivateFieldGet(_a, _a, \"m\", _Gaxios_getProxyAgent).call(_a);\n        if (this.agentCache.has(proxy)) {\n            opts.agent = this.agentCache.get(proxy);\n        }\n        else {\n            opts.agent = new HttpsProxyAgent(proxy, {\n                cert: opts.cert,\n                key: opts.key,\n            });\n            this.agentCache.set(proxy, opts.agent);\n        }\n    }\n    else if (opts.cert && opts.key) {\n        // Configure client for mTLS\n        if (this.agentCache.has(opts.key)) {\n            opts.agent = this.agentCache.get(opts.key);\n        }\n        else {\n            opts.agent = new https_1.Agent({\n                cert: opts.cert,\n                key: opts.key,\n            });\n            this.agentCache.set(opts.key, opts.agent);\n        }\n    }\n    if (typeof opts.errorRedactor !== 'function' &&\n        opts.errorRedactor !== false) {\n        opts.errorRedactor = common_1.defaultErrorRedactor;\n    }\n    return opts;\n}, _Gaxios_getProxyAgent = async function _Gaxios_getProxyAgent() {\n    __classPrivateFieldSet(this, _a, __classPrivateFieldGet(this, _a, \"f\", _Gaxios_proxyAgent) || (await Promise.resolve().then(() => __importStar(require('https-proxy-agent')))).HttpsProxyAgent, \"f\", _Gaxios_proxyAgent);\n    return __classPrivateFieldGet(this, _a, \"f\", _Gaxios_proxyAgent);\n};\n/**\n * A cache for the lazily-loaded proxy agent.\n *\n * Should use {@link Gaxios[#getProxyAgent]} to retrieve.\n */\n// using `import` to dynamically import the types here\n_Gaxios_proxyAgent = { value: void 0 };\n//# sourceMappingURL=gaxios.js.map","\"use strict\";\n// Copyright 2018 Google LLC\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.request = exports.instance = exports.Gaxios = exports.GaxiosError = void 0;\nconst gaxios_1 = require(\"./gaxios\");\nObject.defineProperty(exports, \"Gaxios\", { enumerable: true, get: function () { return gaxios_1.Gaxios; } });\nvar common_1 = require(\"./common\");\nObject.defineProperty(exports, \"GaxiosError\", { enumerable: true, get: function () { return common_1.GaxiosError; } });\n__exportStar(require(\"./interceptor\"), exports);\n/**\n * The default instance used when the `request` method is directly\n * invoked.\n */\nexports.instance = new gaxios_1.Gaxios();\n/**\n * Make an HTTP request using the given options.\n * @param opts Options for the request\n */\nasync function request(opts) {\n    return exports.instance.request(opts);\n}\nexports.request = request;\n//# sourceMappingURL=index.js.map","\"use strict\";\n// Copyright 2024 Google LLC\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GaxiosInterceptorManager = void 0;\n/**\n * Class to manage collections of GaxiosInterceptors for both requests and responses.\n */\nclass GaxiosInterceptorManager extends Set {\n}\nexports.GaxiosInterceptorManager = GaxiosInterceptorManager;\n//# sourceMappingURL=interceptor.js.map","\"use strict\";\n// Copyright 2018 Google LLC\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRetryConfig = void 0;\nasync function getRetryConfig(err) {\n    var _a;\n    let config = getConfig(err);\n    if (!err || !err.config || (!config && !err.config.retry)) {\n        return { shouldRetry: false };\n    }\n    config = config || {};\n    config.currentRetryAttempt = config.currentRetryAttempt || 0;\n    config.retry =\n        config.retry === undefined || config.retry === null ? 3 : config.retry;\n    config.httpMethodsToRetry = config.httpMethodsToRetry || [\n        'GET',\n        'HEAD',\n        'PUT',\n        'OPTIONS',\n        'DELETE',\n    ];\n    config.noResponseRetries =\n        config.noResponseRetries === undefined || config.noResponseRetries === null\n            ? 2\n            : config.noResponseRetries;\n    // If this wasn't in the list of status codes where we want\n    // to automatically retry, return.\n    const retryRanges = [\n        // https://en.wikipedia.org/wiki/List_of_HTTP_status_codes\n        // 1xx - Retry (Informational, request still processing)\n        // 2xx - Do not retry (Success)\n        // 3xx - Do not retry (Redirect)\n        // 4xx - Do not retry (Client errors)\n        // 408 - Retry (\"Request Timeout\")\n        // 429 - Retry (\"Too Many Requests\")\n        // 5xx - Retry (Server errors)\n        [100, 199],\n        [408, 408],\n        [429, 429],\n        [500, 599],\n    ];\n    config.statusCodesToRetry = config.statusCodesToRetry || retryRanges;\n    // Put the config back into the err\n    err.config.retryConfig = config;\n    // Determine if we should retry the request\n    const shouldRetryFn = config.shouldRetry || shouldRetryRequest;\n    if (!(await shouldRetryFn(err))) {\n        return { shouldRetry: false, config: err.config };\n    }\n    // Calculate time to wait with exponential backoff.\n    // If this is the first retry, look for a configured retryDelay.\n    const retryDelay = config.currentRetryAttempt ? 0 : (_a = config.retryDelay) !== null && _a !== void 0 ? _a : 100;\n    // Formula: retryDelay + ((2^c - 1 / 2) * 1000)\n    const delay = retryDelay + ((Math.pow(2, config.currentRetryAttempt) - 1) / 2) * 1000;\n    // We're going to retry!  Incremenent the counter.\n    err.config.retryConfig.currentRetryAttempt += 1;\n    // Create a promise that invokes the retry after the backOffDelay\n    const backoff = config.retryBackoff\n        ? config.retryBackoff(err, delay)\n        : new Promise(resolve => {\n            setTimeout(resolve, delay);\n        });\n    // Notify the user if they added an `onRetryAttempt` handler\n    if (config.onRetryAttempt) {\n        config.onRetryAttempt(err);\n    }\n    // Return the promise in which recalls Gaxios to retry the request\n    await backoff;\n    return { shouldRetry: true, config: err.config };\n}\nexports.getRetryConfig = getRetryConfig;\n/**\n * Determine based on config if we should retry the request.\n * @param err The GaxiosError passed to the interceptor.\n */\nfunction shouldRetryRequest(err) {\n    var _a;\n    const config = getConfig(err);\n    // node-fetch raises an AbortError if signaled:\n    // https://github.com/bitinn/node-fetch#request-cancellation-with-abortsignal\n    if (err.name === 'AbortError' || ((_a = err.error) === null || _a === void 0 ? void 0 : _a.name) === 'AbortError') {\n        return false;\n    }\n    // If there's no config, or retries are disabled, return.\n    if (!config || config.retry === 0) {\n        return false;\n    }\n    // Check if this error has no response (ETIMEDOUT, ENOTFOUND, etc)\n    if (!err.response &&\n        (config.currentRetryAttempt || 0) >= config.noResponseRetries) {\n        return false;\n    }\n    // Only retry with configured HttpMethods.\n    if (!err.config.method ||\n        config.httpMethodsToRetry.indexOf(err.config.method.toUpperCase()) < 0) {\n        return false;\n    }\n    // If this wasn't in the list of status codes where we want\n    // to automatically retry, return.\n    if (err.response && err.response.status) {\n        let isInRange = false;\n        for (const [min, max] of config.statusCodesToRetry) {\n            const status = err.response.status;\n            if (status >= min && status <= max) {\n                isInRange = true;\n                break;\n            }\n        }\n        if (!isInRange) {\n            return false;\n        }\n    }\n    // If we are out of retry attempts, return\n    config.currentRetryAttempt = config.currentRetryAttempt || 0;\n    if (config.currentRetryAttempt >= config.retry) {\n        return false;\n    }\n    return true;\n}\n/**\n * Acquire the raxConfig object from an GaxiosError if available.\n * @param err The Gaxios error with a config object.\n */\nfunction getConfig(err) {\n    if (err && err.config && err.config.retryConfig) {\n        return err.config.retryConfig;\n    }\n    return;\n}\n//# sourceMappingURL=retry.js.map","\"use strict\";\n// Copyright 2023 Google LLC\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pkg = void 0;\nexports.pkg = require('../../package.json');\n//# sourceMappingURL=util.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.req = exports.json = exports.toBuffer = void 0;\nconst http = __importStar(require(\"http\"));\nconst https = __importStar(require(\"https\"));\nasync function toBuffer(stream) {\n    let length = 0;\n    const chunks = [];\n    for await (const chunk of stream) {\n        length += chunk.length;\n        chunks.push(chunk);\n    }\n    return Buffer.concat(chunks, length);\n}\nexports.toBuffer = toBuffer;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nasync function json(stream) {\n    const buf = await toBuffer(stream);\n    const str = buf.toString('utf8');\n    try {\n        return JSON.parse(str);\n    }\n    catch (_err) {\n        const err = _err;\n        err.message += ` (input: ${str})`;\n        throw err;\n    }\n}\nexports.json = json;\nfunction req(url, opts = {}) {\n    const href = typeof url === 'string' ? url : url.href;\n    const req = (href.startsWith('https:') ? https : http).request(url, opts);\n    const promise = new Promise((resolve, reject) => {\n        req\n            .once('response', resolve)\n            .once('error', reject)\n            .end();\n    });\n    req.then = promise.then.bind(promise);\n    return req;\n}\nexports.req = req;\n//# sourceMappingURL=helpers.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Agent = void 0;\nconst net = __importStar(require(\"net\"));\nconst http = __importStar(require(\"http\"));\nconst https_1 = require(\"https\");\n__exportStar(require(\"./helpers\"), exports);\nconst INTERNAL = Symbol('AgentBaseInternalState');\nclass Agent extends http.Agent {\n    constructor(opts) {\n        super(opts);\n        this[INTERNAL] = {};\n    }\n    /**\n     * Determine whether this is an `http` or `https` request.\n     */\n    isSecureEndpoint(options) {\n        if (options) {\n            // First check the `secureEndpoint` property explicitly, since this\n            // means that a parent `Agent` is \"passing through\" to this instance.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (typeof options.secureEndpoint === 'boolean') {\n                return options.secureEndpoint;\n            }\n            // If no explicit `secure` endpoint, check if `protocol` property is\n            // set. This will usually be the case since using a full string URL\n            // or `URL` instance should be the most common usage.\n            if (typeof options.protocol === 'string') {\n                return options.protocol === 'https:';\n            }\n        }\n        // Finally, if no `protocol` property was set, then fall back to\n        // checking the stack trace of the current call stack, and try to\n        // detect the \"https\" module.\n        const { stack } = new Error();\n        if (typeof stack !== 'string')\n            return false;\n        return stack\n            .split('\\n')\n            .some((l) => l.indexOf('(https.js:') !== -1 ||\n            l.indexOf('node:https:') !== -1);\n    }\n    // In order to support async signatures in `connect()` and Node's native\n    // connection pooling in `http.Agent`, the array of sockets for each origin\n    // has to be updated synchronously. This is so the length of the array is\n    // accurate when `addRequest()` is next called. We achieve this by creating a\n    // fake socket and adding it to `sockets[origin]` and incrementing\n    // `totalSocketCount`.\n    incrementSockets(name) {\n        // If `maxSockets` and `maxTotalSockets` are both Infinity then there is no\n        // need to create a fake socket because Node.js native connection pooling\n        // will never be invoked.\n        if (this.maxSockets === Infinity && this.maxTotalSockets === Infinity) {\n            return null;\n        }\n        // All instances of `sockets` are expected TypeScript errors. The\n        // alternative is to add it as a private property of this class but that\n        // will break TypeScript subclassing.\n        if (!this.sockets[name]) {\n            // @ts-expect-error `sockets` is readonly in `@types/node`\n            this.sockets[name] = [];\n        }\n        const fakeSocket = new net.Socket({ writable: false });\n        this.sockets[name].push(fakeSocket);\n        // @ts-expect-error `totalSocketCount` isn't defined in `@types/node`\n        this.totalSocketCount++;\n        return fakeSocket;\n    }\n    decrementSockets(name, socket) {\n        if (!this.sockets[name] || socket === null) {\n            return;\n        }\n        const sockets = this.sockets[name];\n        const index = sockets.indexOf(socket);\n        if (index !== -1) {\n            sockets.splice(index, 1);\n            // @ts-expect-error  `totalSocketCount` isn't defined in `@types/node`\n            this.totalSocketCount--;\n            if (sockets.length === 0) {\n                // @ts-expect-error `sockets` is readonly in `@types/node`\n                delete this.sockets[name];\n            }\n        }\n    }\n    // In order to properly update the socket pool, we need to call `getName()` on\n    // the core `https.Agent` if it is a secureEndpoint.\n    getName(options) {\n        const secureEndpoint = typeof options.secureEndpoint === 'boolean'\n            ? options.secureEndpoint\n            : this.isSecureEndpoint(options);\n        if (secureEndpoint) {\n            // @ts-expect-error `getName()` isn't defined in `@types/node`\n            return https_1.Agent.prototype.getName.call(this, options);\n        }\n        // @ts-expect-error `getName()` isn't defined in `@types/node`\n        return super.getName(options);\n    }\n    createSocket(req, options, cb) {\n        const connectOpts = {\n            ...options,\n            secureEndpoint: this.isSecureEndpoint(options),\n        };\n        const name = this.getName(connectOpts);\n        const fakeSocket = this.incrementSockets(name);\n        Promise.resolve()\n            .then(() => this.connect(req, connectOpts))\n            .then((socket) => {\n            this.decrementSockets(name, fakeSocket);\n            if (socket instanceof http.Agent) {\n                // @ts-expect-error `addRequest()` isn't defined in `@types/node`\n                return socket.addRequest(req, connectOpts);\n            }\n            this[INTERNAL].currentSocket = socket;\n            // @ts-expect-error `createSocket()` isn't defined in `@types/node`\n            super.createSocket(req, options, cb);\n        }, (err) => {\n            this.decrementSockets(name, fakeSocket);\n            cb(err);\n        });\n    }\n    createConnection() {\n        const socket = this[INTERNAL].currentSocket;\n        this[INTERNAL].currentSocket = undefined;\n        if (!socket) {\n            throw new Error('No socket was returned in the `connect()` function');\n        }\n        return socket;\n    }\n    get defaultPort() {\n        return (this[INTERNAL].defaultPort ??\n            (this.protocol === 'https:' ? 443 : 80));\n    }\n    set defaultPort(v) {\n        if (this[INTERNAL]) {\n            this[INTERNAL].defaultPort = v;\n        }\n    }\n    get protocol() {\n        return (this[INTERNAL].protocol ??\n            (this.isSecureEndpoint() ? 'https:' : 'http:'));\n    }\n    set protocol(v) {\n        if (this[INTERNAL]) {\n            this[INTERNAL].protocol = v;\n        }\n    }\n}\nexports.Agent = Agent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HttpsProxyAgent = void 0;\nconst net = __importStar(require(\"net\"));\nconst tls = __importStar(require(\"tls\"));\nconst assert_1 = __importDefault(require(\"assert\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst agent_base_1 = require(\"agent-base\");\nconst url_1 = require(\"url\");\nconst parse_proxy_response_1 = require(\"./parse-proxy-response\");\nconst debug = (0, debug_1.default)('https-proxy-agent');\n/**\n * The `HttpsProxyAgent` implements an HTTP Agent subclass that connects to\n * the specified \"HTTP(s) proxy server\" in order to proxy HTTPS requests.\n *\n * Outgoing HTTP requests are first tunneled through the proxy server using the\n * `CONNECT` HTTP request method to establish a connection to the proxy server,\n * and then the proxy server connects to the destination target and issues the\n * HTTP request from the proxy server.\n *\n * `https:` requests have their socket connection upgraded to TLS once\n * the connection to the proxy server has been established.\n */\nclass HttpsProxyAgent extends agent_base_1.Agent {\n    constructor(proxy, opts) {\n        super(opts);\n        this.options = { path: undefined };\n        this.proxy = typeof proxy === 'string' ? new url_1.URL(proxy) : proxy;\n        this.proxyHeaders = opts?.headers ?? {};\n        debug('Creating new HttpsProxyAgent instance: %o', this.proxy.href);\n        // Trim off the brackets from IPv6 addresses\n        const host = (this.proxy.hostname || this.proxy.host).replace(/^\\[|\\]$/g, '');\n        const port = this.proxy.port\n            ? parseInt(this.proxy.port, 10)\n            : this.proxy.protocol === 'https:'\n                ? 443\n                : 80;\n        this.connectOpts = {\n            // Attempt to negotiate http/1.1 for proxy servers that support http/2\n            ALPNProtocols: ['http/1.1'],\n            ...(opts ? omit(opts, 'headers') : null),\n            host,\n            port,\n        };\n    }\n    /**\n     * Called when the node-core HTTP client library is creating a\n     * new HTTP request.\n     */\n    async connect(req, opts) {\n        const { proxy } = this;\n        if (!opts.host) {\n            throw new TypeError('No \"host\" provided');\n        }\n        // Create a socket connection to the proxy server.\n        let socket;\n        if (proxy.protocol === 'https:') {\n            debug('Creating `tls.Socket`: %o', this.connectOpts);\n            const servername = this.connectOpts.servername || this.connectOpts.host;\n            socket = tls.connect({\n                ...this.connectOpts,\n                servername: servername && net.isIP(servername) ? undefined : servername,\n            });\n        }\n        else {\n            debug('Creating `net.Socket`: %o', this.connectOpts);\n            socket = net.connect(this.connectOpts);\n        }\n        const headers = typeof this.proxyHeaders === 'function'\n            ? this.proxyHeaders()\n            : { ...this.proxyHeaders };\n        const host = net.isIPv6(opts.host) ? `[${opts.host}]` : opts.host;\n        let payload = `CONNECT ${host}:${opts.port} HTTP/1.1\\r\\n`;\n        // Inject the `Proxy-Authorization` header if necessary.\n        if (proxy.username || proxy.password) {\n            const auth = `${decodeURIComponent(proxy.username)}:${decodeURIComponent(proxy.password)}`;\n            headers['Proxy-Authorization'] = `Basic ${Buffer.from(auth).toString('base64')}`;\n        }\n        headers.Host = `${host}:${opts.port}`;\n        if (!headers['Proxy-Connection']) {\n            headers['Proxy-Connection'] = this.keepAlive\n                ? 'Keep-Alive'\n                : 'close';\n        }\n        for (const name of Object.keys(headers)) {\n            payload += `${name}: ${headers[name]}\\r\\n`;\n        }\n        const proxyResponsePromise = (0, parse_proxy_response_1.parseProxyResponse)(socket);\n        socket.write(`${payload}\\r\\n`);\n        const { connect, buffered } = await proxyResponsePromise;\n        req.emit('proxyConnect', connect);\n        this.emit('proxyConnect', connect, req);\n        if (connect.statusCode === 200) {\n            req.once('socket', resume);\n            if (opts.secureEndpoint) {\n                // The proxy is connecting to a TLS server, so upgrade\n                // this socket connection to a TLS connection.\n                debug('Upgrading socket connection to TLS');\n                const servername = opts.servername || opts.host;\n                return tls.connect({\n                    ...omit(opts, 'host', 'path', 'port'),\n                    socket,\n                    servername: net.isIP(servername) ? undefined : servername,\n                });\n            }\n            return socket;\n        }\n        // Some other status code that's not 200... need to re-play the HTTP\n        // header \"data\" events onto the socket once the HTTP machinery is\n        // attached so that the node core `http` can parse and handle the\n        // error status code.\n        // Close the original socket, and a new \"fake\" socket is returned\n        // instead, so that the proxy doesn't get the HTTP request\n        // written to it (which may contain `Authorization` headers or other\n        // sensitive data).\n        //\n        // See: https://hackerone.com/reports/541502\n        socket.destroy();\n        const fakeSocket = new net.Socket({ writable: false });\n        fakeSocket.readable = true;\n        // Need to wait for the \"socket\" event to re-play the \"data\" events.\n        req.once('socket', (s) => {\n            debug('Replaying proxy buffer for failed request');\n            (0, assert_1.default)(s.listenerCount('data') > 0);\n            // Replay the \"buffered\" Buffer onto the fake `socket`, since at\n            // this point the HTTP module machinery has been hooked up for\n            // the user.\n            s.push(buffered);\n            s.push(null);\n        });\n        return fakeSocket;\n    }\n}\nHttpsProxyAgent.protocols = ['http', 'https'];\nexports.HttpsProxyAgent = HttpsProxyAgent;\nfunction resume(socket) {\n    socket.resume();\n}\nfunction omit(obj, ...keys) {\n    const ret = {};\n    let key;\n    for (key in obj) {\n        if (!keys.includes(key)) {\n            ret[key] = obj[key];\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseProxyResponse = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('https-proxy-agent:parse-proxy-response');\nfunction parseProxyResponse(socket) {\n    return new Promise((resolve, reject) => {\n        // we need to buffer any HTTP traffic that happens with the proxy before we get\n        // the CONNECT response, so that if the response is anything other than an \"200\"\n        // response code, then we can re-play the \"data\" events on the socket once the\n        // HTTP parser is hooked up...\n        let buffersLength = 0;\n        const buffers = [];\n        function read() {\n            const b = socket.read();\n            if (b)\n                ondata(b);\n            else\n                socket.once('readable', read);\n        }\n        function cleanup() {\n            socket.removeListener('end', onend);\n            socket.removeListener('error', onerror);\n            socket.removeListener('readable', read);\n        }\n        function onend() {\n            cleanup();\n            debug('onend');\n            reject(new Error('Proxy connection ended before receiving CONNECT response'));\n        }\n        function onerror(err) {\n            cleanup();\n            debug('onerror %o', err);\n            reject(err);\n        }\n        function ondata(b) {\n            buffers.push(b);\n            buffersLength += b.length;\n            const buffered = Buffer.concat(buffers, buffersLength);\n            const endOfHeaders = buffered.indexOf('\\r\\n\\r\\n');\n            if (endOfHeaders === -1) {\n                // keep buffering\n                debug('have not received end of HTTP headers yet...');\n                read();\n                return;\n            }\n            const headerParts = buffered\n                .slice(0, endOfHeaders)\n                .toString('ascii')\n                .split('\\r\\n');\n            const firstLine = headerParts.shift();\n            if (!firstLine) {\n                socket.destroy();\n                return reject(new Error('No header received from proxy CONNECT response'));\n            }\n            const firstLineParts = firstLine.split(' ');\n            const statusCode = +firstLineParts[1];\n            const statusText = firstLineParts.slice(2).join(' ');\n            const headers = {};\n            for (const header of headerParts) {\n                if (!header)\n                    continue;\n                const firstColon = header.indexOf(':');\n                if (firstColon === -1) {\n                    socket.destroy();\n                    return reject(new Error(`Invalid header from proxy CONNECT response: \"${header}\"`));\n                }\n                const key = header.slice(0, firstColon).toLowerCase();\n                const value = header.slice(firstColon + 1).trimStart();\n                const current = headers[key];\n                if (typeof current === 'string') {\n                    headers[key] = [current, value];\n                }\n                else if (Array.isArray(current)) {\n                    current.push(value);\n                }\n                else {\n                    headers[key] = value;\n                }\n            }\n            debug('got proxy server response: %o %o', firstLine, headers);\n            cleanup();\n            resolve({\n                connect: {\n                    statusCode,\n                    statusText,\n                    headers,\n                },\n                buffered,\n            });\n        }\n        socket.on('error', onerror);\n        socket.on('end', onend);\n        read();\n    });\n}\nexports.parseProxyResponse = parseProxyResponse;\n//# sourceMappingURL=parse-proxy-response.js.map","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport { unsafeStringify } from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || unsafeStringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import { unsafeStringify } from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return unsafeStringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import crypto from 'crypto';\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('md5').update(bytes).digest();\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;","import crypto from 'crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;","import crypto from 'crypto';\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('sha1').update(bytes).digest();\n}\n\nexport default sha1;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nexport default version;","\"use strict\";\n/**\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.detectGCPResidency = exports.isGoogleComputeEngine = exports.isGoogleComputeEngineMACAddress = exports.isGoogleComputeEngineLinux = exports.isGoogleCloudServerless = exports.GCE_LINUX_BIOS_PATHS = void 0;\nconst fs_1 = require(\"fs\");\nconst os_1 = require(\"os\");\n/**\n * Known paths unique to Google Compute Engine Linux instances\n */\nexports.GCE_LINUX_BIOS_PATHS = {\n    BIOS_DATE: '/sys/class/dmi/id/bios_date',\n    BIOS_VENDOR: '/sys/class/dmi/id/bios_vendor',\n};\nconst GCE_MAC_ADDRESS_REGEX = /^42:01/;\n/**\n * Determines if the process is running on a Google Cloud Serverless environment (Cloud Run or Cloud Functions instance).\n *\n * Uses the:\n * - {@link https://cloud.google.com/run/docs/container-contract#env-vars Cloud Run environment variables}.\n * - {@link https://cloud.google.com/functions/docs/env-var Cloud Functions environment variables}.\n *\n * @returns {boolean} `true` if the process is running on GCP serverless, `false` otherwise.\n */\nfunction isGoogleCloudServerless() {\n    /**\n     * `CLOUD_RUN_JOB` is used for Cloud Run Jobs\n     * - See {@link https://cloud.google.com/run/docs/container-contract#env-vars Cloud Run environment variables}.\n     *\n     * `FUNCTION_NAME` is used in older Cloud Functions environments:\n     * - See {@link https://cloud.google.com/functions/docs/env-var Python 3.7 and Go 1.11}.\n     *\n     * `K_SERVICE` is used in Cloud Run and newer Cloud Functions environments:\n     * - See {@link https://cloud.google.com/run/docs/container-contract#env-vars Cloud Run environment variables}.\n     * - See {@link https://cloud.google.com/functions/docs/env-var Cloud Functions newer runtimes}.\n     */\n    const isGFEnvironment = process.env.CLOUD_RUN_JOB ||\n        process.env.FUNCTION_NAME ||\n        process.env.K_SERVICE;\n    return !!isGFEnvironment;\n}\nexports.isGoogleCloudServerless = isGoogleCloudServerless;\n/**\n * Determines if the process is running on a Linux Google Compute Engine instance.\n *\n * @returns {boolean} `true` if the process is running on Linux GCE, `false` otherwise.\n */\nfunction isGoogleComputeEngineLinux() {\n    if ((0, os_1.platform)() !== 'linux')\n        return false;\n    try {\n        // ensure this file exist\n        (0, fs_1.statSync)(exports.GCE_LINUX_BIOS_PATHS.BIOS_DATE);\n        // ensure this file exist and matches\n        const biosVendor = (0, fs_1.readFileSync)(exports.GCE_LINUX_BIOS_PATHS.BIOS_VENDOR, 'utf8');\n        return /Google/.test(biosVendor);\n    }\n    catch (_a) {\n        return false;\n    }\n}\nexports.isGoogleComputeEngineLinux = isGoogleComputeEngineLinux;\n/**\n * Determines if the process is running on a Google Compute Engine instance with a known\n * MAC address.\n *\n * @returns {boolean} `true` if the process is running on GCE (as determined by MAC address), `false` otherwise.\n */\nfunction isGoogleComputeEngineMACAddress() {\n    const interfaces = (0, os_1.networkInterfaces)();\n    for (const item of Object.values(interfaces)) {\n        if (!item)\n            continue;\n        for (const { mac } of item) {\n            if (GCE_MAC_ADDRESS_REGEX.test(mac)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nexports.isGoogleComputeEngineMACAddress = isGoogleComputeEngineMACAddress;\n/**\n * Determines if the process is running on a Google Compute Engine instance.\n *\n * @returns {boolean} `true` if the process is running on GCE, `false` otherwise.\n */\nfunction isGoogleComputeEngine() {\n    return isGoogleComputeEngineLinux() || isGoogleComputeEngineMACAddress();\n}\nexports.isGoogleComputeEngine = isGoogleComputeEngine;\n/**\n * Determines if the process is running on Google Cloud Platform.\n *\n * @returns {boolean} `true` if the process is running on GCP, `false` otherwise.\n */\nfunction detectGCPResidency() {\n    return isGoogleCloudServerless() || isGoogleComputeEngine();\n}\nexports.detectGCPResidency = detectGCPResidency;\n//# sourceMappingURL=gcp-residency.js.map","\"use strict\";\n/**\n * Copyright 2018 Google LLC\n *\n * Distributed under MIT license.\n * See file LICENSE for detail or copy at https://opensource.org/licenses/MIT\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.requestTimeout = exports.setGCPResidency = exports.getGCPResidency = exports.gcpResidencyCache = exports.resetIsAvailableCache = exports.isAvailable = exports.bulk = exports.universe = exports.project = exports.instance = exports.METADATA_SERVER_DETECTION = exports.HEADERS = exports.HEADER_VALUE = exports.HEADER_NAME = exports.SECONDARY_HOST_ADDRESS = exports.HOST_ADDRESS = exports.BASE_PATH = void 0;\nconst gaxios_1 = require(\"gaxios\");\nconst jsonBigint = require(\"json-bigint\");\nconst gcp_residency_1 = require(\"./gcp-residency\");\nexports.BASE_PATH = '/computeMetadata/v1';\nexports.HOST_ADDRESS = 'http://169.254.169.254';\nexports.SECONDARY_HOST_ADDRESS = 'http://metadata.google.internal.';\nexports.HEADER_NAME = 'Metadata-Flavor';\nexports.HEADER_VALUE = 'Google';\nexports.HEADERS = Object.freeze({ [exports.HEADER_NAME]: exports.HEADER_VALUE });\n/**\n * Metadata server detection override options.\n *\n * Available via `process.env.METADATA_SERVER_DETECTION`.\n */\nexports.METADATA_SERVER_DETECTION = Object.freeze({\n    'assume-present': \"don't try to ping the metadata server, but assume it's present\",\n    none: \"don't try to ping the metadata server, but don't try to use it either\",\n    'bios-only': \"treat the result of a BIOS probe as canonical (don't fall back to pinging)\",\n    'ping-only': 'skip the BIOS probe, and go straight to pinging',\n});\n/**\n * Returns the base URL while taking into account the GCE_METADATA_HOST\n * environment variable if it exists.\n *\n * @returns The base URL, e.g., http://169.254.169.254/computeMetadata/v1.\n */\nfunction getBaseUrl(baseUrl) {\n    if (!baseUrl) {\n        baseUrl =\n            process.env.GCE_METADATA_IP ||\n                process.env.GCE_METADATA_HOST ||\n                exports.HOST_ADDRESS;\n    }\n    // If no scheme is provided default to HTTP:\n    if (!/^https?:\\/\\//.test(baseUrl)) {\n        baseUrl = `http://${baseUrl}`;\n    }\n    return new URL(exports.BASE_PATH, baseUrl).href;\n}\n// Accepts an options object passed from the user to the API. In previous\n// versions of the API, it referred to a `Request` or an `Axios` request\n// options object.  Now it refers to an object with very limited property\n// names. This is here to help ensure users don't pass invalid options when\n// they  upgrade from 0.4 to 0.5 to 0.8.\nfunction validate(options) {\n    Object.keys(options).forEach(key => {\n        switch (key) {\n            case 'params':\n            case 'property':\n            case 'headers':\n                break;\n            case 'qs':\n                throw new Error(\"'qs' is not a valid configuration option. Please use 'params' instead.\");\n            default:\n                throw new Error(`'${key}' is not a valid configuration option.`);\n        }\n    });\n}\nasync function metadataAccessor(type, options = {}, noResponseRetries = 3, fastFail = false) {\n    let metadataKey = '';\n    let params = {};\n    let headers = {};\n    if (typeof type === 'object') {\n        const metadataAccessor = type;\n        metadataKey = metadataAccessor.metadataKey;\n        params = metadataAccessor.params || params;\n        headers = metadataAccessor.headers || headers;\n        noResponseRetries = metadataAccessor.noResponseRetries || noResponseRetries;\n        fastFail = metadataAccessor.fastFail || fastFail;\n    }\n    else {\n        metadataKey = type;\n    }\n    if (typeof options === 'string') {\n        metadataKey += `/${options}`;\n    }\n    else {\n        validate(options);\n        if (options.property) {\n            metadataKey += `/${options.property}`;\n        }\n        headers = options.headers || headers;\n        params = options.params || params;\n    }\n    try {\n        const requestMethod = fastFail ? fastFailMetadataRequest : gaxios_1.request;\n        const res = await requestMethod({\n            url: `${getBaseUrl()}/${metadataKey}`,\n            headers: { ...exports.HEADERS, ...headers },\n            retryConfig: { noResponseRetries },\n            params,\n            responseType: 'text',\n            timeout: requestTimeout(),\n        });\n        // NOTE: node.js converts all incoming headers to lower case.\n        if (res.headers[exports.HEADER_NAME.toLowerCase()] !== exports.HEADER_VALUE) {\n            throw new Error(`Invalid response from metadata service: incorrect ${exports.HEADER_NAME} header.`);\n        }\n        else if (!res.data) {\n            throw new Error('Invalid response from the metadata service');\n        }\n        if (typeof res.data === 'string') {\n            try {\n                return jsonBigint.parse(res.data);\n            }\n            catch (_a) {\n                /* ignore */\n            }\n        }\n        return res.data;\n    }\n    catch (e) {\n        const err = e;\n        if (err.response && err.response.status !== 200) {\n            err.message = `Unsuccessful response status code. ${err.message}`;\n        }\n        throw e;\n    }\n}\nasync function fastFailMetadataRequest(options) {\n    const secondaryOptions = {\n        ...options,\n        url: options.url.replace(getBaseUrl(), getBaseUrl(exports.SECONDARY_HOST_ADDRESS)),\n    };\n    // We race a connection between DNS/IP to metadata server. There are a couple\n    // reasons for this:\n    //\n    // 1. the DNS is slow in some GCP environments; by checking both, we might\n    //    detect the runtime environment signficantly faster.\n    // 2. we can't just check the IP, which is tarpitted and slow to respond\n    //    on a user's local machine.\n    //\n    // Additional logic has been added to make sure that we don't create an\n    // unhandled rejection in scenarios where a failure happens sometime\n    // after a success.\n    //\n    // Note, however, if a failure happens prior to a success, a rejection should\n    // occur, this is for folks running locally.\n    //\n    let responded = false;\n    const r1 = (0, gaxios_1.request)(options)\n        .then(res => {\n        responded = true;\n        return res;\n    })\n        .catch(err => {\n        if (responded) {\n            return r2;\n        }\n        else {\n            responded = true;\n            throw err;\n        }\n    });\n    const r2 = (0, gaxios_1.request)(secondaryOptions)\n        .then(res => {\n        responded = true;\n        return res;\n    })\n        .catch(err => {\n        if (responded) {\n            return r1;\n        }\n        else {\n            responded = true;\n            throw err;\n        }\n    });\n    return Promise.race([r1, r2]);\n}\n/**\n * Obtain metadata for the current GCE instance.\n *\n * @see {@link https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys}\n *\n * @example\n * ```\n * const serviceAccount: {} = await instance('service-accounts/');\n * const serviceAccountEmail: string = await instance('service-accounts/default/email');\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction instance(options) {\n    return metadataAccessor('instance', options);\n}\nexports.instance = instance;\n/**\n * Obtain metadata for the current GCP project.\n *\n * @see {@link https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys}\n *\n * @example\n * ```\n * const projectId: string = await project('project-id');\n * const numericProjectId: number = await project('numeric-project-id');\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction project(options) {\n    return metadataAccessor('project', options);\n}\nexports.project = project;\n/**\n * Obtain metadata for the current universe.\n *\n * @see {@link https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys}\n *\n * @example\n * ```\n * const universeDomain: string = await universe('universe_domain');\n * ```\n */\nfunction universe(options) {\n    return metadataAccessor('universe', options);\n}\nexports.universe = universe;\n/**\n * Retrieve metadata items in parallel.\n *\n * @see {@link https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys}\n *\n * @example\n * ```\n * const data = await bulk([\n *   {\n *     metadataKey: 'instance',\n *   },\n *   {\n *     metadataKey: 'project/project-id',\n *   },\n * ] as const);\n *\n * // data.instance;\n * // data['project/project-id'];\n * ```\n *\n * @param properties The metadata properties to retrieve\n * @returns The metadata in `metadatakey:value` format\n */\nasync function bulk(properties) {\n    const r = {};\n    await Promise.all(properties.map(item => {\n        return (async () => {\n            const res = await metadataAccessor(item);\n            const key = item.metadataKey;\n            r[key] = res;\n        })();\n    }));\n    return r;\n}\nexports.bulk = bulk;\n/*\n * How many times should we retry detecting GCP environment.\n */\nfunction detectGCPAvailableRetries() {\n    return process.env.DETECT_GCP_RETRIES\n        ? Number(process.env.DETECT_GCP_RETRIES)\n        : 0;\n}\nlet cachedIsAvailableResponse;\n/**\n * Determine if the metadata server is currently available.\n */\nasync function isAvailable() {\n    if (process.env.METADATA_SERVER_DETECTION) {\n        const value = process.env.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();\n        if (!(value in exports.METADATA_SERVER_DETECTION)) {\n            throw new RangeError(`Unknown \\`METADATA_SERVER_DETECTION\\` env variable. Got \\`${value}\\`, but it should be \\`${Object.keys(exports.METADATA_SERVER_DETECTION).join('`, `')}\\`, or unset`);\n        }\n        switch (value) {\n            case 'assume-present':\n                return true;\n            case 'none':\n                return false;\n            case 'bios-only':\n                return getGCPResidency();\n            case 'ping-only':\n            // continue, we want to ping the server\n        }\n    }\n    try {\n        // If a user is instantiating several GCP libraries at the same time,\n        // this may result in multiple calls to isAvailable(), to detect the\n        // runtime environment. We use the same promise for each of these calls\n        // to reduce the network load.\n        if (cachedIsAvailableResponse === undefined) {\n            cachedIsAvailableResponse = metadataAccessor('instance', undefined, detectGCPAvailableRetries(), \n            // If the default HOST_ADDRESS has been overridden, we should not\n            // make an effort to try SECONDARY_HOST_ADDRESS (as we are likely in\n            // a non-GCP environment):\n            !(process.env.GCE_METADATA_IP || process.env.GCE_METADATA_HOST));\n        }\n        await cachedIsAvailableResponse;\n        return true;\n    }\n    catch (e) {\n        const err = e;\n        if (process.env.DEBUG_AUTH) {\n            console.info(err);\n        }\n        if (err.type === 'request-timeout') {\n            // If running in a GCP environment, metadata endpoint should return\n            // within ms.\n            return false;\n        }\n        if (err.response && err.response.status === 404) {\n            return false;\n        }\n        else {\n            if (!(err.response && err.response.status === 404) &&\n                // A warning is emitted if we see an unexpected err.code, or err.code\n                // is not populated:\n                (!err.code ||\n                    ![\n                        'EHOSTDOWN',\n                        'EHOSTUNREACH',\n                        'ENETUNREACH',\n                        'ENOENT',\n                        'ENOTFOUND',\n                        'ECONNREFUSED',\n                    ].includes(err.code))) {\n                let code = 'UNKNOWN';\n                if (err.code)\n                    code = err.code;\n                process.emitWarning(`received unexpected error = ${err.message} code = ${code}`, 'MetadataLookupWarning');\n            }\n            // Failure to resolve the metadata service means that it is not available.\n            return false;\n        }\n    }\n}\nexports.isAvailable = isAvailable;\n/**\n * reset the memoized isAvailable() lookup.\n */\nfunction resetIsAvailableCache() {\n    cachedIsAvailableResponse = undefined;\n}\nexports.resetIsAvailableCache = resetIsAvailableCache;\n/**\n * A cache for the detected GCP Residency.\n */\nexports.gcpResidencyCache = null;\n/**\n * Detects GCP Residency.\n * Caches results to reduce costs for subsequent calls.\n *\n * @see setGCPResidency for setting\n */\nfunction getGCPResidency() {\n    if (exports.gcpResidencyCache === null) {\n        setGCPResidency();\n    }\n    return exports.gcpResidencyCache;\n}\nexports.getGCPResidency = getGCPResidency;\n/**\n * Sets the detected GCP Residency.\n * Useful for forcing metadata server detection behavior.\n *\n * Set `null` to autodetect the environment (default behavior).\n * @see getGCPResidency for getting\n */\nfunction setGCPResidency(value = null) {\n    exports.gcpResidencyCache = value !== null ? value : (0, gcp_residency_1.detectGCPResidency)();\n}\nexports.setGCPResidency = setGCPResidency;\n/**\n * Obtain the timeout for requests to the metadata server.\n *\n * In certain environments and conditions requests can take longer than\n * the default timeout to complete. This function will determine the\n * appropriate timeout based on the environment.\n *\n * @returns {number} a request timeout duration in milliseconds.\n */\nfunction requestTimeout() {\n    return getGCPResidency() ? 0 : 3000;\n}\nexports.requestTimeout = requestTimeout;\n__exportStar(require(\"./gcp-residency\"), exports);\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar undefined;\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","\"use strict\";\n// Copyright 2012 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthClient = exports.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS = exports.DEFAULT_UNIVERSE = void 0;\nconst events_1 = require(\"events\");\nconst gaxios_1 = require(\"gaxios\");\nconst transporters_1 = require(\"../transporters\");\nconst util_1 = require(\"../util\");\n/**\n * The default cloud universe\n *\n * @see {@link AuthJSONOptions.universe_domain}\n */\nexports.DEFAULT_UNIVERSE = 'googleapis.com';\n/**\n * The default {@link AuthClientOptions.eagerRefreshThresholdMillis}\n */\nexports.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS = 5 * 60 * 1000;\nclass AuthClient extends events_1.EventEmitter {\n    constructor(opts = {}) {\n        var _a, _b, _c, _d, _e;\n        super();\n        this.credentials = {};\n        this.eagerRefreshThresholdMillis = exports.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS;\n        this.forceRefreshOnFailure = false;\n        this.universeDomain = exports.DEFAULT_UNIVERSE;\n        const options = (0, util_1.originalOrCamelOptions)(opts);\n        // Shared auth options\n        this.projectId = (_a = options.get('project_id')) !== null && _a !== void 0 ? _a : null;\n        this.quotaProjectId = options.get('quota_project_id');\n        this.credentials = (_b = options.get('credentials')) !== null && _b !== void 0 ? _b : {};\n        this.universeDomain = (_c = options.get('universe_domain')) !== null && _c !== void 0 ? _c : exports.DEFAULT_UNIVERSE;\n        // Shared client options\n        this.transporter = (_d = opts.transporter) !== null && _d !== void 0 ? _d : new transporters_1.DefaultTransporter();\n        if (opts.transporterOptions) {\n            this.transporter.defaults = opts.transporterOptions;\n        }\n        if (opts.eagerRefreshThresholdMillis) {\n            this.eagerRefreshThresholdMillis = opts.eagerRefreshThresholdMillis;\n        }\n        this.forceRefreshOnFailure = (_e = opts.forceRefreshOnFailure) !== null && _e !== void 0 ? _e : false;\n    }\n    /**\n     * Return the {@link Gaxios `Gaxios`} instance from the {@link AuthClient.transporter}.\n     *\n     * @expiremental\n     */\n    get gaxios() {\n        if (this.transporter instanceof gaxios_1.Gaxios) {\n            return this.transporter;\n        }\n        else if (this.transporter instanceof transporters_1.DefaultTransporter) {\n            return this.transporter.instance;\n        }\n        else if ('instance' in this.transporter &&\n            this.transporter.instance instanceof gaxios_1.Gaxios) {\n            return this.transporter.instance;\n        }\n        return null;\n    }\n    /**\n     * Sets the auth credentials.\n     */\n    setCredentials(credentials) {\n        this.credentials = credentials;\n    }\n    /**\n     * Append additional headers, e.g., x-goog-user-project, shared across the\n     * classes inheriting AuthClient. This method should be used by any method\n     * that overrides getRequestMetadataAsync(), which is a shared helper for\n     * setting request information in both gRPC and HTTP API calls.\n     *\n     * @param headers object to append additional headers to.\n     */\n    addSharedMetadataHeaders(headers) {\n        // quota_project_id, stored in application_default_credentials.json, is set in\n        // the x-goog-user-project header, to indicate an alternate account for\n        // billing and quota:\n        if (!headers['x-goog-user-project'] && // don't override a value the user sets.\n            this.quotaProjectId) {\n            headers['x-goog-user-project'] = this.quotaProjectId;\n        }\n        return headers;\n    }\n    /**\n     * Retry config for Auth-related requests.\n     *\n     * @remarks\n     *\n     * This is not a part of the default {@link AuthClient.transporter transporter/gaxios}\n     * config as some downstream APIs would prefer if customers explicitly enable retries,\n     * such as GCS.\n     */\n    static get RETRY_CONFIG() {\n        return {\n            retry: true,\n            retryConfig: {\n                httpMethodsToRetry: ['GET', 'PUT', 'POST', 'HEAD', 'OPTIONS', 'DELETE'],\n            },\n        };\n    }\n}\nexports.AuthClient = AuthClient;\n","\"use strict\";\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _a, _AwsClient_DEFAULT_AWS_REGIONAL_CREDENTIAL_VERIFICATION_URL;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AwsClient = void 0;\nconst awsrequestsigner_1 = require(\"./awsrequestsigner\");\nconst baseexternalclient_1 = require(\"./baseexternalclient\");\nconst defaultawssecuritycredentialssupplier_1 = require(\"./defaultawssecuritycredentialssupplier\");\nconst util_1 = require(\"../util\");\n/**\n * AWS external account client. This is used for AWS workloads, where\n * AWS STS GetCallerIdentity serialized signed requests are exchanged for\n * GCP access token.\n */\nclass AwsClient extends baseexternalclient_1.BaseExternalAccountClient {\n    /**\n     * Instantiates an AwsClient instance using the provided JSON\n     * object loaded from an external account credentials file.\n     * An error is thrown if the credential is not a valid AWS credential.\n     * @param options The external account options object typically loaded\n     *   from the external account JSON credential file.\n     * @param additionalOptions **DEPRECATED, all options are available in the\n     *   `options` parameter.** Optional additional behavior customization options.\n     *   These currently customize expiration threshold time and whether to retry\n     *   on 401/403 API request errors.\n     */\n    constructor(options, additionalOptions) {\n        super(options, additionalOptions);\n        const opts = (0, util_1.originalOrCamelOptions)(options);\n        const credentialSource = opts.get('credential_source');\n        const awsSecurityCredentialsSupplier = opts.get('aws_security_credentials_supplier');\n        // Validate credential sourcing configuration.\n        if (!credentialSource && !awsSecurityCredentialsSupplier) {\n            throw new Error('A credential source or AWS security credentials supplier must be specified.');\n        }\n        if (credentialSource && awsSecurityCredentialsSupplier) {\n            throw new Error('Only one of credential source or AWS security credentials supplier can be specified.');\n        }\n        if (awsSecurityCredentialsSupplier) {\n            this.awsSecurityCredentialsSupplier = awsSecurityCredentialsSupplier;\n            this.regionalCredVerificationUrl =\n                __classPrivateFieldGet(_a, _a, \"f\", _AwsClient_DEFAULT_AWS_REGIONAL_CREDENTIAL_VERIFICATION_URL);\n            this.credentialSourceType = 'programmatic';\n        }\n        else {\n            const credentialSourceOpts = (0, util_1.originalOrCamelOptions)(credentialSource);\n            this.environmentId = credentialSourceOpts.get('environment_id');\n            // This is only required if the AWS region is not available in the\n            // AWS_REGION or AWS_DEFAULT_REGION environment variables.\n            const regionUrl = credentialSourceOpts.get('region_url');\n            // This is only required if AWS security credentials are not available in\n            // environment variables.\n            const securityCredentialsUrl = credentialSourceOpts.get('url');\n            const imdsV2SessionTokenUrl = credentialSourceOpts.get('imdsv2_session_token_url');\n            this.awsSecurityCredentialsSupplier =\n                new defaultawssecuritycredentialssupplier_1.DefaultAwsSecurityCredentialsSupplier({\n                    regionUrl: regionUrl,\n                    securityCredentialsUrl: securityCredentialsUrl,\n                    imdsV2SessionTokenUrl: imdsV2SessionTokenUrl,\n                });\n            this.regionalCredVerificationUrl = credentialSourceOpts.get('regional_cred_verification_url');\n            this.credentialSourceType = 'aws';\n            // Data validators.\n            this.validateEnvironmentId();\n        }\n        this.awsRequestSigner = null;\n        this.region = '';\n    }\n    validateEnvironmentId() {\n        var _b;\n        const match = (_b = this.environmentId) === null || _b === void 0 ? void 0 : _b.match(/^(aws)(\\d+)$/);\n        if (!match || !this.regionalCredVerificationUrl) {\n            throw new Error('No valid AWS \"credential_source\" provided');\n        }\n        else if (parseInt(match[2], 10) !== 1) {\n            throw new Error(`aws version \"${match[2]}\" is not supported in the current build.`);\n        }\n    }\n    /**\n     * Triggered when an external subject token is needed to be exchanged for a\n     * GCP access token via GCP STS endpoint. This will call the\n     * {@link AwsSecurityCredentialsSupplier} to retrieve an AWS region and AWS\n     * Security Credentials, then use them to create a signed AWS STS request that\n     * can be exchanged for a GCP access token.\n     * @return A promise that resolves with the external subject token.\n     */\n    async retrieveSubjectToken() {\n        // Initialize AWS request signer if not already initialized.\n        if (!this.awsRequestSigner) {\n            this.region = await this.awsSecurityCredentialsSupplier.getAwsRegion(this.supplierContext);\n            this.awsRequestSigner = new awsrequestsigner_1.AwsRequestSigner(async () => {\n                return this.awsSecurityCredentialsSupplier.getAwsSecurityCredentials(this.supplierContext);\n            }, this.region);\n        }\n        // Generate signed request to AWS STS GetCallerIdentity API.\n        // Use the required regional endpoint. Otherwise, the request will fail.\n        const options = await this.awsRequestSigner.getRequestOptions({\n            ..._a.RETRY_CONFIG,\n            url: this.regionalCredVerificationUrl.replace('{region}', this.region),\n            method: 'POST',\n        });\n        // The GCP STS endpoint expects the headers to be formatted as:\n        // [\n        //   {key: 'x-amz-date', value: '...'},\n        //   {key: 'Authorization', value: '...'},\n        //   ...\n        // ]\n        // And then serialized as:\n        // encodeURIComponent(JSON.stringify({\n        //   url: '...',\n        //   method: 'POST',\n        //   headers: [{key: 'x-amz-date', value: '...'}, ...]\n        // }))\n        const reformattedHeader = [];\n        const extendedHeaders = Object.assign({\n            // The full, canonical resource name of the workload identity pool\n            // provider, with or without the HTTPS prefix.\n            // Including this header as part of the signature is recommended to\n            // ensure data integrity.\n            'x-goog-cloud-target-resource': this.audience,\n        }, options.headers);\n        // Reformat header to GCP STS expected format.\n        for (const key in extendedHeaders) {\n            reformattedHeader.push({\n                key,\n                value: extendedHeaders[key],\n            });\n        }\n        // Serialize the reformatted signed request.\n        return encodeURIComponent(JSON.stringify({\n            url: options.url,\n            method: options.method,\n            headers: reformattedHeader,\n        }));\n    }\n}\nexports.AwsClient = AwsClient;\n_a = AwsClient;\n_AwsClient_DEFAULT_AWS_REGIONAL_CREDENTIAL_VERIFICATION_URL = { value: 'https://sts.{region}.amazonaws.com?Action=GetCallerIdentity&Version=2011-06-15' };\n/**\n * @deprecated AWS client no validates the EC2 metadata address.\n **/\nAwsClient.AWS_EC2_METADATA_IPV4_ADDRESS = '169.254.169.254';\n/**\n * @deprecated AWS client no validates the EC2 metadata address.\n **/\nAwsClient.AWS_EC2_METADATA_IPV6_ADDRESS = 'fd00:ec2::254';\n","\"use strict\";\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AwsRequestSigner = void 0;\nconst crypto_1 = require(\"../crypto/crypto\");\n/** AWS Signature Version 4 signing algorithm identifier.  */\nconst AWS_ALGORITHM = 'AWS4-HMAC-SHA256';\n/**\n * The termination string for the AWS credential scope value as defined in\n * https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n */\nconst AWS_REQUEST_TYPE = 'aws4_request';\n/**\n * Implements an AWS API request signer based on the AWS Signature Version 4\n * signing process.\n * https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html\n */\nclass AwsRequestSigner {\n    /**\n     * Instantiates an AWS API request signer used to send authenticated signed\n     * requests to AWS APIs based on the AWS Signature Version 4 signing process.\n     * This also provides a mechanism to generate the signed request without\n     * sending it.\n     * @param getCredentials A mechanism to retrieve AWS security credentials\n     *   when needed.\n     * @param region The AWS region to use.\n     */\n    constructor(getCredentials, region) {\n        this.getCredentials = getCredentials;\n        this.region = region;\n        this.crypto = (0, crypto_1.createCrypto)();\n    }\n    /**\n     * Generates the signed request for the provided HTTP request for calling\n     * an AWS API. This follows the steps described at:\n     * https://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html\n     * @param amzOptions The AWS request options that need to be signed.\n     * @return A promise that resolves with the GaxiosOptions containing the\n     *   signed HTTP request parameters.\n     */\n    async getRequestOptions(amzOptions) {\n        if (!amzOptions.url) {\n            throw new Error('\"url\" is required in \"amzOptions\"');\n        }\n        // Stringify JSON requests. This will be set in the request body of the\n        // generated signed request.\n        const requestPayloadData = typeof amzOptions.data === 'object'\n            ? JSON.stringify(amzOptions.data)\n            : amzOptions.data;\n        const url = amzOptions.url;\n        const method = amzOptions.method || 'GET';\n        const requestPayload = amzOptions.body || requestPayloadData;\n        const additionalAmzHeaders = amzOptions.headers;\n        const awsSecurityCredentials = await this.getCredentials();\n        const uri = new URL(url);\n        const headerMap = await generateAuthenticationHeaderMap({\n            crypto: this.crypto,\n            host: uri.host,\n            canonicalUri: uri.pathname,\n            canonicalQuerystring: uri.search.substr(1),\n            method,\n            region: this.region,\n            securityCredentials: awsSecurityCredentials,\n            requestPayload,\n            additionalAmzHeaders,\n        });\n        // Append additional optional headers, eg. X-Amz-Target, Content-Type, etc.\n        const headers = Object.assign(\n        // Add x-amz-date if available.\n        headerMap.amzDate ? { 'x-amz-date': headerMap.amzDate } : {}, {\n            Authorization: headerMap.authorizationHeader,\n            host: uri.host,\n        }, additionalAmzHeaders || {});\n        if (awsSecurityCredentials.token) {\n            Object.assign(headers, {\n                'x-amz-security-token': awsSecurityCredentials.token,\n            });\n        }\n        const awsSignedReq = {\n            url,\n            method: method,\n            headers,\n        };\n        if (typeof requestPayload !== 'undefined') {\n            awsSignedReq.body = requestPayload;\n        }\n        return awsSignedReq;\n    }\n}\nexports.AwsRequestSigner = AwsRequestSigner;\n/**\n * Creates the HMAC-SHA256 hash of the provided message using the\n * provided key.\n *\n * @param crypto The crypto instance used to facilitate cryptographic\n *   operations.\n * @param key The HMAC-SHA256 key to use.\n * @param msg The message to hash.\n * @return The computed hash bytes.\n */\nasync function sign(crypto, key, msg) {\n    return await crypto.signWithHmacSha256(key, msg);\n}\n/**\n * Calculates the signing key used to calculate the signature for\n * AWS Signature Version 4 based on:\n * https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n *\n * @param crypto The crypto instance used to facilitate cryptographic\n *   operations.\n * @param key The AWS secret access key.\n * @param dateStamp The '%Y%m%d' date format.\n * @param region The AWS region.\n * @param serviceName The AWS service name, eg. sts.\n * @return The signing key bytes.\n */\nasync function getSigningKey(crypto, key, dateStamp, region, serviceName) {\n    const kDate = await sign(crypto, `AWS4${key}`, dateStamp);\n    const kRegion = await sign(crypto, kDate, region);\n    const kService = await sign(crypto, kRegion, serviceName);\n    const kSigning = await sign(crypto, kService, 'aws4_request');\n    return kSigning;\n}\n/**\n * Generates the authentication header map needed for generating the AWS\n * Signature Version 4 signed request.\n *\n * @param option The options needed to compute the authentication header map.\n * @return The AWS authentication header map which constitutes of the following\n *   components: amz-date, authorization header and canonical query string.\n */\nasync function generateAuthenticationHeaderMap(options) {\n    const additionalAmzHeaders = options.additionalAmzHeaders || {};\n    const requestPayload = options.requestPayload || '';\n    // iam.amazonaws.com host => iam service.\n    // sts.us-east-2.amazonaws.com => sts service.\n    const serviceName = options.host.split('.')[0];\n    const now = new Date();\n    // Format: '%Y%m%dT%H%M%SZ'.\n    const amzDate = now\n        .toISOString()\n        .replace(/[-:]/g, '')\n        .replace(/\\.[0-9]+/, '');\n    // Format: '%Y%m%d'.\n    const dateStamp = now.toISOString().replace(/[-]/g, '').replace(/T.*/, '');\n    // Change all additional headers to be lower case.\n    const reformattedAdditionalAmzHeaders = {};\n    Object.keys(additionalAmzHeaders).forEach(key => {\n        reformattedAdditionalAmzHeaders[key.toLowerCase()] =\n            additionalAmzHeaders[key];\n    });\n    // Add AWS token if available.\n    if (options.securityCredentials.token) {\n        reformattedAdditionalAmzHeaders['x-amz-security-token'] =\n            options.securityCredentials.token;\n    }\n    // Header keys need to be sorted alphabetically.\n    const amzHeaders = Object.assign({\n        host: options.host,\n    }, \n    // Previously the date was not fixed with x-amz- and could be provided manually.\n    // https://github.com/boto/botocore/blob/879f8440a4e9ace5d3cf145ce8b3d5e5ffb892ef/tests/unit/auth/aws4_testsuite/get-header-value-trim.req\n    reformattedAdditionalAmzHeaders.date ? {} : { 'x-amz-date': amzDate }, reformattedAdditionalAmzHeaders);\n    let canonicalHeaders = '';\n    const signedHeadersList = Object.keys(amzHeaders).sort();\n    signedHeadersList.forEach(key => {\n        canonicalHeaders += `${key}:${amzHeaders[key]}\\n`;\n    });\n    const signedHeaders = signedHeadersList.join(';');\n    const payloadHash = await options.crypto.sha256DigestHex(requestPayload);\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\n    const canonicalRequest = `${options.method}\\n` +\n        `${options.canonicalUri}\\n` +\n        `${options.canonicalQuerystring}\\n` +\n        `${canonicalHeaders}\\n` +\n        `${signedHeaders}\\n` +\n        `${payloadHash}`;\n    const credentialScope = `${dateStamp}/${options.region}/${serviceName}/${AWS_REQUEST_TYPE}`;\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n    const stringToSign = `${AWS_ALGORITHM}\\n` +\n        `${amzDate}\\n` +\n        `${credentialScope}\\n` +\n        (await options.crypto.sha256DigestHex(canonicalRequest));\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n    const signingKey = await getSigningKey(options.crypto, options.securityCredentials.secretAccessKey, dateStamp, options.region, serviceName);\n    const signature = await sign(options.crypto, signingKey, stringToSign);\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\n    const authorizationHeader = `${AWS_ALGORITHM} Credential=${options.securityCredentials.accessKeyId}/` +\n        `${credentialScope}, SignedHeaders=${signedHeaders}, ` +\n        `Signature=${(0, crypto_1.fromArrayBufferToHex)(signature)}`;\n    return {\n        // Do not return x-amz-date if date is available.\n        amzDate: reformattedAdditionalAmzHeaders.date ? undefined : amzDate,\n        authorizationHeader,\n        canonicalQuerystring: options.canonicalQuerystring,\n    };\n}\n","\"use strict\";\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseExternalAccountClient = exports.DEFAULT_UNIVERSE = exports.CLOUD_RESOURCE_MANAGER = exports.EXTERNAL_ACCOUNT_TYPE = exports.EXPIRATION_TIME_OFFSET = void 0;\nconst stream = require(\"stream\");\nconst authclient_1 = require(\"./authclient\");\nconst sts = require(\"./stscredentials\");\nconst util_1 = require(\"../util\");\n/**\n * The required token exchange grant_type: rfc8693#section-2.1\n */\nconst STS_GRANT_TYPE = 'urn:ietf:params:oauth:grant-type:token-exchange';\n/**\n * The requested token exchange requested_token_type: rfc8693#section-2.1\n */\nconst STS_REQUEST_TOKEN_TYPE = 'urn:ietf:params:oauth:token-type:access_token';\n/** The default OAuth scope to request when none is provided. */\nconst DEFAULT_OAUTH_SCOPE = 'https://www.googleapis.com/auth/cloud-platform';\n/** Default impersonated token lifespan in seconds.*/\nconst DEFAULT_TOKEN_LIFESPAN = 3600;\n/**\n * Offset to take into account network delays and server clock skews.\n */\nexports.EXPIRATION_TIME_OFFSET = 5 * 60 * 1000;\n/**\n * The credentials JSON file type for external account clients.\n * There are 3 types of JSON configs:\n * 1. authorized_user => Google end user credential\n * 2. service_account => Google service account credential\n * 3. external_Account => non-GCP service (eg. AWS, Azure, K8s)\n */\nexports.EXTERNAL_ACCOUNT_TYPE = 'external_account';\n/**\n * Cloud resource manager URL used to retrieve project information.\n *\n * @deprecated use {@link BaseExternalAccountClient.cloudResourceManagerURL} instead\n **/\nexports.CLOUD_RESOURCE_MANAGER = 'https://cloudresourcemanager.googleapis.com/v1/projects/';\n/** The workforce audience pattern. */\nconst WORKFORCE_AUDIENCE_PATTERN = '//iam\\\\.googleapis\\\\.com/locations/[^/]+/workforcePools/[^/]+/providers/.+';\nconst DEFAULT_TOKEN_URL = 'https://sts.{universeDomain}/v1/token';\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst pkg = require('../../../package.json');\n/**\n * For backwards compatibility.\n */\nvar authclient_2 = require(\"./authclient\");\nObject.defineProperty(exports, \"DEFAULT_UNIVERSE\", { enumerable: true, get: function () { return authclient_2.DEFAULT_UNIVERSE; } });\n/**\n * Base external account client. This is used to instantiate AuthClients for\n * exchanging external account credentials for GCP access token and authorizing\n * requests to GCP APIs.\n * The base class implements common logic for exchanging various type of\n * external credentials for GCP access token. The logic of determining and\n * retrieving the external credential based on the environment and\n * credential_source will be left for the subclasses.\n */\nclass BaseExternalAccountClient extends authclient_1.AuthClient {\n    /**\n     * Instantiate a BaseExternalAccountClient instance using the provided JSON\n     * object loaded from an external account credentials file.\n     * @param options The external account options object typically loaded\n     *   from the external account JSON credential file. The camelCased options\n     *   are aliases for the snake_cased options.\n     * @param additionalOptions **DEPRECATED, all options are available in the\n     *   `options` parameter.** Optional additional behavior customization options.\n     *   These currently customize expiration threshold time and whether to retry\n     *   on 401/403 API request errors.\n     */\n    constructor(options, additionalOptions) {\n        var _a;\n        super({ ...options, ...additionalOptions });\n        const opts = (0, util_1.originalOrCamelOptions)(options);\n        const type = opts.get('type');\n        if (type && type !== exports.EXTERNAL_ACCOUNT_TYPE) {\n            throw new Error(`Expected \"${exports.EXTERNAL_ACCOUNT_TYPE}\" type but ` +\n                `received \"${options.type}\"`);\n        }\n        const clientId = opts.get('client_id');\n        const clientSecret = opts.get('client_secret');\n        const tokenUrl = (_a = opts.get('token_url')) !== null && _a !== void 0 ? _a : DEFAULT_TOKEN_URL.replace('{universeDomain}', this.universeDomain);\n        const subjectTokenType = opts.get('subject_token_type');\n        const workforcePoolUserProject = opts.get('workforce_pool_user_project');\n        const serviceAccountImpersonationUrl = opts.get('service_account_impersonation_url');\n        const serviceAccountImpersonation = opts.get('service_account_impersonation');\n        const serviceAccountImpersonationLifetime = (0, util_1.originalOrCamelOptions)(serviceAccountImpersonation).get('token_lifetime_seconds');\n        this.cloudResourceManagerURL = new URL(opts.get('cloud_resource_manager_url') ||\n            `https://cloudresourcemanager.${this.universeDomain}/v1/projects/`);\n        if (clientId) {\n            this.clientAuth = {\n                confidentialClientType: 'basic',\n                clientId,\n                clientSecret,\n            };\n        }\n        this.stsCredential = new sts.StsCredentials(tokenUrl, this.clientAuth);\n        this.scopes = opts.get('scopes') || [DEFAULT_OAUTH_SCOPE];\n        this.cachedAccessToken = null;\n        this.audience = opts.get('audience');\n        this.subjectTokenType = subjectTokenType;\n        this.workforcePoolUserProject = workforcePoolUserProject;\n        const workforceAudiencePattern = new RegExp(WORKFORCE_AUDIENCE_PATTERN);\n        if (this.workforcePoolUserProject &&\n            !this.audience.match(workforceAudiencePattern)) {\n            throw new Error('workforcePoolUserProject should not be set for non-workforce pool ' +\n                'credentials.');\n        }\n        this.serviceAccountImpersonationUrl = serviceAccountImpersonationUrl;\n        this.serviceAccountImpersonationLifetime =\n            serviceAccountImpersonationLifetime;\n        if (this.serviceAccountImpersonationLifetime) {\n            this.configLifetimeRequested = true;\n        }\n        else {\n            this.configLifetimeRequested = false;\n            this.serviceAccountImpersonationLifetime = DEFAULT_TOKEN_LIFESPAN;\n        }\n        this.projectNumber = this.getProjectNumber(this.audience);\n        this.supplierContext = {\n            audience: this.audience,\n            subjectTokenType: this.subjectTokenType,\n            transporter: this.transporter,\n        };\n    }\n    /** The service account email to be impersonated, if available. */\n    getServiceAccountEmail() {\n        var _a;\n        if (this.serviceAccountImpersonationUrl) {\n            if (this.serviceAccountImpersonationUrl.length > 256) {\n                /**\n                 * Prevents DOS attacks.\n                 * @see {@link https://github.com/googleapis/google-auth-library-nodejs/security/code-scanning/84}\n                 **/\n                throw new RangeError(`URL is too long: ${this.serviceAccountImpersonationUrl}`);\n            }\n            // Parse email from URL. The formal looks as follows:\n            // https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/name@project-id.iam.gserviceaccount.com:generateAccessToken\n            const re = /serviceAccounts\\/(?<email>[^:]+):generateAccessToken$/;\n            const result = re.exec(this.serviceAccountImpersonationUrl);\n            return ((_a = result === null || result === void 0 ? void 0 : result.groups) === null || _a === void 0 ? void 0 : _a.email) || null;\n        }\n        return null;\n    }\n    /**\n     * Provides a mechanism to inject GCP access tokens directly.\n     * When the provided credential expires, a new credential, using the\n     * external account options, is retrieved.\n     * @param credentials The Credentials object to set on the current client.\n     */\n    setCredentials(credentials) {\n        super.setCredentials(credentials);\n        this.cachedAccessToken = credentials;\n    }\n    /**\n     * @return A promise that resolves with the current GCP access token\n     *   response. If the current credential is expired, a new one is retrieved.\n     */\n    async getAccessToken() {\n        // If cached access token is unavailable or expired, force refresh.\n        if (!this.cachedAccessToken || this.isExpired(this.cachedAccessToken)) {\n            await this.refreshAccessTokenAsync();\n        }\n        // Return GCP access token in GetAccessTokenResponse format.\n        return {\n            token: this.cachedAccessToken.access_token,\n            res: this.cachedAccessToken.res,\n        };\n    }\n    /**\n     * The main authentication interface. It takes an optional url which when\n     * present is the endpoint being accessed, and returns a Promise which\n     * resolves with authorization header fields.\n     *\n     * The result has the form:\n     * { Authorization: 'Bearer <access_token_value>' }\n     */\n    async getRequestHeaders() {\n        const accessTokenResponse = await this.getAccessToken();\n        const headers = {\n            Authorization: `Bearer ${accessTokenResponse.token}`,\n        };\n        return this.addSharedMetadataHeaders(headers);\n    }\n    request(opts, callback) {\n        if (callback) {\n            this.requestAsync(opts).then(r => callback(null, r), e => {\n                return callback(e, e.response);\n            });\n        }\n        else {\n            return this.requestAsync(opts);\n        }\n    }\n    /**\n     * @return A promise that resolves with the project ID corresponding to the\n     *   current workload identity pool or current workforce pool if\n     *   determinable. For workforce pool credential, it returns the project ID\n     *   corresponding to the workforcePoolUserProject.\n     *   This is introduced to match the current pattern of using the Auth\n     *   library:\n     *   const projectId = await auth.getProjectId();\n     *   const url = `https://dns.googleapis.com/dns/v1/projects/${projectId}`;\n     *   const res = await client.request({ url });\n     *   The resource may not have permission\n     *   (resourcemanager.projects.get) to call this API or the required\n     *   scopes may not be selected:\n     *   https://cloud.google.com/resource-manager/reference/rest/v1/projects/get#authorization-scopes\n     */\n    async getProjectId() {\n        const projectNumber = this.projectNumber || this.workforcePoolUserProject;\n        if (this.projectId) {\n            // Return previously determined project ID.\n            return this.projectId;\n        }\n        else if (projectNumber) {\n            // Preferable not to use request() to avoid retrial policies.\n            const headers = await this.getRequestHeaders();\n            const response = await this.transporter.request({\n                ...BaseExternalAccountClient.RETRY_CONFIG,\n                headers,\n                url: `${this.cloudResourceManagerURL.toString()}${projectNumber}`,\n                responseType: 'json',\n            });\n            this.projectId = response.data.projectId;\n            return this.projectId;\n        }\n        return null;\n    }\n    /**\n     * Authenticates the provided HTTP request, processes it and resolves with the\n     * returned response.\n     * @param opts The HTTP request options.\n     * @param reAuthRetried Whether the current attempt is a retry after a failed attempt due to an auth failure.\n     * @return A promise that resolves with the successful response.\n     */\n    async requestAsync(opts, reAuthRetried = false) {\n        let response;\n        try {\n            const requestHeaders = await this.getRequestHeaders();\n            opts.headers = opts.headers || {};\n            if (requestHeaders && requestHeaders['x-goog-user-project']) {\n                opts.headers['x-goog-user-project'] =\n                    requestHeaders['x-goog-user-project'];\n            }\n            if (requestHeaders && requestHeaders.Authorization) {\n                opts.headers.Authorization = requestHeaders.Authorization;\n            }\n            response = await this.transporter.request(opts);\n        }\n        catch (e) {\n            const res = e.response;\n            if (res) {\n                const statusCode = res.status;\n                // Retry the request for metadata if the following criteria are true:\n                // - We haven't already retried.  It only makes sense to retry once.\n                // - The response was a 401 or a 403\n                // - The request didn't send a readableStream\n                // - forceRefreshOnFailure is true\n                const isReadableStream = res.config.data instanceof stream.Readable;\n                const isAuthErr = statusCode === 401 || statusCode === 403;\n                if (!reAuthRetried &&\n                    isAuthErr &&\n                    !isReadableStream &&\n                    this.forceRefreshOnFailure) {\n                    await this.refreshAccessTokenAsync();\n                    return await this.requestAsync(opts, true);\n                }\n            }\n            throw e;\n        }\n        return response;\n    }\n    /**\n     * Forces token refresh, even if unexpired tokens are currently cached.\n     * External credentials are exchanged for GCP access tokens via the token\n     * exchange endpoint and other settings provided in the client options\n     * object.\n     * If the service_account_impersonation_url is provided, an additional\n     * step to exchange the external account GCP access token for a service\n     * account impersonated token is performed.\n     * @return A promise that resolves with the fresh GCP access tokens.\n     */\n    async refreshAccessTokenAsync() {\n        // Retrieve the external credential.\n        const subjectToken = await this.retrieveSubjectToken();\n        // Construct the STS credentials options.\n        const stsCredentialsOptions = {\n            grantType: STS_GRANT_TYPE,\n            audience: this.audience,\n            requestedTokenType: STS_REQUEST_TOKEN_TYPE,\n            subjectToken,\n            subjectTokenType: this.subjectTokenType,\n            // generateAccessToken requires the provided access token to have\n            // scopes:\n            // https://www.googleapis.com/auth/iam or\n            // https://www.googleapis.com/auth/cloud-platform\n            // The new service account access token scopes will match the user\n            // provided ones.\n            scope: this.serviceAccountImpersonationUrl\n                ? [DEFAULT_OAUTH_SCOPE]\n                : this.getScopesArray(),\n        };\n        // Exchange the external credentials for a GCP access token.\n        // Client auth is prioritized over passing the workforcePoolUserProject\n        // parameter for STS token exchange.\n        const additionalOptions = !this.clientAuth && this.workforcePoolUserProject\n            ? { userProject: this.workforcePoolUserProject }\n            : undefined;\n        const additionalHeaders = {\n            'x-goog-api-client': this.getMetricsHeaderValue(),\n        };\n        const stsResponse = await this.stsCredential.exchangeToken(stsCredentialsOptions, additionalHeaders, additionalOptions);\n        if (this.serviceAccountImpersonationUrl) {\n            this.cachedAccessToken = await this.getImpersonatedAccessToken(stsResponse.access_token);\n        }\n        else if (stsResponse.expires_in) {\n            // Save response in cached access token.\n            this.cachedAccessToken = {\n                access_token: stsResponse.access_token,\n                expiry_date: new Date().getTime() + stsResponse.expires_in * 1000,\n                res: stsResponse.res,\n            };\n        }\n        else {\n            // Save response in cached access token.\n            this.cachedAccessToken = {\n                access_token: stsResponse.access_token,\n                res: stsResponse.res,\n            };\n        }\n        // Save credentials.\n        this.credentials = {};\n        Object.assign(this.credentials, this.cachedAccessToken);\n        delete this.credentials.res;\n        // Trigger tokens event to notify external listeners.\n        this.emit('tokens', {\n            refresh_token: null,\n            expiry_date: this.cachedAccessToken.expiry_date,\n            access_token: this.cachedAccessToken.access_token,\n            token_type: 'Bearer',\n            id_token: null,\n        });\n        // Return the cached access token.\n        return this.cachedAccessToken;\n    }\n    /**\n     * Returns the workload identity pool project number if it is determinable\n     * from the audience resource name.\n     * @param audience The STS audience used to determine the project number.\n     * @return The project number associated with the workload identity pool, if\n     *   this can be determined from the STS audience field. Otherwise, null is\n     *   returned.\n     */\n    getProjectNumber(audience) {\n        // STS audience pattern:\n        // //iam.googleapis.com/projects/$PROJECT_NUMBER/locations/...\n        const match = audience.match(/\\/projects\\/([^/]+)/);\n        if (!match) {\n            return null;\n        }\n        return match[1];\n    }\n    /**\n     * Exchanges an external account GCP access token for a service\n     * account impersonated access token using iamcredentials\n     * GenerateAccessToken API.\n     * @param token The access token to exchange for a service account access\n     *   token.\n     * @return A promise that resolves with the service account impersonated\n     *   credentials response.\n     */\n    async getImpersonatedAccessToken(token) {\n        const opts = {\n            ...BaseExternalAccountClient.RETRY_CONFIG,\n            url: this.serviceAccountImpersonationUrl,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`,\n            },\n            data: {\n                scope: this.getScopesArray(),\n                lifetime: this.serviceAccountImpersonationLifetime + 's',\n            },\n            responseType: 'json',\n        };\n        const response = await this.transporter.request(opts);\n        const successResponse = response.data;\n        return {\n            access_token: successResponse.accessToken,\n            // Convert from ISO format to timestamp.\n            expiry_date: new Date(successResponse.expireTime).getTime(),\n            res: response,\n        };\n    }\n    /**\n     * Returns whether the provided credentials are expired or not.\n     * If there is no expiry time, assumes the token is not expired or expiring.\n     * @param accessToken The credentials to check for expiration.\n     * @return Whether the credentials are expired or not.\n     */\n    isExpired(accessToken) {\n        const now = new Date().getTime();\n        return accessToken.expiry_date\n            ? now >= accessToken.expiry_date - this.eagerRefreshThresholdMillis\n            : false;\n    }\n    /**\n     * @return The list of scopes for the requested GCP access token.\n     */\n    getScopesArray() {\n        // Since scopes can be provided as string or array, the type should\n        // be normalized.\n        if (typeof this.scopes === 'string') {\n            return [this.scopes];\n        }\n        return this.scopes || [DEFAULT_OAUTH_SCOPE];\n    }\n    getMetricsHeaderValue() {\n        const nodeVersion = process.version.replace(/^v/, '');\n        const saImpersonation = this.serviceAccountImpersonationUrl !== undefined;\n        const credentialSourceType = this.credentialSourceType\n            ? this.credentialSourceType\n            : 'unknown';\n        return `gl-node/${nodeVersion} auth/${pkg.version} google-byoid-sdk source/${credentialSourceType} sa-impersonation/${saImpersonation} config-lifetime/${this.configLifetimeRequested}`;\n    }\n}\nexports.BaseExternalAccountClient = BaseExternalAccountClient;\n","\"use strict\";\n// Copyright 2013 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Compute = void 0;\nconst gaxios_1 = require(\"gaxios\");\nconst gcpMetadata = require(\"gcp-metadata\");\nconst oauth2client_1 = require(\"./oauth2client\");\nclass Compute extends oauth2client_1.OAuth2Client {\n    /**\n     * Google Compute Engine service account credentials.\n     *\n     * Retrieve access token from the metadata server.\n     * See: https://cloud.google.com/compute/docs/access/authenticate-workloads#applications\n     */\n    constructor(options = {}) {\n        super(options);\n        // Start with an expired refresh token, which will automatically be\n        // refreshed before the first API call is made.\n        this.credentials = { expiry_date: 1, refresh_token: 'compute-placeholder' };\n        this.serviceAccountEmail = options.serviceAccountEmail || 'default';\n        this.scopes = Array.isArray(options.scopes)\n            ? options.scopes\n            : options.scopes\n                ? [options.scopes]\n                : [];\n    }\n    /**\n     * Refreshes the access token.\n     * @param refreshToken Unused parameter\n     */\n    async refreshTokenNoCache(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    refreshToken) {\n        const tokenPath = `service-accounts/${this.serviceAccountEmail}/token`;\n        let data;\n        try {\n            const instanceOptions = {\n                property: tokenPath,\n            };\n            if (this.scopes.length > 0) {\n                instanceOptions.params = {\n                    scopes: this.scopes.join(','),\n                };\n            }\n            data = await gcpMetadata.instance(instanceOptions);\n        }\n        catch (e) {\n            if (e instanceof gaxios_1.GaxiosError) {\n                e.message = `Could not refresh access token: ${e.message}`;\n                this.wrapError(e);\n            }\n            throw e;\n        }\n        const tokens = data;\n        if (data && data.expires_in) {\n            tokens.expiry_date = new Date().getTime() + data.expires_in * 1000;\n            delete tokens.expires_in;\n        }\n        this.emit('tokens', tokens);\n        return { tokens, res: null };\n    }\n    /**\n     * Fetches an ID token.\n     * @param targetAudience the audience for the fetched ID token.\n     */\n    async fetchIdToken(targetAudience) {\n        const idTokenPath = `service-accounts/${this.serviceAccountEmail}/identity` +\n            `?format=full&audience=${targetAudience}`;\n        let idToken;\n        try {\n            const instanceOptions = {\n                property: idTokenPath,\n            };\n            idToken = await gcpMetadata.instance(instanceOptions);\n        }\n        catch (e) {\n            if (e instanceof Error) {\n                e.message = `Could not fetch ID token: ${e.message}`;\n            }\n            throw e;\n        }\n        return idToken;\n    }\n    wrapError(e) {\n        const res = e.response;\n        if (res && res.status) {\n            e.status = res.status;\n            if (res.status === 403) {\n                e.message =\n                    'A Forbidden error was returned while attempting to retrieve an access ' +\n                        'token for the Compute Engine built-in service account. This may be because the Compute ' +\n                        'Engine instance does not have the correct permission scopes specified: ' +\n                        e.message;\n            }\n            else if (res.status === 404) {\n                e.message =\n                    'A Not Found error was returned while attempting to retrieve an access' +\n                        'token for the Compute Engine built-in service account. This may be because the Compute ' +\n                        'Engine instance does not have any permission scopes specified: ' +\n                        e.message;\n            }\n        }\n    }\n}\nexports.Compute = Compute;\n","\"use strict\";\n// Copyright 2024 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _DefaultAwsSecurityCredentialsSupplier_instances, _DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken, _DefaultAwsSecurityCredentialsSupplier_getAwsRoleName, _DefaultAwsSecurityCredentialsSupplier_retrieveAwsSecurityCredentials, _DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get, _DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultAwsSecurityCredentialsSupplier = void 0;\n/**\n * Internal AWS security credentials supplier implementation used by {@link AwsClient}\n * when a credential source is provided instead of a user defined supplier.\n * The logic is summarized as:\n * 1. If imdsv2_session_token_url is provided in the credential source, then\n *    fetch the aws session token and include it in the headers of the\n *    metadata requests. This is a requirement for IDMSv2 but optional\n *    for IDMSv1.\n * 2. Retrieve AWS region from availability-zone.\n * 3a. Check AWS credentials in environment variables. If not found, get\n *     from security-credentials endpoint.\n * 3b. Get AWS credentials from security-credentials endpoint. In order\n *     to retrieve this, the AWS role needs to be determined by calling\n *     security-credentials endpoint without any argument. Then the\n *     credentials can be retrieved via: security-credentials/role_name\n * 4. Generate the signed request to AWS STS GetCallerIdentity action.\n * 5. Inject x-goog-cloud-target-resource into header and serialize the\n *    signed request. This will be the subject-token to pass to GCP STS.\n */\nclass DefaultAwsSecurityCredentialsSupplier {\n    /**\n     * Instantiates a new DefaultAwsSecurityCredentialsSupplier using information\n     * from the credential_source stored in the ADC file.\n     * @param opts The default aws security credentials supplier options object to\n     *   build the supplier with.\n     */\n    constructor(opts) {\n        _DefaultAwsSecurityCredentialsSupplier_instances.add(this);\n        this.regionUrl = opts.regionUrl;\n        this.securityCredentialsUrl = opts.securityCredentialsUrl;\n        this.imdsV2SessionTokenUrl = opts.imdsV2SessionTokenUrl;\n        this.additionalGaxiosOptions = opts.additionalGaxiosOptions;\n    }\n    /**\n     * Returns the active AWS region. This first checks to see if the region\n     * is available as an environment variable. If it is not, then the supplier\n     * will call the region URL.\n     * @param context {@link ExternalAccountSupplierContext} from the calling\n     *   {@link AwsClient}, contains the requested audience and subject token type\n     *   for the external account identity.\n     * @return A promise that resolves with the AWS region string.\n     */\n    async getAwsRegion(context) {\n        // Priority order for region determination:\n        // AWS_REGION > AWS_DEFAULT_REGION > metadata server.\n        if (__classPrivateFieldGet(this, _DefaultAwsSecurityCredentialsSupplier_instances, \"a\", _DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get)) {\n            return __classPrivateFieldGet(this, _DefaultAwsSecurityCredentialsSupplier_instances, \"a\", _DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get);\n        }\n        const metadataHeaders = {};\n        if (!__classPrivateFieldGet(this, _DefaultAwsSecurityCredentialsSupplier_instances, \"a\", _DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get) && this.imdsV2SessionTokenUrl) {\n            metadataHeaders['x-aws-ec2-metadata-token'] =\n                await __classPrivateFieldGet(this, _DefaultAwsSecurityCredentialsSupplier_instances, \"m\", _DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken).call(this, context.transporter);\n        }\n        if (!this.regionUrl) {\n            throw new Error('Unable to determine AWS region due to missing ' +\n                '\"options.credential_source.region_url\"');\n        }\n        const opts = {\n            ...this.additionalGaxiosOptions,\n            url: this.regionUrl,\n            method: 'GET',\n            responseType: 'text',\n            headers: metadataHeaders,\n        };\n        const response = await context.transporter.request(opts);\n        // Remove last character. For example, if us-east-2b is returned,\n        // the region would be us-east-2.\n        return response.data.substr(0, response.data.length - 1);\n    }\n    /**\n     * Returns AWS security credentials. This first checks to see if the credentials\n     * is available as environment variables. If it is not, then the supplier\n     * will call the security credentials URL.\n     * @param context {@link ExternalAccountSupplierContext} from the calling\n     *   {@link AwsClient}, contains the requested audience and subject token type\n     *   for the external account identity.\n     * @return A promise that resolves with the AWS security credentials.\n     */\n    async getAwsSecurityCredentials(context) {\n        // Check environment variables for permanent credentials first.\n        // https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html\n        if (__classPrivateFieldGet(this, _DefaultAwsSecurityCredentialsSupplier_instances, \"a\", _DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get)) {\n            return __classPrivateFieldGet(this, _DefaultAwsSecurityCredentialsSupplier_instances, \"a\", _DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get);\n        }\n        const metadataHeaders = {};\n        if (this.imdsV2SessionTokenUrl) {\n            metadataHeaders['x-aws-ec2-metadata-token'] =\n                await __classPrivateFieldGet(this, _DefaultAwsSecurityCredentialsSupplier_instances, \"m\", _DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken).call(this, context.transporter);\n        }\n        // Since the role on a VM can change, we don't need to cache it.\n        const roleName = await __classPrivateFieldGet(this, _DefaultAwsSecurityCredentialsSupplier_instances, \"m\", _DefaultAwsSecurityCredentialsSupplier_getAwsRoleName).call(this, metadataHeaders, context.transporter);\n        // Temporary credentials typically last for several hours.\n        // Expiration is returned in response.\n        // Consider future optimization of this logic to cache AWS tokens\n        // until their natural expiration.\n        const awsCreds = await __classPrivateFieldGet(this, _DefaultAwsSecurityCredentialsSupplier_instances, \"m\", _DefaultAwsSecurityCredentialsSupplier_retrieveAwsSecurityCredentials).call(this, roleName, metadataHeaders, context.transporter);\n        return {\n            accessKeyId: awsCreds.AccessKeyId,\n            secretAccessKey: awsCreds.SecretAccessKey,\n            token: awsCreds.Token,\n        };\n    }\n}\nexports.DefaultAwsSecurityCredentialsSupplier = DefaultAwsSecurityCredentialsSupplier;\n_DefaultAwsSecurityCredentialsSupplier_instances = new WeakSet(), _DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken = \n/**\n * @param transporter The transporter to use for requests.\n * @return A promise that resolves with the IMDSv2 Session Token.\n */\nasync function _DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken(transporter) {\n    const opts = {\n        ...this.additionalGaxiosOptions,\n        url: this.imdsV2SessionTokenUrl,\n        method: 'PUT',\n        responseType: 'text',\n        headers: { 'x-aws-ec2-metadata-token-ttl-seconds': '300' },\n    };\n    const response = await transporter.request(opts);\n    return response.data;\n}, _DefaultAwsSecurityCredentialsSupplier_getAwsRoleName = \n/**\n * @param headers The headers to be used in the metadata request.\n * @param transporter The transporter to use for requests.\n * @return A promise that resolves with the assigned role to the current\n *   AWS VM. This is needed for calling the security-credentials endpoint.\n */\nasync function _DefaultAwsSecurityCredentialsSupplier_getAwsRoleName(headers, transporter) {\n    if (!this.securityCredentialsUrl) {\n        throw new Error('Unable to determine AWS role name due to missing ' +\n            '\"options.credential_source.url\"');\n    }\n    const opts = {\n        ...this.additionalGaxiosOptions,\n        url: this.securityCredentialsUrl,\n        method: 'GET',\n        responseType: 'text',\n        headers: headers,\n    };\n    const response = await transporter.request(opts);\n    return response.data;\n}, _DefaultAwsSecurityCredentialsSupplier_retrieveAwsSecurityCredentials = \n/**\n * Retrieves the temporary AWS credentials by calling the security-credentials\n * endpoint as specified in the `credential_source` object.\n * @param roleName The role attached to the current VM.\n * @param headers The headers to be used in the metadata request.\n * @param transporter The transporter to use for requests.\n * @return A promise that resolves with the temporary AWS credentials\n *   needed for creating the GetCallerIdentity signed request.\n */\nasync function _DefaultAwsSecurityCredentialsSupplier_retrieveAwsSecurityCredentials(roleName, headers, transporter) {\n    const response = await transporter.request({\n        ...this.additionalGaxiosOptions,\n        url: `${this.securityCredentialsUrl}/${roleName}`,\n        responseType: 'json',\n        headers: headers,\n    });\n    return response.data;\n}, _DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get = function _DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get() {\n    // The AWS region can be provided through AWS_REGION or AWS_DEFAULT_REGION.\n    // Only one is required.\n    return (process.env['AWS_REGION'] || process.env['AWS_DEFAULT_REGION'] || null);\n}, _DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get = function _DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get() {\n    // Both AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY are required.\n    if (process.env['AWS_ACCESS_KEY_ID'] &&\n        process.env['AWS_SECRET_ACCESS_KEY']) {\n        return {\n            accessKeyId: process.env['AWS_ACCESS_KEY_ID'],\n            secretAccessKey: process.env['AWS_SECRET_ACCESS_KEY'],\n            token: process.env['AWS_SESSION_TOKEN'],\n        };\n    }\n    return null;\n};\n","\"use strict\";\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DownscopedClient = exports.EXPIRATION_TIME_OFFSET = exports.MAX_ACCESS_BOUNDARY_RULES_COUNT = void 0;\nconst stream = require(\"stream\");\nconst authclient_1 = require(\"./authclient\");\nconst sts = require(\"./stscredentials\");\n/**\n * The required token exchange grant_type: rfc8693#section-2.1\n */\nconst STS_GRANT_TYPE = 'urn:ietf:params:oauth:grant-type:token-exchange';\n/**\n * The requested token exchange requested_token_type: rfc8693#section-2.1\n */\nconst STS_REQUEST_TOKEN_TYPE = 'urn:ietf:params:oauth:token-type:access_token';\n/**\n * The requested token exchange subject_token_type: rfc8693#section-2.1\n */\nconst STS_SUBJECT_TOKEN_TYPE = 'urn:ietf:params:oauth:token-type:access_token';\n/**\n * The maximum number of access boundary rules a Credential Access Boundary\n * can contain.\n */\nexports.MAX_ACCESS_BOUNDARY_RULES_COUNT = 10;\n/**\n * Offset to take into account network delays and server clock skews.\n */\nexports.EXPIRATION_TIME_OFFSET = 5 * 60 * 1000;\n/**\n * Defines a set of Google credentials that are downscoped from an existing set\n * of Google OAuth2 credentials. This is useful to restrict the Identity and\n * Access Management (IAM) permissions that a short-lived credential can use.\n * The common pattern of usage is to have a token broker with elevated access\n * generate these downscoped credentials from higher access source credentials\n * and pass the downscoped short-lived access tokens to a token consumer via\n * some secure authenticated channel for limited access to Google Cloud Storage\n * resources.\n */\nclass DownscopedClient extends authclient_1.AuthClient {\n    /**\n     * Instantiates a downscoped client object using the provided source\n     * AuthClient and credential access boundary rules.\n     * To downscope permissions of a source AuthClient, a Credential Access\n     * Boundary that specifies which resources the new credential can access, as\n     * well as an upper bound on the permissions that are available on each\n     * resource, has to be defined. A downscoped client can then be instantiated\n     * using the source AuthClient and the Credential Access Boundary.\n     * @param authClient The source AuthClient to be downscoped based on the\n     *   provided Credential Access Boundary rules.\n     * @param credentialAccessBoundary The Credential Access Boundary which\n     *   contains a list of access boundary rules. Each rule contains information\n     *   on the resource that the rule applies to, the upper bound of the\n     *   permissions that are available on that resource and an optional\n     *   condition to further restrict permissions.\n     * @param additionalOptions **DEPRECATED, set this in the provided `authClient`.**\n     *   Optional additional behavior customization options.\n     * @param quotaProjectId **DEPRECATED, set this in the provided `authClient`.**\n     *   Optional quota project id for setting up in the x-goog-user-project header.\n     */\n    constructor(authClient, credentialAccessBoundary, additionalOptions, quotaProjectId) {\n        super({ ...additionalOptions, quotaProjectId });\n        this.authClient = authClient;\n        this.credentialAccessBoundary = credentialAccessBoundary;\n        // Check 1-10 Access Boundary Rules are defined within Credential Access\n        // Boundary.\n        if (credentialAccessBoundary.accessBoundary.accessBoundaryRules.length === 0) {\n            throw new Error('At least one access boundary rule needs to be defined.');\n        }\n        else if (credentialAccessBoundary.accessBoundary.accessBoundaryRules.length >\n            exports.MAX_ACCESS_BOUNDARY_RULES_COUNT) {\n            throw new Error('The provided access boundary has more than ' +\n                `${exports.MAX_ACCESS_BOUNDARY_RULES_COUNT} access boundary rules.`);\n        }\n        // Check at least one permission should be defined in each Access Boundary\n        // Rule.\n        for (const rule of credentialAccessBoundary.accessBoundary\n            .accessBoundaryRules) {\n            if (rule.availablePermissions.length === 0) {\n                throw new Error('At least one permission should be defined in access boundary rules.');\n            }\n        }\n        this.stsCredential = new sts.StsCredentials(`https://sts.${this.universeDomain}/v1/token`);\n        this.cachedDownscopedAccessToken = null;\n    }\n    /**\n     * Provides a mechanism to inject Downscoped access tokens directly.\n     * The expiry_date field is required to facilitate determination of the token\n     * expiration which would make it easier for the token consumer to handle.\n     * @param credentials The Credentials object to set on the current client.\n     */\n    setCredentials(credentials) {\n        if (!credentials.expiry_date) {\n            throw new Error('The access token expiry_date field is missing in the provided ' +\n                'credentials.');\n        }\n        super.setCredentials(credentials);\n        this.cachedDownscopedAccessToken = credentials;\n    }\n    async getAccessToken() {\n        // If the cached access token is unavailable or expired, force refresh.\n        // The Downscoped access token will be returned in\n        // DownscopedAccessTokenResponse format.\n        if (!this.cachedDownscopedAccessToken ||\n            this.isExpired(this.cachedDownscopedAccessToken)) {\n            await this.refreshAccessTokenAsync();\n        }\n        // Return Downscoped access token in DownscopedAccessTokenResponse format.\n        return {\n            token: this.cachedDownscopedAccessToken.access_token,\n            expirationTime: this.cachedDownscopedAccessToken.expiry_date,\n            res: this.cachedDownscopedAccessToken.res,\n        };\n    }\n    /**\n     * The main authentication interface. It takes an optional url which when\n     * present is the endpoint being accessed, and returns a Promise which\n     * resolves with authorization header fields.\n     *\n     * The result has the form:\n     * { Authorization: 'Bearer <access_token_value>' }\n     */\n    async getRequestHeaders() {\n        const accessTokenResponse = await this.getAccessToken();\n        const headers = {\n            Authorization: `Bearer ${accessTokenResponse.token}`,\n        };\n        return this.addSharedMetadataHeaders(headers);\n    }\n    request(opts, callback) {\n        if (callback) {\n            this.requestAsync(opts).then(r => callback(null, r), e => {\n                return callback(e, e.response);\n            });\n        }\n        else {\n            return this.requestAsync(opts);\n        }\n    }\n    /**\n     * Authenticates the provided HTTP request, processes it and resolves with the\n     * returned response.\n     * @param opts The HTTP request options.\n     * @param reAuthRetried Whether the current attempt is a retry after a failed attempt due to an auth failure\n     * @return A promise that resolves with the successful response.\n     */\n    async requestAsync(opts, reAuthRetried = false) {\n        let response;\n        try {\n            const requestHeaders = await this.getRequestHeaders();\n            opts.headers = opts.headers || {};\n            if (requestHeaders && requestHeaders['x-goog-user-project']) {\n                opts.headers['x-goog-user-project'] =\n                    requestHeaders['x-goog-user-project'];\n            }\n            if (requestHeaders && requestHeaders.Authorization) {\n                opts.headers.Authorization = requestHeaders.Authorization;\n            }\n            response = await this.transporter.request(opts);\n        }\n        catch (e) {\n            const res = e.response;\n            if (res) {\n                const statusCode = res.status;\n                // Retry the request for metadata if the following criteria are true:\n                // - We haven't already retried.  It only makes sense to retry once.\n                // - The response was a 401 or a 403\n                // - The request didn't send a readableStream\n                // - forceRefreshOnFailure is true\n                const isReadableStream = res.config.data instanceof stream.Readable;\n                const isAuthErr = statusCode === 401 || statusCode === 403;\n                if (!reAuthRetried &&\n                    isAuthErr &&\n                    !isReadableStream &&\n                    this.forceRefreshOnFailure) {\n                    await this.refreshAccessTokenAsync();\n                    return await this.requestAsync(opts, true);\n                }\n            }\n            throw e;\n        }\n        return response;\n    }\n    /**\n     * Forces token refresh, even if unexpired tokens are currently cached.\n     * GCP access tokens are retrieved from authclient object/source credential.\n     * Then GCP access tokens are exchanged for downscoped access tokens via the\n     * token exchange endpoint.\n     * @return A promise that resolves with the fresh downscoped access token.\n     */\n    async refreshAccessTokenAsync() {\n        var _a;\n        // Retrieve GCP access token from source credential.\n        const subjectToken = (await this.authClient.getAccessToken()).token;\n        // Construct the STS credentials options.\n        const stsCredentialsOptions = {\n            grantType: STS_GRANT_TYPE,\n            requestedTokenType: STS_REQUEST_TOKEN_TYPE,\n            subjectToken: subjectToken,\n            subjectTokenType: STS_SUBJECT_TOKEN_TYPE,\n        };\n        // Exchange the source AuthClient access token for a Downscoped access\n        // token.\n        const stsResponse = await this.stsCredential.exchangeToken(stsCredentialsOptions, undefined, this.credentialAccessBoundary);\n        /**\n         * The STS endpoint will only return the expiration time for the downscoped\n         * access token if the original access token represents a service account.\n         * The downscoped token's expiration time will always match the source\n         * credential expiration. When no expires_in is returned, we can copy the\n         * source credential's expiration time.\n         */\n        const sourceCredExpireDate = ((_a = this.authClient.credentials) === null || _a === void 0 ? void 0 : _a.expiry_date) || null;\n        const expiryDate = stsResponse.expires_in\n            ? new Date().getTime() + stsResponse.expires_in * 1000\n            : sourceCredExpireDate;\n        // Save response in cached access token.\n        this.cachedDownscopedAccessToken = {\n            access_token: stsResponse.access_token,\n            expiry_date: expiryDate,\n            res: stsResponse.res,\n        };\n        // Save credentials.\n        this.credentials = {};\n        Object.assign(this.credentials, this.cachedDownscopedAccessToken);\n        delete this.credentials.res;\n        // Trigger tokens event to notify external listeners.\n        this.emit('tokens', {\n            refresh_token: null,\n            expiry_date: this.cachedDownscopedAccessToken.expiry_date,\n            access_token: this.cachedDownscopedAccessToken.access_token,\n            token_type: 'Bearer',\n            id_token: null,\n        });\n        // Return the cached access token.\n        return this.cachedDownscopedAccessToken;\n    }\n    /**\n     * Returns whether the provided credentials are expired or not.\n     * If there is no expiry time, assumes the token is not expired or expiring.\n     * @param downscopedAccessToken The credentials to check for expiration.\n     * @return Whether the credentials are expired or not.\n     */\n    isExpired(downscopedAccessToken) {\n        const now = new Date().getTime();\n        return downscopedAccessToken.expiry_date\n            ? now >=\n                downscopedAccessToken.expiry_date - this.eagerRefreshThresholdMillis\n            : false;\n    }\n}\nexports.DownscopedClient = DownscopedClient;\n","\"use strict\";\n// Copyright 2018 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEnv = exports.clear = exports.GCPEnv = void 0;\nconst gcpMetadata = require(\"gcp-metadata\");\nvar GCPEnv;\n(function (GCPEnv) {\n    GCPEnv[\"APP_ENGINE\"] = \"APP_ENGINE\";\n    GCPEnv[\"KUBERNETES_ENGINE\"] = \"KUBERNETES_ENGINE\";\n    GCPEnv[\"CLOUD_FUNCTIONS\"] = \"CLOUD_FUNCTIONS\";\n    GCPEnv[\"COMPUTE_ENGINE\"] = \"COMPUTE_ENGINE\";\n    GCPEnv[\"CLOUD_RUN\"] = \"CLOUD_RUN\";\n    GCPEnv[\"NONE\"] = \"NONE\";\n})(GCPEnv || (exports.GCPEnv = GCPEnv = {}));\nlet envPromise;\nfunction clear() {\n    envPromise = undefined;\n}\nexports.clear = clear;\nasync function getEnv() {\n    if (envPromise) {\n        return envPromise;\n    }\n    envPromise = getEnvMemoized();\n    return envPromise;\n}\nexports.getEnv = getEnv;\nasync function getEnvMemoized() {\n    let env = GCPEnv.NONE;\n    if (isAppEngine()) {\n        env = GCPEnv.APP_ENGINE;\n    }\n    else if (isCloudFunction()) {\n        env = GCPEnv.CLOUD_FUNCTIONS;\n    }\n    else if (await isComputeEngine()) {\n        if (await isKubernetesEngine()) {\n            env = GCPEnv.KUBERNETES_ENGINE;\n        }\n        else if (isCloudRun()) {\n            env = GCPEnv.CLOUD_RUN;\n        }\n        else {\n            env = GCPEnv.COMPUTE_ENGINE;\n        }\n    }\n    else {\n        env = GCPEnv.NONE;\n    }\n    return env;\n}\nfunction isAppEngine() {\n    return !!(process.env.GAE_SERVICE || process.env.GAE_MODULE_NAME);\n}\nfunction isCloudFunction() {\n    return !!(process.env.FUNCTION_NAME || process.env.FUNCTION_TARGET);\n}\n/**\n * This check only verifies that the environment is running knative.\n * This must be run *after* checking for Kubernetes, otherwise it will\n * return a false positive.\n */\nfunction isCloudRun() {\n    return !!process.env.K_CONFIGURATION;\n}\nasync function isKubernetesEngine() {\n    try {\n        await gcpMetadata.instance('attributes/cluster-name');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\nasync function isComputeEngine() {\n    return gcpMetadata.isAvailable();\n}\n","\"use strict\";\n// Copyright 2022 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InvalidSubjectTokenError = exports.InvalidMessageFieldError = exports.InvalidCodeFieldError = exports.InvalidTokenTypeFieldError = exports.InvalidExpirationTimeFieldError = exports.InvalidSuccessFieldError = exports.InvalidVersionFieldError = exports.ExecutableResponseError = exports.ExecutableResponse = void 0;\nconst SAML_SUBJECT_TOKEN_TYPE = 'urn:ietf:params:oauth:token-type:saml2';\nconst OIDC_SUBJECT_TOKEN_TYPE1 = 'urn:ietf:params:oauth:token-type:id_token';\nconst OIDC_SUBJECT_TOKEN_TYPE2 = 'urn:ietf:params:oauth:token-type:jwt';\n/**\n * Defines the response of a 3rd party executable run by the pluggable auth client.\n */\nclass ExecutableResponse {\n    /**\n     * Instantiates an ExecutableResponse instance using the provided JSON object\n     * from the output of the executable.\n     * @param responseJson Response from a 3rd party executable, loaded from a\n     * run of the executable or a cached output file.\n     */\n    constructor(responseJson) {\n        // Check that the required fields exist in the json response.\n        if (!responseJson.version) {\n            throw new InvalidVersionFieldError(\"Executable response must contain a 'version' field.\");\n        }\n        if (responseJson.success === undefined) {\n            throw new InvalidSuccessFieldError(\"Executable response must contain a 'success' field.\");\n        }\n        this.version = responseJson.version;\n        this.success = responseJson.success;\n        // Validate required fields for a successful response.\n        if (this.success) {\n            this.expirationTime = responseJson.expiration_time;\n            this.tokenType = responseJson.token_type;\n            // Validate token type field.\n            if (this.tokenType !== SAML_SUBJECT_TOKEN_TYPE &&\n                this.tokenType !== OIDC_SUBJECT_TOKEN_TYPE1 &&\n                this.tokenType !== OIDC_SUBJECT_TOKEN_TYPE2) {\n                throw new InvalidTokenTypeFieldError(\"Executable response must contain a 'token_type' field when successful \" +\n                    `and it must be one of ${OIDC_SUBJECT_TOKEN_TYPE1}, ${OIDC_SUBJECT_TOKEN_TYPE2}, or ${SAML_SUBJECT_TOKEN_TYPE}.`);\n            }\n            // Validate subject token.\n            if (this.tokenType === SAML_SUBJECT_TOKEN_TYPE) {\n                if (!responseJson.saml_response) {\n                    throw new InvalidSubjectTokenError(`Executable response must contain a 'saml_response' field when token_type=${SAML_SUBJECT_TOKEN_TYPE}.`);\n                }\n                this.subjectToken = responseJson.saml_response;\n            }\n            else {\n                if (!responseJson.id_token) {\n                    throw new InvalidSubjectTokenError(\"Executable response must contain a 'id_token' field when \" +\n                        `token_type=${OIDC_SUBJECT_TOKEN_TYPE1} or ${OIDC_SUBJECT_TOKEN_TYPE2}.`);\n                }\n                this.subjectToken = responseJson.id_token;\n            }\n        }\n        else {\n            // Both code and message must be provided for unsuccessful responses.\n            if (!responseJson.code) {\n                throw new InvalidCodeFieldError(\"Executable response must contain a 'code' field when unsuccessful.\");\n            }\n            if (!responseJson.message) {\n                throw new InvalidMessageFieldError(\"Executable response must contain a 'message' field when unsuccessful.\");\n            }\n            this.errorCode = responseJson.code;\n            this.errorMessage = responseJson.message;\n        }\n    }\n    /**\n     * @return A boolean representing if the response has a valid token. Returns\n     * true when the response was successful and the token is not expired.\n     */\n    isValid() {\n        return !this.isExpired() && this.success;\n    }\n    /**\n     * @return A boolean representing if the response is expired. Returns true if the\n     * provided timeout has passed.\n     */\n    isExpired() {\n        return (this.expirationTime !== undefined &&\n            this.expirationTime < Math.round(Date.now() / 1000));\n    }\n}\nexports.ExecutableResponse = ExecutableResponse;\n/**\n * An error thrown by the ExecutableResponse class.\n */\nclass ExecutableResponseError extends Error {\n    constructor(message) {\n        super(message);\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nexports.ExecutableResponseError = ExecutableResponseError;\n/**\n * An error thrown when the 'version' field in an executable response is missing or invalid.\n */\nclass InvalidVersionFieldError extends ExecutableResponseError {\n}\nexports.InvalidVersionFieldError = InvalidVersionFieldError;\n/**\n * An error thrown when the 'success' field in an executable response is missing or invalid.\n */\nclass InvalidSuccessFieldError extends ExecutableResponseError {\n}\nexports.InvalidSuccessFieldError = InvalidSuccessFieldError;\n/**\n * An error thrown when the 'expiration_time' field in an executable response is missing or invalid.\n */\nclass InvalidExpirationTimeFieldError extends ExecutableResponseError {\n}\nexports.InvalidExpirationTimeFieldError = InvalidExpirationTimeFieldError;\n/**\n * An error thrown when the 'token_type' field in an executable response is missing or invalid.\n */\nclass InvalidTokenTypeFieldError extends ExecutableResponseError {\n}\nexports.InvalidTokenTypeFieldError = InvalidTokenTypeFieldError;\n/**\n * An error thrown when the 'code' field in an executable response is missing or invalid.\n */\nclass InvalidCodeFieldError extends ExecutableResponseError {\n}\nexports.InvalidCodeFieldError = InvalidCodeFieldError;\n/**\n * An error thrown when the 'message' field in an executable response is missing or invalid.\n */\nclass InvalidMessageFieldError extends ExecutableResponseError {\n}\nexports.InvalidMessageFieldError = InvalidMessageFieldError;\n/**\n * An error thrown when the subject token in an executable response is missing or invalid.\n */\nclass InvalidSubjectTokenError extends ExecutableResponseError {\n}\nexports.InvalidSubjectTokenError = InvalidSubjectTokenError;\n","\"use strict\";\n// Copyright 2023 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExternalAccountAuthorizedUserClient = exports.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE = void 0;\nconst authclient_1 = require(\"./authclient\");\nconst oauth2common_1 = require(\"./oauth2common\");\nconst gaxios_1 = require(\"gaxios\");\nconst stream = require(\"stream\");\nconst baseexternalclient_1 = require(\"./baseexternalclient\");\n/**\n * The credentials JSON file type for external account authorized user clients.\n */\nexports.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE = 'external_account_authorized_user';\nconst DEFAULT_TOKEN_URL = 'https://sts.{universeDomain}/v1/oauthtoken';\n/**\n * Handler for token refresh requests sent to the token_url endpoint for external\n * authorized user credentials.\n */\nclass ExternalAccountAuthorizedUserHandler extends oauth2common_1.OAuthClientAuthHandler {\n    /**\n     * Initializes an ExternalAccountAuthorizedUserHandler instance.\n     * @param url The URL of the token refresh endpoint.\n     * @param transporter The transporter to use for the refresh request.\n     * @param clientAuthentication The client authentication credentials to use\n     *   for the refresh request.\n     */\n    constructor(url, transporter, clientAuthentication) {\n        super(clientAuthentication);\n        this.url = url;\n        this.transporter = transporter;\n    }\n    /**\n     * Requests a new access token from the token_url endpoint using the provided\n     *   refresh token.\n     * @param refreshToken The refresh token to use to generate a new access token.\n     * @param additionalHeaders Optional additional headers to pass along the\n     *   request.\n     * @return A promise that resolves with the token refresh response containing\n     *   the requested access token and its expiration time.\n     */\n    async refreshToken(refreshToken, additionalHeaders) {\n        const values = new URLSearchParams({\n            grant_type: 'refresh_token',\n            refresh_token: refreshToken,\n        });\n        const headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            ...additionalHeaders,\n        };\n        const opts = {\n            ...ExternalAccountAuthorizedUserHandler.RETRY_CONFIG,\n            url: this.url,\n            method: 'POST',\n            headers,\n            data: values.toString(),\n            responseType: 'json',\n        };\n        // Apply OAuth client authentication.\n        this.applyClientAuthenticationOptions(opts);\n        try {\n            const response = await this.transporter.request(opts);\n            // Successful response.\n            const tokenRefreshResponse = response.data;\n            tokenRefreshResponse.res = response;\n            return tokenRefreshResponse;\n        }\n        catch (error) {\n            // Translate error to OAuthError.\n            if (error instanceof gaxios_1.GaxiosError && error.response) {\n                throw (0, oauth2common_1.getErrorFromOAuthErrorResponse)(error.response.data, \n                // Preserve other fields from the original error.\n                error);\n            }\n            // Request could fail before the server responds.\n            throw error;\n        }\n    }\n}\n/**\n * External Account Authorized User Client. This is used for OAuth2 credentials\n * sourced using external identities through Workforce Identity Federation.\n * Obtaining the initial access and refresh token can be done through the\n * Google Cloud CLI.\n */\nclass ExternalAccountAuthorizedUserClient extends authclient_1.AuthClient {\n    /**\n     * Instantiates an ExternalAccountAuthorizedUserClient instances using the\n     * provided JSON object loaded from a credentials files.\n     * An error is throws if the credential is not valid.\n     * @param options The external account authorized user option object typically\n     *   from the external accoutn authorized user JSON credential file.\n     * @param additionalOptions **DEPRECATED, all options are available in the\n     *   `options` parameter.** Optional additional behavior customization options.\n     *   These currently customize expiration threshold time and whether to retry\n     *   on 401/403 API request errors.\n     */\n    constructor(options, additionalOptions) {\n        var _a;\n        super({ ...options, ...additionalOptions });\n        if (options.universe_domain) {\n            this.universeDomain = options.universe_domain;\n        }\n        this.refreshToken = options.refresh_token;\n        const clientAuth = {\n            confidentialClientType: 'basic',\n            clientId: options.client_id,\n            clientSecret: options.client_secret,\n        };\n        this.externalAccountAuthorizedUserHandler =\n            new ExternalAccountAuthorizedUserHandler((_a = options.token_url) !== null && _a !== void 0 ? _a : DEFAULT_TOKEN_URL.replace('{universeDomain}', this.universeDomain), this.transporter, clientAuth);\n        this.cachedAccessToken = null;\n        this.quotaProjectId = options.quota_project_id;\n        // As threshold could be zero,\n        // eagerRefreshThresholdMillis || EXPIRATION_TIME_OFFSET will override the\n        // zero value.\n        if (typeof (additionalOptions === null || additionalOptions === void 0 ? void 0 : additionalOptions.eagerRefreshThresholdMillis) !== 'number') {\n            this.eagerRefreshThresholdMillis = baseexternalclient_1.EXPIRATION_TIME_OFFSET;\n        }\n        else {\n            this.eagerRefreshThresholdMillis = additionalOptions\n                .eagerRefreshThresholdMillis;\n        }\n        this.forceRefreshOnFailure = !!(additionalOptions === null || additionalOptions === void 0 ? void 0 : additionalOptions.forceRefreshOnFailure);\n    }\n    async getAccessToken() {\n        // If cached access token is unavailable or expired, force refresh.\n        if (!this.cachedAccessToken || this.isExpired(this.cachedAccessToken)) {\n            await this.refreshAccessTokenAsync();\n        }\n        // Return GCP access token in GetAccessTokenResponse format.\n        return {\n            token: this.cachedAccessToken.access_token,\n            res: this.cachedAccessToken.res,\n        };\n    }\n    async getRequestHeaders() {\n        const accessTokenResponse = await this.getAccessToken();\n        const headers = {\n            Authorization: `Bearer ${accessTokenResponse.token}`,\n        };\n        return this.addSharedMetadataHeaders(headers);\n    }\n    request(opts, callback) {\n        if (callback) {\n            this.requestAsync(opts).then(r => callback(null, r), e => {\n                return callback(e, e.response);\n            });\n        }\n        else {\n            return this.requestAsync(opts);\n        }\n    }\n    /**\n     * Authenticates the provided HTTP request, processes it and resolves with the\n     * returned response.\n     * @param opts The HTTP request options.\n     * @param reAuthRetried Whether the current attempt is a retry after a failed attempt due to an auth failure.\n     * @return A promise that resolves with the successful response.\n     */\n    async requestAsync(opts, reAuthRetried = false) {\n        let response;\n        try {\n            const requestHeaders = await this.getRequestHeaders();\n            opts.headers = opts.headers || {};\n            if (requestHeaders && requestHeaders['x-goog-user-project']) {\n                opts.headers['x-goog-user-project'] =\n                    requestHeaders['x-goog-user-project'];\n            }\n            if (requestHeaders && requestHeaders.Authorization) {\n                opts.headers.Authorization = requestHeaders.Authorization;\n            }\n            response = await this.transporter.request(opts);\n        }\n        catch (e) {\n            const res = e.response;\n            if (res) {\n                const statusCode = res.status;\n                // Retry the request for metadata if the following criteria are true:\n                // - We haven't already retried.  It only makes sense to retry once.\n                // - The response was a 401 or a 403\n                // - The request didn't send a readableStream\n                // - forceRefreshOnFailure is true\n                const isReadableStream = res.config.data instanceof stream.Readable;\n                const isAuthErr = statusCode === 401 || statusCode === 403;\n                if (!reAuthRetried &&\n                    isAuthErr &&\n                    !isReadableStream &&\n                    this.forceRefreshOnFailure) {\n                    await this.refreshAccessTokenAsync();\n                    return await this.requestAsync(opts, true);\n                }\n            }\n            throw e;\n        }\n        return response;\n    }\n    /**\n     * Forces token refresh, even if unexpired tokens are currently cached.\n     * @return A promise that resolves with the refreshed credential.\n     */\n    async refreshAccessTokenAsync() {\n        // Refresh the access token using the refresh token.\n        const refreshResponse = await this.externalAccountAuthorizedUserHandler.refreshToken(this.refreshToken);\n        this.cachedAccessToken = {\n            access_token: refreshResponse.access_token,\n            expiry_date: new Date().getTime() + refreshResponse.expires_in * 1000,\n            res: refreshResponse.res,\n        };\n        if (refreshResponse.refresh_token !== undefined) {\n            this.refreshToken = refreshResponse.refresh_token;\n        }\n        return this.cachedAccessToken;\n    }\n    /**\n     * Returns whether the provided credentials are expired or not.\n     * If there is no expiry time, assumes the token is not expired or expiring.\n     * @param credentials The credentials to check for expiration.\n     * @return Whether the credentials are expired or not.\n     */\n    isExpired(credentials) {\n        const now = new Date().getTime();\n        return credentials.expiry_date\n            ? now >= credentials.expiry_date - this.eagerRefreshThresholdMillis\n            : false;\n    }\n}\nexports.ExternalAccountAuthorizedUserClient = ExternalAccountAuthorizedUserClient;\n","\"use strict\";\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExternalAccountClient = void 0;\nconst baseexternalclient_1 = require(\"./baseexternalclient\");\nconst identitypoolclient_1 = require(\"./identitypoolclient\");\nconst awsclient_1 = require(\"./awsclient\");\nconst pluggable_auth_client_1 = require(\"./pluggable-auth-client\");\n/**\n * Dummy class with no constructor. Developers are expected to use fromJSON.\n */\nclass ExternalAccountClient {\n    constructor() {\n        throw new Error('ExternalAccountClients should be initialized via: ' +\n            'ExternalAccountClient.fromJSON(), ' +\n            'directly via explicit constructors, eg. ' +\n            'new AwsClient(options), new IdentityPoolClient(options), new' +\n            'PluggableAuthClientOptions, or via ' +\n            'new GoogleAuth(options).getClient()');\n    }\n    /**\n     * This static method will instantiate the\n     * corresponding type of external account credential depending on the\n     * underlying credential source.\n     * @param options The external account options object typically loaded\n     *   from the external account JSON credential file.\n     * @param additionalOptions **DEPRECATED, all options are available in the\n     *   `options` parameter.** Optional additional behavior customization options.\n     *   These currently customize expiration threshold time and whether to retry\n     *   on 401/403 API request errors.\n     * @return A BaseExternalAccountClient instance or null if the options\n     *   provided do not correspond to an external account credential.\n     */\n    static fromJSON(options, additionalOptions) {\n        var _a, _b;\n        if (options && options.type === baseexternalclient_1.EXTERNAL_ACCOUNT_TYPE) {\n            if ((_a = options.credential_source) === null || _a === void 0 ? void 0 : _a.environment_id) {\n                return new awsclient_1.AwsClient(options, additionalOptions);\n            }\n            else if ((_b = options.credential_source) === null || _b === void 0 ? void 0 : _b.executable) {\n                return new pluggable_auth_client_1.PluggableAuthClient(options, additionalOptions);\n            }\n            else {\n                return new identitypoolclient_1.IdentityPoolClient(options, additionalOptions);\n            }\n        }\n        else {\n            return null;\n        }\n    }\n}\nexports.ExternalAccountClient = ExternalAccountClient;\n","\"use strict\";\n// Copyright 2024 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar _a, _b, _c;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSubjectTokenSupplier = void 0;\nconst util_1 = require(\"util\");\nconst fs = require(\"fs\");\n// fs.readfile is undefined in browser karma tests causing\n// `npm run browser-test` to fail as test.oauth2.ts imports this file via\n// src/index.ts.\n// Fallback to void function to avoid promisify throwing a TypeError.\nconst readFile = (0, util_1.promisify)((_a = fs.readFile) !== null && _a !== void 0 ? _a : (() => { }));\nconst realpath = (0, util_1.promisify)((_b = fs.realpath) !== null && _b !== void 0 ? _b : (() => { }));\nconst lstat = (0, util_1.promisify)((_c = fs.lstat) !== null && _c !== void 0 ? _c : (() => { }));\n/**\n * Internal subject token supplier implementation used when a file location\n * is configured in the credential configuration used to build an {@link IdentityPoolClient}\n */\nclass FileSubjectTokenSupplier {\n    /**\n     * Instantiates a new file based subject token supplier.\n     * @param opts The file subject token supplier options to build the supplier\n     *   with.\n     */\n    constructor(opts) {\n        this.filePath = opts.filePath;\n        this.formatType = opts.formatType;\n        this.subjectTokenFieldName = opts.subjectTokenFieldName;\n    }\n    /**\n     * Returns the subject token stored at the file specified in the constructor.\n     * @param context {@link ExternalAccountSupplierContext} from the calling\n     *   {@link IdentityPoolClient}, contains the requested audience and subject\n     *   token type for the external account identity. Not used.\n     */\n    async getSubjectToken(context) {\n        // Make sure there is a file at the path. lstatSync will throw if there is\n        // nothing there.\n        let parsedFilePath = this.filePath;\n        try {\n            // Resolve path to actual file in case of symlink. Expect a thrown error\n            // if not resolvable.\n            parsedFilePath = await realpath(parsedFilePath);\n            if (!(await lstat(parsedFilePath)).isFile()) {\n                throw new Error();\n            }\n        }\n        catch (err) {\n            if (err instanceof Error) {\n                err.message = `The file at ${parsedFilePath} does not exist, or it is not a file. ${err.message}`;\n            }\n            throw err;\n        }\n        let subjectToken;\n        const rawText = await readFile(parsedFilePath, { encoding: 'utf8' });\n        if (this.formatType === 'text') {\n            subjectToken = rawText;\n        }\n        else if (this.formatType === 'json' && this.subjectTokenFieldName) {\n            const json = JSON.parse(rawText);\n            subjectToken = json[this.subjectTokenFieldName];\n        }\n        if (!subjectToken) {\n            throw new Error('Unable to parse the subject_token from the credential_source file');\n        }\n        return subjectToken;\n    }\n}\nexports.FileSubjectTokenSupplier = FileSubjectTokenSupplier;\n","\"use strict\";\n// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GoogleAuth = exports.CLOUD_SDK_CLIENT_ID = void 0;\nconst child_process_1 = require(\"child_process\");\nconst fs = require(\"fs\");\nconst gcpMetadata = require(\"gcp-metadata\");\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst crypto_1 = require(\"../crypto/crypto\");\nconst transporters_1 = require(\"../transporters\");\nconst computeclient_1 = require(\"./computeclient\");\nconst idtokenclient_1 = require(\"./idtokenclient\");\nconst envDetect_1 = require(\"./envDetect\");\nconst jwtclient_1 = require(\"./jwtclient\");\nconst refreshclient_1 = require(\"./refreshclient\");\nconst impersonated_1 = require(\"./impersonated\");\nconst externalclient_1 = require(\"./externalclient\");\nconst baseexternalclient_1 = require(\"./baseexternalclient\");\nconst authclient_1 = require(\"./authclient\");\nconst externalAccountAuthorizedUserClient_1 = require(\"./externalAccountAuthorizedUserClient\");\nconst util_1 = require(\"../util\");\nexports.CLOUD_SDK_CLIENT_ID = '764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com';\nconst GoogleAuthExceptionMessages = {\n    NO_PROJECT_ID_FOUND: 'Unable to detect a Project Id in the current environment. \\n' +\n        'To learn more about authentication and Google APIs, visit: \\n' +\n        'https://cloud.google.com/docs/authentication/getting-started',\n    NO_CREDENTIALS_FOUND: 'Unable to find credentials in current environment. \\n' +\n        'To learn more about authentication and Google APIs, visit: \\n' +\n        'https://cloud.google.com/docs/authentication/getting-started',\n    NO_UNIVERSE_DOMAIN_FOUND: 'Unable to detect a Universe Domain in the current environment.\\n' +\n        'To learn more about Universe Domain retrieval, visit: \\n' +\n        'https://cloud.google.com/compute/docs/metadata/predefined-metadata-keys',\n};\nclass GoogleAuth {\n    // Note:  this properly is only public to satisify unit tests.\n    // https://github.com/Microsoft/TypeScript/issues/5228\n    get isGCE() {\n        return this.checkIsGCE;\n    }\n    /**\n     * Configuration is resolved in the following order of precedence:\n     * - {@link GoogleAuthOptions.credentials `credentials`}\n     * - {@link GoogleAuthOptions.keyFilename `keyFilename`}\n     * - {@link GoogleAuthOptions.keyFile `keyFile`}\n     *\n     * {@link GoogleAuthOptions.clientOptions `clientOptions`} are passed to the\n     * {@link AuthClient `AuthClient`s}.\n     *\n     * @param opts\n     */\n    constructor(opts) {\n        /**\n         * Caches a value indicating whether the auth layer is running on Google\n         * Compute Engine.\n         * @private\n         */\n        this.checkIsGCE = undefined;\n        // To save the contents of the JSON credential file\n        this.jsonContent = null;\n        this.cachedCredential = null;\n        this.clientOptions = {};\n        opts = opts || {};\n        this._cachedProjectId = opts.projectId || null;\n        this.cachedCredential = opts.authClient || null;\n        this.keyFilename = opts.keyFilename || opts.keyFile;\n        this.scopes = opts.scopes;\n        this.jsonContent = opts.credentials || null;\n        this.clientOptions = opts.clientOptions || {};\n        if (opts.universeDomain) {\n            this.clientOptions.universeDomain = opts.universeDomain;\n        }\n    }\n    // GAPIC client libraries should always use self-signed JWTs. The following\n    // variables are set on the JWT client in order to indicate the type of library,\n    // and sign the JWT with the correct audience and scopes (if not supplied).\n    setGapicJWTValues(client) {\n        client.defaultServicePath = this.defaultServicePath;\n        client.useJWTAccessWithScope = this.useJWTAccessWithScope;\n        client.defaultScopes = this.defaultScopes;\n    }\n    getProjectId(callback) {\n        if (callback) {\n            this.getProjectIdAsync().then(r => callback(null, r), callback);\n        }\n        else {\n            return this.getProjectIdAsync();\n        }\n    }\n    /**\n     * A temporary method for internal `getProjectId` usages where `null` is\n     * acceptable. In a future major release, `getProjectId` should return `null`\n     * (as the `Promise<string | null>` base signature describes) and this private\n     * method should be removed.\n     *\n     * @returns Promise that resolves with project id (or `null`)\n     */\n    async getProjectIdOptional() {\n        try {\n            return await this.getProjectId();\n        }\n        catch (e) {\n            if (e instanceof Error &&\n                e.message === GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND) {\n                return null;\n            }\n            else {\n                throw e;\n            }\n        }\n    }\n    /*\n     * A private method for finding and caching a projectId.\n     *\n     * Supports environments in order of precedence:\n     * - GCLOUD_PROJECT or GOOGLE_CLOUD_PROJECT environment variable\n     * - GOOGLE_APPLICATION_CREDENTIALS JSON file\n     * - Cloud SDK: `gcloud config config-helper --format json`\n     * - GCE project ID from metadata server\n     *\n     * @returns projectId\n     */\n    async findAndCacheProjectId() {\n        let projectId = null;\n        projectId || (projectId = await this.getProductionProjectId());\n        projectId || (projectId = await this.getFileProjectId());\n        projectId || (projectId = await this.getDefaultServiceProjectId());\n        projectId || (projectId = await this.getGCEProjectId());\n        projectId || (projectId = await this.getExternalAccountClientProjectId());\n        if (projectId) {\n            this._cachedProjectId = projectId;\n            return projectId;\n        }\n        else {\n            throw new Error(GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND);\n        }\n    }\n    async getProjectIdAsync() {\n        if (this._cachedProjectId) {\n            return this._cachedProjectId;\n        }\n        if (!this._findProjectIdPromise) {\n            this._findProjectIdPromise = this.findAndCacheProjectId();\n        }\n        return this._findProjectIdPromise;\n    }\n    /**\n     * Retrieves a universe domain from the metadata server via\n     * {@link gcpMetadata.universe}.\n     *\n     * @returns a universe domain\n     */\n    async getUniverseDomainFromMetadataServer() {\n        var _a;\n        let universeDomain;\n        try {\n            universeDomain = await gcpMetadata.universe('universe-domain');\n            universeDomain || (universeDomain = authclient_1.DEFAULT_UNIVERSE);\n        }\n        catch (e) {\n            if (e && ((_a = e === null || e === void 0 ? void 0 : e.response) === null || _a === void 0 ? void 0 : _a.status) === 404) {\n                universeDomain = authclient_1.DEFAULT_UNIVERSE;\n            }\n            else {\n                throw e;\n            }\n        }\n        return universeDomain;\n    }\n    /**\n     * Retrieves, caches, and returns the universe domain in the following order\n     * of precedence:\n     * - The universe domain in {@link GoogleAuth.clientOptions}\n     * - An existing or ADC {@link AuthClient}'s universe domain\n     * - {@link gcpMetadata.universe}, if {@link Compute} client\n     *\n     * @returns The universe domain\n     */\n    async getUniverseDomain() {\n        let universeDomain = (0, util_1.originalOrCamelOptions)(this.clientOptions).get('universe_domain');\n        try {\n            universeDomain !== null && universeDomain !== void 0 ? universeDomain : (universeDomain = (await this.getClient()).universeDomain);\n        }\n        catch (_a) {\n            // client or ADC is not available\n            universeDomain !== null && universeDomain !== void 0 ? universeDomain : (universeDomain = authclient_1.DEFAULT_UNIVERSE);\n        }\n        return universeDomain;\n    }\n    /**\n     * @returns Any scopes (user-specified or default scopes specified by the\n     *   client library) that need to be set on the current Auth client.\n     */\n    getAnyScopes() {\n        return this.scopes || this.defaultScopes;\n    }\n    getApplicationDefault(optionsOrCallback = {}, callback) {\n        let options;\n        if (typeof optionsOrCallback === 'function') {\n            callback = optionsOrCallback;\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        if (callback) {\n            this.getApplicationDefaultAsync(options).then(r => callback(null, r.credential, r.projectId), callback);\n        }\n        else {\n            return this.getApplicationDefaultAsync(options);\n        }\n    }\n    async getApplicationDefaultAsync(options = {}) {\n        // If we've already got a cached credential, return it.\n        // This will also preserve one's configured quota project, in case they\n        // set one directly on the credential previously.\n        if (this.cachedCredential) {\n            return await this.prepareAndCacheADC(this.cachedCredential);\n        }\n        // Since this is a 'new' ADC to cache we will use the environment variable\n        // if it's available. We prefer this value over the value from ADC.\n        const quotaProjectIdOverride = process.env['GOOGLE_CLOUD_QUOTA_PROJECT'];\n        let credential;\n        // Check for the existence of a local environment variable pointing to the\n        // location of the credential file. This is typically used in local\n        // developer scenarios.\n        credential =\n            await this._tryGetApplicationCredentialsFromEnvironmentVariable(options);\n        if (credential) {\n            if (credential instanceof jwtclient_1.JWT) {\n                credential.scopes = this.scopes;\n            }\n            else if (credential instanceof baseexternalclient_1.BaseExternalAccountClient) {\n                credential.scopes = this.getAnyScopes();\n            }\n            return await this.prepareAndCacheADC(credential, quotaProjectIdOverride);\n        }\n        // Look in the well-known credential file location.\n        credential =\n            await this._tryGetApplicationCredentialsFromWellKnownFile(options);\n        if (credential) {\n            if (credential instanceof jwtclient_1.JWT) {\n                credential.scopes = this.scopes;\n            }\n            else if (credential instanceof baseexternalclient_1.BaseExternalAccountClient) {\n                credential.scopes = this.getAnyScopes();\n            }\n            return await this.prepareAndCacheADC(credential, quotaProjectIdOverride);\n        }\n        // Determine if we're running on GCE.\n        if (await this._checkIsGCE()) {\n            // set universe domain for Compute client\n            if (!(0, util_1.originalOrCamelOptions)(options).get('universe_domain')) {\n                options.universeDomain =\n                    await this.getUniverseDomainFromMetadataServer();\n            }\n            options.scopes = this.getAnyScopes();\n            return await this.prepareAndCacheADC(new computeclient_1.Compute(options), quotaProjectIdOverride);\n        }\n        throw new Error('Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.');\n    }\n    async prepareAndCacheADC(credential, quotaProjectIdOverride) {\n        const projectId = await this.getProjectIdOptional();\n        if (quotaProjectIdOverride) {\n            credential.quotaProjectId = quotaProjectIdOverride;\n        }\n        this.cachedCredential = credential;\n        return { credential, projectId };\n    }\n    /**\n     * Determines whether the auth layer is running on Google Compute Engine.\n     * Checks for GCP Residency, then fallback to checking if metadata server\n     * is available.\n     *\n     * @returns A promise that resolves with the boolean.\n     * @api private\n     */\n    async _checkIsGCE() {\n        if (this.checkIsGCE === undefined) {\n            this.checkIsGCE =\n                gcpMetadata.getGCPResidency() || (await gcpMetadata.isAvailable());\n        }\n        return this.checkIsGCE;\n    }\n    /**\n     * Attempts to load default credentials from the environment variable path..\n     * @returns Promise that resolves with the OAuth2Client or null.\n     * @api private\n     */\n    async _tryGetApplicationCredentialsFromEnvironmentVariable(options) {\n        const credentialsPath = process.env['GOOGLE_APPLICATION_CREDENTIALS'] ||\n            process.env['google_application_credentials'];\n        if (!credentialsPath || credentialsPath.length === 0) {\n            return null;\n        }\n        try {\n            return this._getApplicationCredentialsFromFilePath(credentialsPath, options);\n        }\n        catch (e) {\n            if (e instanceof Error) {\n                e.message = `Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: ${e.message}`;\n            }\n            throw e;\n        }\n    }\n    /**\n     * Attempts to load default credentials from a well-known file location\n     * @return Promise that resolves with the OAuth2Client or null.\n     * @api private\n     */\n    async _tryGetApplicationCredentialsFromWellKnownFile(options) {\n        // First, figure out the location of the file, depending upon the OS type.\n        let location = null;\n        if (this._isWindows()) {\n            // Windows\n            location = process.env['APPDATA'];\n        }\n        else {\n            // Linux or Mac\n            const home = process.env['HOME'];\n            if (home) {\n                location = path.join(home, '.config');\n            }\n        }\n        // If we found the root path, expand it.\n        if (location) {\n            location = path.join(location, 'gcloud', 'application_default_credentials.json');\n            if (!fs.existsSync(location)) {\n                location = null;\n            }\n        }\n        // The file does not exist.\n        if (!location) {\n            return null;\n        }\n        // The file seems to exist. Try to use it.\n        const client = await this._getApplicationCredentialsFromFilePath(location, options);\n        return client;\n    }\n    /**\n     * Attempts to load default credentials from a file at the given path..\n     * @param filePath The path to the file to read.\n     * @returns Promise that resolves with the OAuth2Client\n     * @api private\n     */\n    async _getApplicationCredentialsFromFilePath(filePath, options = {}) {\n        // Make sure the path looks like a string.\n        if (!filePath || filePath.length === 0) {\n            throw new Error('The file path is invalid.');\n        }\n        // Make sure there is a file at the path. lstatSync will throw if there is\n        // nothing there.\n        try {\n            // Resolve path to actual file in case of symlink. Expect a thrown error\n            // if not resolvable.\n            filePath = fs.realpathSync(filePath);\n            if (!fs.lstatSync(filePath).isFile()) {\n                throw new Error();\n            }\n        }\n        catch (err) {\n            if (err instanceof Error) {\n                err.message = `The file at ${filePath} does not exist, or it is not a file. ${err.message}`;\n            }\n            throw err;\n        }\n        // Now open a read stream on the file, and parse it.\n        const readStream = fs.createReadStream(filePath);\n        return this.fromStream(readStream, options);\n    }\n    /**\n     * Create a credentials instance using a given impersonated input options.\n     * @param json The impersonated input object.\n     * @returns JWT or UserRefresh Client with data\n     */\n    fromImpersonatedJSON(json) {\n        var _a, _b, _c, _d, _e;\n        if (!json) {\n            throw new Error('Must pass in a JSON object containing an  impersonated refresh token');\n        }\n        if (json.type !== impersonated_1.IMPERSONATED_ACCOUNT_TYPE) {\n            throw new Error(`The incoming JSON object does not have the \"${impersonated_1.IMPERSONATED_ACCOUNT_TYPE}\" type`);\n        }\n        if (!json.source_credentials) {\n            throw new Error('The incoming JSON object does not contain a source_credentials field');\n        }\n        if (!json.service_account_impersonation_url) {\n            throw new Error('The incoming JSON object does not contain a service_account_impersonation_url field');\n        }\n        // Create source client for impersonation\n        const sourceClient = new refreshclient_1.UserRefreshClient();\n        sourceClient.fromJSON(json.source_credentials);\n        if (((_a = json.service_account_impersonation_url) === null || _a === void 0 ? void 0 : _a.length) > 256) {\n            /**\n             * Prevents DOS attacks.\n             * @see {@link https://github.com/googleapis/google-auth-library-nodejs/security/code-scanning/85}\n             **/\n            throw new RangeError(`Target principal is too long: ${json.service_account_impersonation_url}`);\n        }\n        // Extreact service account from service_account_impersonation_url\n        const targetPrincipal = (_c = (_b = /(?<target>[^/]+):generateAccessToken$/.exec(json.service_account_impersonation_url)) === null || _b === void 0 ? void 0 : _b.groups) === null || _c === void 0 ? void 0 : _c.target;\n        if (!targetPrincipal) {\n            throw new RangeError(`Cannot extract target principal from ${json.service_account_impersonation_url}`);\n        }\n        const targetScopes = (_d = this.getAnyScopes()) !== null && _d !== void 0 ? _d : [];\n        const client = new impersonated_1.Impersonated({\n            ...json,\n            delegates: (_e = json.delegates) !== null && _e !== void 0 ? _e : [],\n            sourceClient: sourceClient,\n            targetPrincipal: targetPrincipal,\n            targetScopes: Array.isArray(targetScopes) ? targetScopes : [targetScopes],\n        });\n        return client;\n    }\n    /**\n     * Create a credentials instance using the given input options.\n     * @param json The input object.\n     * @param options The JWT or UserRefresh options for the client\n     * @returns JWT or UserRefresh Client with data\n     */\n    fromJSON(json, options = {}) {\n        let client;\n        // user's preferred universe domain\n        const preferredUniverseDomain = (0, util_1.originalOrCamelOptions)(options).get('universe_domain');\n        if (json.type === refreshclient_1.USER_REFRESH_ACCOUNT_TYPE) {\n            client = new refreshclient_1.UserRefreshClient(options);\n            client.fromJSON(json);\n        }\n        else if (json.type === impersonated_1.IMPERSONATED_ACCOUNT_TYPE) {\n            client = this.fromImpersonatedJSON(json);\n        }\n        else if (json.type === baseexternalclient_1.EXTERNAL_ACCOUNT_TYPE) {\n            client = externalclient_1.ExternalAccountClient.fromJSON(json, options);\n            client.scopes = this.getAnyScopes();\n        }\n        else if (json.type === externalAccountAuthorizedUserClient_1.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE) {\n            client = new externalAccountAuthorizedUserClient_1.ExternalAccountAuthorizedUserClient(json, options);\n        }\n        else {\n            options.scopes = this.scopes;\n            client = new jwtclient_1.JWT(options);\n            this.setGapicJWTValues(client);\n            client.fromJSON(json);\n        }\n        if (preferredUniverseDomain) {\n            client.universeDomain = preferredUniverseDomain;\n        }\n        return client;\n    }\n    /**\n     * Return a JWT or UserRefreshClient from JavaScript object, caching both the\n     * object used to instantiate and the client.\n     * @param json The input object.\n     * @param options The JWT or UserRefresh options for the client\n     * @returns JWT or UserRefresh Client with data\n     */\n    _cacheClientFromJSON(json, options) {\n        const client = this.fromJSON(json, options);\n        // cache both raw data used to instantiate client and client itself.\n        this.jsonContent = json;\n        this.cachedCredential = client;\n        return client;\n    }\n    fromStream(inputStream, optionsOrCallback = {}, callback) {\n        let options = {};\n        if (typeof optionsOrCallback === 'function') {\n            callback = optionsOrCallback;\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        if (callback) {\n            this.fromStreamAsync(inputStream, options).then(r => callback(null, r), callback);\n        }\n        else {\n            return this.fromStreamAsync(inputStream, options);\n        }\n    }\n    fromStreamAsync(inputStream, options) {\n        return new Promise((resolve, reject) => {\n            if (!inputStream) {\n                throw new Error('Must pass in a stream containing the Google auth settings.');\n            }\n            let s = '';\n            inputStream\n                .setEncoding('utf8')\n                .on('error', reject)\n                .on('data', chunk => (s += chunk))\n                .on('end', () => {\n                try {\n                    try {\n                        const data = JSON.parse(s);\n                        const r = this._cacheClientFromJSON(data, options);\n                        return resolve(r);\n                    }\n                    catch (err) {\n                        // If we failed parsing this.keyFileName, assume that it\n                        // is a PEM or p12 certificate:\n                        if (!this.keyFilename)\n                            throw err;\n                        const client = new jwtclient_1.JWT({\n                            ...this.clientOptions,\n                            keyFile: this.keyFilename,\n                        });\n                        this.cachedCredential = client;\n                        this.setGapicJWTValues(client);\n                        return resolve(client);\n                    }\n                }\n                catch (err) {\n                    return reject(err);\n                }\n            });\n        });\n    }\n    /**\n     * Create a credentials instance using the given API key string.\n     * @param apiKey The API key string\n     * @param options An optional options object.\n     * @returns A JWT loaded from the key\n     */\n    fromAPIKey(apiKey, options) {\n        options = options || {};\n        const client = new jwtclient_1.JWT(options);\n        client.fromAPIKey(apiKey);\n        return client;\n    }\n    /**\n     * Determines whether the current operating system is Windows.\n     * @api private\n     */\n    _isWindows() {\n        const sys = os.platform();\n        if (sys && sys.length >= 3) {\n            if (sys.substring(0, 3).toLowerCase() === 'win') {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Run the Google Cloud SDK command that prints the default project ID\n     */\n    async getDefaultServiceProjectId() {\n        return new Promise(resolve => {\n            (0, child_process_1.exec)('gcloud config config-helper --format json', (err, stdout) => {\n                if (!err && stdout) {\n                    try {\n                        const projectId = JSON.parse(stdout).configuration.properties.core.project;\n                        resolve(projectId);\n                        return;\n                    }\n                    catch (e) {\n                        // ignore errors\n                    }\n                }\n                resolve(null);\n            });\n        });\n    }\n    /**\n     * Loads the project id from environment variables.\n     * @api private\n     */\n    getProductionProjectId() {\n        return (process.env['GCLOUD_PROJECT'] ||\n            process.env['GOOGLE_CLOUD_PROJECT'] ||\n            process.env['gcloud_project'] ||\n            process.env['google_cloud_project']);\n    }\n    /**\n     * Loads the project id from the GOOGLE_APPLICATION_CREDENTIALS json file.\n     * @api private\n     */\n    async getFileProjectId() {\n        if (this.cachedCredential) {\n            // Try to read the project ID from the cached credentials file\n            return this.cachedCredential.projectId;\n        }\n        // Ensure the projectId is loaded from the keyFile if available.\n        if (this.keyFilename) {\n            const creds = await this.getClient();\n            if (creds && creds.projectId) {\n                return creds.projectId;\n            }\n        }\n        // Try to load a credentials file and read its project ID\n        const r = await this._tryGetApplicationCredentialsFromEnvironmentVariable();\n        if (r) {\n            return r.projectId;\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Gets the project ID from external account client if available.\n     */\n    async getExternalAccountClientProjectId() {\n        if (!this.jsonContent || this.jsonContent.type !== baseexternalclient_1.EXTERNAL_ACCOUNT_TYPE) {\n            return null;\n        }\n        const creds = await this.getClient();\n        // Do not suppress the underlying error, as the error could contain helpful\n        // information for debugging and fixing. This is especially true for\n        // external account creds as in order to get the project ID, the following\n        // operations have to succeed:\n        // 1. Valid credentials file should be supplied.\n        // 2. Ability to retrieve access tokens from STS token exchange API.\n        // 3. Ability to exchange for service account impersonated credentials (if\n        //    enabled).\n        // 4. Ability to get project info using the access token from step 2 or 3.\n        // Without surfacing the error, it is harder for developers to determine\n        // which step went wrong.\n        return await creds.getProjectId();\n    }\n    /**\n     * Gets the Compute Engine project ID if it can be inferred.\n     */\n    async getGCEProjectId() {\n        try {\n            const r = await gcpMetadata.project('project-id');\n            return r;\n        }\n        catch (e) {\n            // Ignore any errors\n            return null;\n        }\n    }\n    getCredentials(callback) {\n        if (callback) {\n            this.getCredentialsAsync().then(r => callback(null, r), callback);\n        }\n        else {\n            return this.getCredentialsAsync();\n        }\n    }\n    async getCredentialsAsync() {\n        const client = await this.getClient();\n        if (client instanceof impersonated_1.Impersonated) {\n            return { client_email: client.getTargetPrincipal() };\n        }\n        if (client instanceof baseexternalclient_1.BaseExternalAccountClient) {\n            const serviceAccountEmail = client.getServiceAccountEmail();\n            if (serviceAccountEmail) {\n                return {\n                    client_email: serviceAccountEmail,\n                    universe_domain: client.universeDomain,\n                };\n            }\n        }\n        if (this.jsonContent) {\n            return {\n                client_email: this.jsonContent.client_email,\n                private_key: this.jsonContent.private_key,\n                universe_domain: this.jsonContent.universe_domain,\n            };\n        }\n        if (await this._checkIsGCE()) {\n            const [client_email, universe_domain] = await Promise.all([\n                gcpMetadata.instance('service-accounts/default/email'),\n                this.getUniverseDomain(),\n            ]);\n            return { client_email, universe_domain };\n        }\n        throw new Error(GoogleAuthExceptionMessages.NO_CREDENTIALS_FOUND);\n    }\n    /**\n     * Automatically obtain an {@link AuthClient `AuthClient`} based on the\n     * provided configuration. If no options were passed, use Application\n     * Default Credentials.\n     */\n    async getClient() {\n        if (!this.cachedCredential) {\n            if (this.jsonContent) {\n                this._cacheClientFromJSON(this.jsonContent, this.clientOptions);\n            }\n            else if (this.keyFilename) {\n                const filePath = path.resolve(this.keyFilename);\n                const stream = fs.createReadStream(filePath);\n                await this.fromStreamAsync(stream, this.clientOptions);\n            }\n            else {\n                await this.getApplicationDefaultAsync(this.clientOptions);\n            }\n        }\n        return this.cachedCredential;\n    }\n    /**\n     * Creates a client which will fetch an ID token for authorization.\n     * @param targetAudience the audience for the fetched ID token.\n     * @returns IdTokenClient for making HTTP calls authenticated with ID tokens.\n     */\n    async getIdTokenClient(targetAudience) {\n        const client = await this.getClient();\n        if (!('fetchIdToken' in client)) {\n            throw new Error('Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.');\n        }\n        return new idtokenclient_1.IdTokenClient({ targetAudience, idTokenProvider: client });\n    }\n    /**\n     * Automatically obtain application default credentials, and return\n     * an access token for making requests.\n     */\n    async getAccessToken() {\n        const client = await this.getClient();\n        return (await client.getAccessToken()).token;\n    }\n    /**\n     * Obtain the HTTP headers that will provide authorization for a given\n     * request.\n     */\n    async getRequestHeaders(url) {\n        const client = await this.getClient();\n        return client.getRequestHeaders(url);\n    }\n    /**\n     * Obtain credentials for a request, then attach the appropriate headers to\n     * the request options.\n     * @param opts Axios or Request options on which to attach the headers\n     */\n    async authorizeRequest(opts) {\n        opts = opts || {};\n        const url = opts.url || opts.uri;\n        const client = await this.getClient();\n        const headers = await client.getRequestHeaders(url);\n        opts.headers = Object.assign(opts.headers || {}, headers);\n        return opts;\n    }\n    /**\n     * Automatically obtain application default credentials, and make an\n     * HTTP request using the given options.\n     * @param opts Axios request options for the HTTP request.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async request(opts) {\n        const client = await this.getClient();\n        return client.request(opts);\n    }\n    /**\n     * Determine the compute environment in which the code is running.\n     */\n    getEnv() {\n        return (0, envDetect_1.getEnv)();\n    }\n    /**\n     * Sign the given data with the current private key, or go out\n     * to the IAM API to sign it.\n     * @param data The data to be signed.\n     * @param endpoint A custom endpoint to use.\n     *\n     * @example\n     * ```\n     * sign('data', 'https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/');\n     * ```\n     */\n    async sign(data, endpoint) {\n        const client = await this.getClient();\n        const universe = await this.getUniverseDomain();\n        endpoint =\n            endpoint ||\n                `https://iamcredentials.${universe}/v1/projects/-/serviceAccounts/`;\n        if (client instanceof impersonated_1.Impersonated) {\n            const signed = await client.sign(data);\n            return signed.signedBlob;\n        }\n        const crypto = (0, crypto_1.createCrypto)();\n        if (client instanceof jwtclient_1.JWT && client.key) {\n            const sign = await crypto.sign(client.key, data);\n            return sign;\n        }\n        const creds = await this.getCredentials();\n        if (!creds.client_email) {\n            throw new Error('Cannot sign data without `client_email`.');\n        }\n        return this.signBlob(crypto, creds.client_email, data, endpoint);\n    }\n    async signBlob(crypto, emailOrUniqueId, data, endpoint) {\n        const url = new URL(endpoint + `${emailOrUniqueId}:signBlob`);\n        const res = await this.request({\n            method: 'POST',\n            url: url.href,\n            data: {\n                payload: crypto.encodeBase64StringUtf8(data),\n            },\n            retry: true,\n            retryConfig: {\n                httpMethodsToRetry: ['POST'],\n            },\n        });\n        return res.data.signedBlob;\n    }\n}\nexports.GoogleAuth = GoogleAuth;\n/**\n * Export DefaultTransporter as a static property of the class.\n */\nGoogleAuth.DefaultTransporter = transporters_1.DefaultTransporter;\n","\"use strict\";\n// Copyright 2014 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IAMAuth = void 0;\nclass IAMAuth {\n    /**\n     * IAM credentials.\n     *\n     * @param selector the iam authority selector\n     * @param token the token\n     * @constructor\n     */\n    constructor(selector, token) {\n        this.selector = selector;\n        this.token = token;\n        this.selector = selector;\n        this.token = token;\n    }\n    /**\n     * Acquire the HTTP headers required to make an authenticated request.\n     */\n    getRequestHeaders() {\n        return {\n            'x-goog-iam-authority-selector': this.selector,\n            'x-goog-iam-authorization-token': this.token,\n        };\n    }\n}\nexports.IAMAuth = IAMAuth;\n","\"use strict\";\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdentityPoolClient = void 0;\nconst baseexternalclient_1 = require(\"./baseexternalclient\");\nconst util_1 = require(\"../util\");\nconst filesubjecttokensupplier_1 = require(\"./filesubjecttokensupplier\");\nconst urlsubjecttokensupplier_1 = require(\"./urlsubjecttokensupplier\");\n/**\n * Defines the Url-sourced and file-sourced external account clients mainly\n * used for K8s and Azure workloads.\n */\nclass IdentityPoolClient extends baseexternalclient_1.BaseExternalAccountClient {\n    /**\n     * Instantiate an IdentityPoolClient instance using the provided JSON\n     * object loaded from an external account credentials file.\n     * An error is thrown if the credential is not a valid file-sourced or\n     * url-sourced credential or a workforce pool user project is provided\n     * with a non workforce audience.\n     * @param options The external account options object typically loaded\n     *   from the external account JSON credential file. The camelCased options\n     *   are aliases for the snake_cased options.\n     * @param additionalOptions **DEPRECATED, all options are available in the\n     *   `options` parameter.** Optional additional behavior customization options.\n     *   These currently customize expiration threshold time and whether to retry\n     *   on 401/403 API request errors.\n     */\n    constructor(options, additionalOptions) {\n        super(options, additionalOptions);\n        const opts = (0, util_1.originalOrCamelOptions)(options);\n        const credentialSource = opts.get('credential_source');\n        const subjectTokenSupplier = opts.get('subject_token_supplier');\n        // Validate credential sourcing configuration.\n        if (!credentialSource && !subjectTokenSupplier) {\n            throw new Error('A credential source or subject token supplier must be specified.');\n        }\n        if (credentialSource && subjectTokenSupplier) {\n            throw new Error('Only one of credential source or subject token supplier can be specified.');\n        }\n        if (subjectTokenSupplier) {\n            this.subjectTokenSupplier = subjectTokenSupplier;\n            this.credentialSourceType = 'programmatic';\n        }\n        else {\n            const credentialSourceOpts = (0, util_1.originalOrCamelOptions)(credentialSource);\n            const formatOpts = (0, util_1.originalOrCamelOptions)(credentialSourceOpts.get('format'));\n            // Text is the default format type.\n            const formatType = formatOpts.get('type') || 'text';\n            const formatSubjectTokenFieldName = formatOpts.get('subject_token_field_name');\n            if (formatType !== 'json' && formatType !== 'text') {\n                throw new Error(`Invalid credential_source format \"${formatType}\"`);\n            }\n            if (formatType === 'json' && !formatSubjectTokenFieldName) {\n                throw new Error('Missing subject_token_field_name for JSON credential_source format');\n            }\n            const file = credentialSourceOpts.get('file');\n            const url = credentialSourceOpts.get('url');\n            const headers = credentialSourceOpts.get('headers');\n            if (file && url) {\n                throw new Error('No valid Identity Pool \"credential_source\" provided, must be either file or url.');\n            }\n            else if (file && !url) {\n                this.credentialSourceType = 'file';\n                this.subjectTokenSupplier = new filesubjecttokensupplier_1.FileSubjectTokenSupplier({\n                    filePath: file,\n                    formatType: formatType,\n                    subjectTokenFieldName: formatSubjectTokenFieldName,\n                });\n            }\n            else if (!file && url) {\n                this.credentialSourceType = 'url';\n                this.subjectTokenSupplier = new urlsubjecttokensupplier_1.UrlSubjectTokenSupplier({\n                    url: url,\n                    formatType: formatType,\n                    subjectTokenFieldName: formatSubjectTokenFieldName,\n                    headers: headers,\n                    additionalGaxiosOptions: IdentityPoolClient.RETRY_CONFIG,\n                });\n            }\n            else {\n                throw new Error('No valid Identity Pool \"credential_source\" provided, must be either file or url.');\n            }\n        }\n    }\n    /**\n     * Triggered when a external subject token is needed to be exchanged for a GCP\n     * access token via GCP STS endpoint. Gets a subject token by calling\n     * the configured {@link SubjectTokenSupplier}\n     * @return A promise that resolves with the external subject token.\n     */\n    async retrieveSubjectToken() {\n        return this.subjectTokenSupplier.getSubjectToken(this.supplierContext);\n    }\n}\nexports.IdentityPoolClient = IdentityPoolClient;\n","\"use strict\";\n// Copyright 2020 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdTokenClient = void 0;\nconst oauth2client_1 = require(\"./oauth2client\");\nclass IdTokenClient extends oauth2client_1.OAuth2Client {\n    /**\n     * Google ID Token client\n     *\n     * Retrieve ID token from the metadata server.\n     * See: https://cloud.google.com/docs/authentication/get-id-token#metadata-server\n     */\n    constructor(options) {\n        super(options);\n        this.targetAudience = options.targetAudience;\n        this.idTokenProvider = options.idTokenProvider;\n    }\n    async getRequestMetadataAsync(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    url) {\n        if (!this.credentials.id_token ||\n            !this.credentials.expiry_date ||\n            this.isTokenExpiring()) {\n            const idToken = await this.idTokenProvider.fetchIdToken(this.targetAudience);\n            this.credentials = {\n                id_token: idToken,\n                expiry_date: this.getIdTokenExpiryDate(idToken),\n            };\n        }\n        const headers = {\n            Authorization: 'Bearer ' + this.credentials.id_token,\n        };\n        return { headers };\n    }\n    getIdTokenExpiryDate(idToken) {\n        const payloadB64 = idToken.split('.')[1];\n        if (payloadB64) {\n            const payload = JSON.parse(Buffer.from(payloadB64, 'base64').toString('ascii'));\n            return payload.exp * 1000;\n        }\n    }\n}\nexports.IdTokenClient = IdTokenClient;\n","\"use strict\";\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Impersonated = exports.IMPERSONATED_ACCOUNT_TYPE = void 0;\nconst oauth2client_1 = require(\"./oauth2client\");\nconst gaxios_1 = require(\"gaxios\");\nexports.IMPERSONATED_ACCOUNT_TYPE = 'impersonated_service_account';\nclass Impersonated extends oauth2client_1.OAuth2Client {\n    /**\n     * Impersonated service account credentials.\n     *\n     * Create a new access token by impersonating another service account.\n     *\n     * Impersonated Credentials allowing credentials issued to a user or\n     * service account to impersonate another. The source project using\n     * Impersonated Credentials must enable the \"IAMCredentials\" API.\n     * Also, the target service account must grant the orginating principal\n     * the \"Service Account Token Creator\" IAM role.\n     *\n     * @param {object} options - The configuration object.\n     * @param {object} [options.sourceClient] the source credential used as to\n     * acquire the impersonated credentials.\n     * @param {string} [options.targetPrincipal] the service account to\n     * impersonate.\n     * @param {string[]} [options.delegates] the chained list of delegates\n     * required to grant the final access_token. If set, the sequence of\n     * identities must have \"Service Account Token Creator\" capability granted to\n     * the preceding identity. For example, if set to [serviceAccountB,\n     * serviceAccountC], the sourceCredential must have the Token Creator role on\n     * serviceAccountB. serviceAccountB must have the Token Creator on\n     * serviceAccountC. Finally, C must have Token Creator on target_principal.\n     * If left unset, sourceCredential must have that role on targetPrincipal.\n     * @param {string[]} [options.targetScopes] scopes to request during the\n     * authorization grant.\n     * @param {number} [options.lifetime] number of seconds the delegated\n     * credential should be valid for up to 3600 seconds by default, or 43,200\n     * seconds by extending the token's lifetime, see:\n     * https://cloud.google.com/iam/docs/creating-short-lived-service-account-credentials#sa-credentials-oauth\n     * @param {string} [options.endpoint] api endpoint override.\n     */\n    constructor(options = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        super(options);\n        // Start with an expired refresh token, which will automatically be\n        // refreshed before the first API call is made.\n        this.credentials = {\n            expiry_date: 1,\n            refresh_token: 'impersonated-placeholder',\n        };\n        this.sourceClient = (_a = options.sourceClient) !== null && _a !== void 0 ? _a : new oauth2client_1.OAuth2Client();\n        this.targetPrincipal = (_b = options.targetPrincipal) !== null && _b !== void 0 ? _b : '';\n        this.delegates = (_c = options.delegates) !== null && _c !== void 0 ? _c : [];\n        this.targetScopes = (_d = options.targetScopes) !== null && _d !== void 0 ? _d : [];\n        this.lifetime = (_e = options.lifetime) !== null && _e !== void 0 ? _e : 3600;\n        this.endpoint = (_f = options.endpoint) !== null && _f !== void 0 ? _f : 'https://iamcredentials.googleapis.com';\n    }\n    /**\n     * Signs some bytes.\n     *\n     * {@link https://cloud.google.com/iam/docs/reference/credentials/rest/v1/projects.serviceAccounts/signBlob Reference Documentation}\n     * @param blobToSign String to sign.\n     * @return <SignBlobResponse> denoting the keyyID and signedBlob in base64 string\n     */\n    async sign(blobToSign) {\n        await this.sourceClient.getAccessToken();\n        const name = `projects/-/serviceAccounts/${this.targetPrincipal}`;\n        const u = `${this.endpoint}/v1/${name}:signBlob`;\n        const body = {\n            delegates: this.delegates,\n            payload: Buffer.from(blobToSign).toString('base64'),\n        };\n        const res = await this.sourceClient.request({\n            ...Impersonated.RETRY_CONFIG,\n            url: u,\n            data: body,\n            method: 'POST',\n        });\n        return res.data;\n    }\n    /** The service account email to be impersonated. */\n    getTargetPrincipal() {\n        return this.targetPrincipal;\n    }\n    /**\n     * Refreshes the access token.\n     */\n    async refreshToken() {\n        var _a, _b, _c, _d, _e, _f;\n        try {\n            await this.sourceClient.getAccessToken();\n            const name = 'projects/-/serviceAccounts/' + this.targetPrincipal;\n            const u = `${this.endpoint}/v1/${name}:generateAccessToken`;\n            const body = {\n                delegates: this.delegates,\n                scope: this.targetScopes,\n                lifetime: this.lifetime + 's',\n            };\n            const res = await this.sourceClient.request({\n                ...Impersonated.RETRY_CONFIG,\n                url: u,\n                data: body,\n                method: 'POST',\n            });\n            const tokenResponse = res.data;\n            this.credentials.access_token = tokenResponse.accessToken;\n            this.credentials.expiry_date = Date.parse(tokenResponse.expireTime);\n            return {\n                tokens: this.credentials,\n                res,\n            };\n        }\n        catch (error) {\n            if (!(error instanceof Error))\n                throw error;\n            let status = 0;\n            let message = '';\n            if (error instanceof gaxios_1.GaxiosError) {\n                status = (_c = (_b = (_a = error === null || error === void 0 ? void 0 : error.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) === null || _c === void 0 ? void 0 : _c.status;\n                message = (_f = (_e = (_d = error === null || error === void 0 ? void 0 : error.response) === null || _d === void 0 ? void 0 : _d.data) === null || _e === void 0 ? void 0 : _e.error) === null || _f === void 0 ? void 0 : _f.message;\n            }\n            if (status && message) {\n                error.message = `${status}: unable to impersonate: ${message}`;\n                throw error;\n            }\n            else {\n                error.message = `unable to impersonate: ${error}`;\n                throw error;\n            }\n        }\n    }\n    /**\n     * Generates an OpenID Connect ID token for a service account.\n     *\n     * {@link https://cloud.google.com/iam/docs/reference/credentials/rest/v1/projects.serviceAccounts/generateIdToken Reference Documentation}\n     *\n     * @param targetAudience the audience for the fetched ID token.\n     * @param options the for the request\n     * @return an OpenID Connect ID token\n     */\n    async fetchIdToken(targetAudience, options) {\n        var _a;\n        await this.sourceClient.getAccessToken();\n        const name = `projects/-/serviceAccounts/${this.targetPrincipal}`;\n        const u = `${this.endpoint}/v1/${name}:generateIdToken`;\n        const body = {\n            delegates: this.delegates,\n            audience: targetAudience,\n            includeEmail: (_a = options === null || options === void 0 ? void 0 : options.includeEmail) !== null && _a !== void 0 ? _a : true,\n        };\n        const res = await this.sourceClient.request({\n            ...Impersonated.RETRY_CONFIG,\n            url: u,\n            data: body,\n            method: 'POST',\n        });\n        return res.data.token;\n    }\n}\nexports.Impersonated = Impersonated;\n","\"use strict\";\n// Copyright 2015 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JWTAccess = void 0;\nconst jws = require(\"jws\");\nconst util_1 = require(\"../util\");\nconst DEFAULT_HEADER = {\n    alg: 'RS256',\n    typ: 'JWT',\n};\nclass JWTAccess {\n    /**\n     * JWTAccess service account credentials.\n     *\n     * Create a new access token by using the credential to create a new JWT token\n     * that's recognized as the access token.\n     *\n     * @param email the service account email address.\n     * @param key the private key that will be used to sign the token.\n     * @param keyId the ID of the private key used to sign the token.\n     */\n    constructor(email, key, keyId, eagerRefreshThresholdMillis) {\n        this.cache = new util_1.LRUCache({\n            capacity: 500,\n            maxAge: 60 * 60 * 1000,\n        });\n        this.email = email;\n        this.key = key;\n        this.keyId = keyId;\n        this.eagerRefreshThresholdMillis =\n            eagerRefreshThresholdMillis !== null && eagerRefreshThresholdMillis !== void 0 ? eagerRefreshThresholdMillis : 5 * 60 * 1000;\n    }\n    /**\n     * Ensures that we're caching a key appropriately, giving precedence to scopes vs. url\n     *\n     * @param url The URI being authorized.\n     * @param scopes The scope or scopes being authorized\n     * @returns A string that returns the cached key.\n     */\n    getCachedKey(url, scopes) {\n        let cacheKey = url;\n        if (scopes && Array.isArray(scopes) && scopes.length) {\n            cacheKey = url ? `${url}_${scopes.join('_')}` : `${scopes.join('_')}`;\n        }\n        else if (typeof scopes === 'string') {\n            cacheKey = url ? `${url}_${scopes}` : scopes;\n        }\n        if (!cacheKey) {\n            throw Error('Scopes or url must be provided');\n        }\n        return cacheKey;\n    }\n    /**\n     * Get a non-expired access token, after refreshing if necessary.\n     *\n     * @param url The URI being authorized.\n     * @param additionalClaims An object with a set of additional claims to\n     * include in the payload.\n     * @returns An object that includes the authorization header.\n     */\n    getRequestHeaders(url, additionalClaims, scopes) {\n        // Return cached authorization headers, unless we are within\n        // eagerRefreshThresholdMillis ms of them expiring:\n        const key = this.getCachedKey(url, scopes);\n        const cachedToken = this.cache.get(key);\n        const now = Date.now();\n        if (cachedToken &&\n            cachedToken.expiration - now > this.eagerRefreshThresholdMillis) {\n            return cachedToken.headers;\n        }\n        const iat = Math.floor(Date.now() / 1000);\n        const exp = JWTAccess.getExpirationTime(iat);\n        let defaultClaims;\n        // Turn scopes into space-separated string\n        if (Array.isArray(scopes)) {\n            scopes = scopes.join(' ');\n        }\n        // If scopes are specified, sign with scopes\n        if (scopes) {\n            defaultClaims = {\n                iss: this.email,\n                sub: this.email,\n                scope: scopes,\n                exp,\n                iat,\n            };\n        }\n        else {\n            defaultClaims = {\n                iss: this.email,\n                sub: this.email,\n                aud: url,\n                exp,\n                iat,\n            };\n        }\n        // if additionalClaims are provided, ensure they do not collide with\n        // other required claims.\n        if (additionalClaims) {\n            for (const claim in defaultClaims) {\n                if (additionalClaims[claim]) {\n                    throw new Error(`The '${claim}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`);\n                }\n            }\n        }\n        const header = this.keyId\n            ? { ...DEFAULT_HEADER, kid: this.keyId }\n            : DEFAULT_HEADER;\n        const payload = Object.assign(defaultClaims, additionalClaims);\n        // Sign the jwt and add it to the cache\n        const signedJWT = jws.sign({ header, payload, secret: this.key });\n        const headers = { Authorization: `Bearer ${signedJWT}` };\n        this.cache.set(key, {\n            expiration: exp * 1000,\n            headers,\n        });\n        return headers;\n    }\n    /**\n     * Returns an expiration time for the JWT token.\n     *\n     * @param iat The issued at time for the JWT.\n     * @returns An expiration time for the JWT.\n     */\n    static getExpirationTime(iat) {\n        const exp = iat + 3600; // 3600 seconds = 1 hour\n        return exp;\n    }\n    /**\n     * Create a JWTAccess credentials instance using the given input options.\n     * @param json The input object.\n     */\n    fromJSON(json) {\n        if (!json) {\n            throw new Error('Must pass in a JSON object containing the service account auth settings.');\n        }\n        if (!json.client_email) {\n            throw new Error('The incoming JSON object does not contain a client_email field');\n        }\n        if (!json.private_key) {\n            throw new Error('The incoming JSON object does not contain a private_key field');\n        }\n        // Extract the relevant information from the json key file.\n        this.email = json.client_email;\n        this.key = json.private_key;\n        this.keyId = json.private_key_id;\n        this.projectId = json.project_id;\n    }\n    fromStream(inputStream, callback) {\n        if (callback) {\n            this.fromStreamAsync(inputStream).then(() => callback(), callback);\n        }\n        else {\n            return this.fromStreamAsync(inputStream);\n        }\n    }\n    fromStreamAsync(inputStream) {\n        return new Promise((resolve, reject) => {\n            if (!inputStream) {\n                reject(new Error('Must pass in a stream containing the service account auth settings.'));\n            }\n            let s = '';\n            inputStream\n                .setEncoding('utf8')\n                .on('data', chunk => (s += chunk))\n                .on('error', reject)\n                .on('end', () => {\n                try {\n                    const data = JSON.parse(s);\n                    this.fromJSON(data);\n                    resolve();\n                }\n                catch (err) {\n                    reject(err);\n                }\n            });\n        });\n    }\n}\nexports.JWTAccess = JWTAccess;\n","\"use strict\";\n// Copyright 2013 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JWT = void 0;\nconst gtoken_1 = require(\"gtoken\");\nconst jwtaccess_1 = require(\"./jwtaccess\");\nconst oauth2client_1 = require(\"./oauth2client\");\nconst authclient_1 = require(\"./authclient\");\nclass JWT extends oauth2client_1.OAuth2Client {\n    constructor(optionsOrEmail, keyFile, key, scopes, subject, keyId) {\n        const opts = optionsOrEmail && typeof optionsOrEmail === 'object'\n            ? optionsOrEmail\n            : { email: optionsOrEmail, keyFile, key, keyId, scopes, subject };\n        super(opts);\n        this.email = opts.email;\n        this.keyFile = opts.keyFile;\n        this.key = opts.key;\n        this.keyId = opts.keyId;\n        this.scopes = opts.scopes;\n        this.subject = opts.subject;\n        this.additionalClaims = opts.additionalClaims;\n        // Start with an expired refresh token, which will automatically be\n        // refreshed before the first API call is made.\n        this.credentials = { refresh_token: 'jwt-placeholder', expiry_date: 1 };\n    }\n    /**\n     * Creates a copy of the credential with the specified scopes.\n     * @param scopes List of requested scopes or a single scope.\n     * @return The cloned instance.\n     */\n    createScoped(scopes) {\n        const jwt = new JWT(this);\n        jwt.scopes = scopes;\n        return jwt;\n    }\n    /**\n     * Obtains the metadata to be sent with the request.\n     *\n     * @param url the URI being authorized.\n     */\n    async getRequestMetadataAsync(url) {\n        url = this.defaultServicePath ? `https://${this.defaultServicePath}/` : url;\n        const useSelfSignedJWT = (!this.hasUserScopes() && url) ||\n            (this.useJWTAccessWithScope && this.hasAnyScopes()) ||\n            this.universeDomain !== authclient_1.DEFAULT_UNIVERSE;\n        if (this.subject && this.universeDomain !== authclient_1.DEFAULT_UNIVERSE) {\n            throw new RangeError(`Service Account user is configured for the credential. Domain-wide delegation is not supported in universes other than ${authclient_1.DEFAULT_UNIVERSE}`);\n        }\n        if (!this.apiKey && useSelfSignedJWT) {\n            if (this.additionalClaims &&\n                this.additionalClaims.target_audience) {\n                const { tokens } = await this.refreshToken();\n                return {\n                    headers: this.addSharedMetadataHeaders({\n                        Authorization: `Bearer ${tokens.id_token}`,\n                    }),\n                };\n            }\n            else {\n                // no scopes have been set, but a uri has been provided. Use JWTAccess\n                // credentials.\n                if (!this.access) {\n                    this.access = new jwtaccess_1.JWTAccess(this.email, this.key, this.keyId, this.eagerRefreshThresholdMillis);\n                }\n                let scopes;\n                if (this.hasUserScopes()) {\n                    scopes = this.scopes;\n                }\n                else if (!url) {\n                    scopes = this.defaultScopes;\n                }\n                const useScopes = this.useJWTAccessWithScope ||\n                    this.universeDomain !== authclient_1.DEFAULT_UNIVERSE;\n                const headers = await this.access.getRequestHeaders(url !== null && url !== void 0 ? url : undefined, this.additionalClaims, \n                // Scopes take precedent over audience for signing,\n                // so we only provide them if `useJWTAccessWithScope` is on or\n                // if we are in a non-default universe\n                useScopes ? scopes : undefined);\n                return { headers: this.addSharedMetadataHeaders(headers) };\n            }\n        }\n        else if (this.hasAnyScopes() || this.apiKey) {\n            return super.getRequestMetadataAsync(url);\n        }\n        else {\n            // If no audience, apiKey, or scopes are provided, we should not attempt\n            // to populate any headers:\n            return { headers: {} };\n        }\n    }\n    /**\n     * Fetches an ID token.\n     * @param targetAudience the audience for the fetched ID token.\n     */\n    async fetchIdToken(targetAudience) {\n        // Create a new gToken for fetching an ID token\n        const gtoken = new gtoken_1.GoogleToken({\n            iss: this.email,\n            sub: this.subject,\n            scope: this.scopes || this.defaultScopes,\n            keyFile: this.keyFile,\n            key: this.key,\n            additionalClaims: { target_audience: targetAudience },\n            transporter: this.transporter,\n        });\n        await gtoken.getToken({\n            forceRefresh: true,\n        });\n        if (!gtoken.idToken) {\n            throw new Error('Unknown error: Failed to fetch ID token');\n        }\n        return gtoken.idToken;\n    }\n    /**\n     * Determine if there are currently scopes available.\n     */\n    hasUserScopes() {\n        if (!this.scopes) {\n            return false;\n        }\n        return this.scopes.length > 0;\n    }\n    /**\n     * Are there any default or user scopes defined.\n     */\n    hasAnyScopes() {\n        if (this.scopes && this.scopes.length > 0)\n            return true;\n        if (this.defaultScopes && this.defaultScopes.length > 0)\n            return true;\n        return false;\n    }\n    authorize(callback) {\n        if (callback) {\n            this.authorizeAsync().then(r => callback(null, r), callback);\n        }\n        else {\n            return this.authorizeAsync();\n        }\n    }\n    async authorizeAsync() {\n        const result = await this.refreshToken();\n        if (!result) {\n            throw new Error('No result returned');\n        }\n        this.credentials = result.tokens;\n        this.credentials.refresh_token = 'jwt-placeholder';\n        this.key = this.gtoken.key;\n        this.email = this.gtoken.iss;\n        return result.tokens;\n    }\n    /**\n     * Refreshes the access token.\n     * @param refreshToken ignored\n     * @private\n     */\n    async refreshTokenNoCache(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    refreshToken) {\n        const gtoken = this.createGToken();\n        const token = await gtoken.getToken({\n            forceRefresh: this.isTokenExpiring(),\n        });\n        const tokens = {\n            access_token: token.access_token,\n            token_type: 'Bearer',\n            expiry_date: gtoken.expiresAt,\n            id_token: gtoken.idToken,\n        };\n        this.emit('tokens', tokens);\n        return { res: null, tokens };\n    }\n    /**\n     * Create a gToken if it doesn't already exist.\n     */\n    createGToken() {\n        if (!this.gtoken) {\n            this.gtoken = new gtoken_1.GoogleToken({\n                iss: this.email,\n                sub: this.subject,\n                scope: this.scopes || this.defaultScopes,\n                keyFile: this.keyFile,\n                key: this.key,\n                additionalClaims: this.additionalClaims,\n                transporter: this.transporter,\n            });\n        }\n        return this.gtoken;\n    }\n    /**\n     * Create a JWT credentials instance using the given input options.\n     * @param json The input object.\n     */\n    fromJSON(json) {\n        if (!json) {\n            throw new Error('Must pass in a JSON object containing the service account auth settings.');\n        }\n        if (!json.client_email) {\n            throw new Error('The incoming JSON object does not contain a client_email field');\n        }\n        if (!json.private_key) {\n            throw new Error('The incoming JSON object does not contain a private_key field');\n        }\n        // Extract the relevant information from the json key file.\n        this.email = json.client_email;\n        this.key = json.private_key;\n        this.keyId = json.private_key_id;\n        this.projectId = json.project_id;\n        this.quotaProjectId = json.quota_project_id;\n        this.universeDomain = json.universe_domain || this.universeDomain;\n    }\n    fromStream(inputStream, callback) {\n        if (callback) {\n            this.fromStreamAsync(inputStream).then(() => callback(), callback);\n        }\n        else {\n            return this.fromStreamAsync(inputStream);\n        }\n    }\n    fromStreamAsync(inputStream) {\n        return new Promise((resolve, reject) => {\n            if (!inputStream) {\n                throw new Error('Must pass in a stream containing the service account auth settings.');\n            }\n            let s = '';\n            inputStream\n                .setEncoding('utf8')\n                .on('error', reject)\n                .on('data', chunk => (s += chunk))\n                .on('end', () => {\n                try {\n                    const data = JSON.parse(s);\n                    this.fromJSON(data);\n                    resolve();\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    /**\n     * Creates a JWT credentials instance using an API Key for authentication.\n     * @param apiKey The API Key in string form.\n     */\n    fromAPIKey(apiKey) {\n        if (typeof apiKey !== 'string') {\n            throw new Error('Must provide an API Key string.');\n        }\n        this.apiKey = apiKey;\n    }\n    /**\n     * Using the key or keyFile on the JWT client, obtain an object that contains\n     * the key and the client email.\n     */\n    async getCredentials() {\n        if (this.key) {\n            return { private_key: this.key, client_email: this.email };\n        }\n        else if (this.keyFile) {\n            const gtoken = this.createGToken();\n            const creds = await gtoken.getCredentials(this.keyFile);\n            return { private_key: creds.privateKey, client_email: creds.clientEmail };\n        }\n        throw new Error('A key or a keyFile must be provided to getCredentials.');\n    }\n}\nexports.JWT = JWT;\n","\"use strict\";\n// Copyright 2014 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LoginTicket = void 0;\nclass LoginTicket {\n    /**\n     * Create a simple class to extract user ID from an ID Token\n     *\n     * @param {string} env Envelope of the jwt\n     * @param {TokenPayload} pay Payload of the jwt\n     * @constructor\n     */\n    constructor(env, pay) {\n        this.envelope = env;\n        this.payload = pay;\n    }\n    getEnvelope() {\n        return this.envelope;\n    }\n    getPayload() {\n        return this.payload;\n    }\n    /**\n     * Create a simple class to extract user ID from an ID Token\n     *\n     * @return The user ID\n     */\n    getUserId() {\n        const payload = this.getPayload();\n        if (payload && payload.sub) {\n            return payload.sub;\n        }\n        return null;\n    }\n    /**\n     * Returns attributes from the login ticket.  This can contain\n     * various information about the user session.\n     *\n     * @return The envelope and payload\n     */\n    getAttributes() {\n        return { envelope: this.getEnvelope(), payload: this.getPayload() };\n    }\n}\nexports.LoginTicket = LoginTicket;\n","\"use strict\";\n// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OAuth2Client = exports.CertificateFormat = exports.CodeChallengeMethod = void 0;\nconst gaxios_1 = require(\"gaxios\");\nconst querystring = require(\"querystring\");\nconst stream = require(\"stream\");\nconst formatEcdsa = require(\"ecdsa-sig-formatter\");\nconst crypto_1 = require(\"../crypto/crypto\");\nconst authclient_1 = require(\"./authclient\");\nconst loginticket_1 = require(\"./loginticket\");\nvar CodeChallengeMethod;\n(function (CodeChallengeMethod) {\n    CodeChallengeMethod[\"Plain\"] = \"plain\";\n    CodeChallengeMethod[\"S256\"] = \"S256\";\n})(CodeChallengeMethod || (exports.CodeChallengeMethod = CodeChallengeMethod = {}));\nvar CertificateFormat;\n(function (CertificateFormat) {\n    CertificateFormat[\"PEM\"] = \"PEM\";\n    CertificateFormat[\"JWK\"] = \"JWK\";\n})(CertificateFormat || (exports.CertificateFormat = CertificateFormat = {}));\nclass OAuth2Client extends authclient_1.AuthClient {\n    constructor(optionsOrClientId, clientSecret, redirectUri) {\n        const opts = optionsOrClientId && typeof optionsOrClientId === 'object'\n            ? optionsOrClientId\n            : { clientId: optionsOrClientId, clientSecret, redirectUri };\n        super(opts);\n        this.certificateCache = {};\n        this.certificateExpiry = null;\n        this.certificateCacheFormat = CertificateFormat.PEM;\n        this.refreshTokenPromises = new Map();\n        this._clientId = opts.clientId;\n        this._clientSecret = opts.clientSecret;\n        this.redirectUri = opts.redirectUri;\n        this.endpoints = {\n            tokenInfoUrl: 'https://oauth2.googleapis.com/tokeninfo',\n            oauth2AuthBaseUrl: 'https://accounts.google.com/o/oauth2/v2/auth',\n            oauth2TokenUrl: 'https://oauth2.googleapis.com/token',\n            oauth2RevokeUrl: 'https://oauth2.googleapis.com/revoke',\n            oauth2FederatedSignonPemCertsUrl: 'https://www.googleapis.com/oauth2/v1/certs',\n            oauth2FederatedSignonJwkCertsUrl: 'https://www.googleapis.com/oauth2/v3/certs',\n            oauth2IapPublicKeyUrl: 'https://www.gstatic.com/iap/verify/public_key',\n            ...opts.endpoints,\n        };\n        this.issuers = opts.issuers || [\n            'accounts.google.com',\n            'https://accounts.google.com',\n            this.universeDomain,\n        ];\n    }\n    /**\n     * Generates URL for consent page landing.\n     * @param opts Options.\n     * @return URL to consent page.\n     */\n    generateAuthUrl(opts = {}) {\n        if (opts.code_challenge_method && !opts.code_challenge) {\n            throw new Error('If a code_challenge_method is provided, code_challenge must be included.');\n        }\n        opts.response_type = opts.response_type || 'code';\n        opts.client_id = opts.client_id || this._clientId;\n        opts.redirect_uri = opts.redirect_uri || this.redirectUri;\n        // Allow scopes to be passed either as array or a string\n        if (Array.isArray(opts.scope)) {\n            opts.scope = opts.scope.join(' ');\n        }\n        const rootUrl = this.endpoints.oauth2AuthBaseUrl.toString();\n        return (rootUrl +\n            '?' +\n            querystring.stringify(opts));\n    }\n    generateCodeVerifier() {\n        // To make the code compatible with browser SubtleCrypto we need to make\n        // this method async.\n        throw new Error('generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.');\n    }\n    /**\n     * Convenience method to automatically generate a code_verifier, and its\n     * resulting SHA256. If used, this must be paired with a S256\n     * code_challenge_method.\n     *\n     * For a full example see:\n     * https://github.com/googleapis/google-auth-library-nodejs/blob/main/samples/oauth2-codeVerifier.js\n     */\n    async generateCodeVerifierAsync() {\n        // base64 encoding uses 6 bits per character, and we want to generate128\n        // characters. 6*128/8 = 96.\n        const crypto = (0, crypto_1.createCrypto)();\n        const randomString = crypto.randomBytesBase64(96);\n        // The valid characters in the code_verifier are [A-Z]/[a-z]/[0-9]/\n        // \"-\"/\".\"/\"_\"/\"~\". Base64 encoded strings are pretty close, so we're just\n        // swapping out a few chars.\n        const codeVerifier = randomString\n            .replace(/\\+/g, '~')\n            .replace(/=/g, '_')\n            .replace(/\\//g, '-');\n        // Generate the base64 encoded SHA256\n        const unencodedCodeChallenge = await crypto.sha256DigestBase64(codeVerifier);\n        // We need to use base64UrlEncoding instead of standard base64\n        const codeChallenge = unencodedCodeChallenge\n            .split('=')[0]\n            .replace(/\\+/g, '-')\n            .replace(/\\//g, '_');\n        return { codeVerifier, codeChallenge };\n    }\n    getToken(codeOrOptions, callback) {\n        const options = typeof codeOrOptions === 'string' ? { code: codeOrOptions } : codeOrOptions;\n        if (callback) {\n            this.getTokenAsync(options).then(r => callback(null, r.tokens, r.res), e => callback(e, null, e.response));\n        }\n        else {\n            return this.getTokenAsync(options);\n        }\n    }\n    async getTokenAsync(options) {\n        const url = this.endpoints.oauth2TokenUrl.toString();\n        const values = {\n            code: options.code,\n            client_id: options.client_id || this._clientId,\n            client_secret: this._clientSecret,\n            redirect_uri: options.redirect_uri || this.redirectUri,\n            grant_type: 'authorization_code',\n            code_verifier: options.codeVerifier,\n        };\n        const res = await this.transporter.request({\n            ...OAuth2Client.RETRY_CONFIG,\n            method: 'POST',\n            url,\n            data: querystring.stringify(values),\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n        });\n        const tokens = res.data;\n        if (res.data && res.data.expires_in) {\n            tokens.expiry_date = new Date().getTime() + res.data.expires_in * 1000;\n            delete tokens.expires_in;\n        }\n        this.emit('tokens', tokens);\n        return { tokens, res };\n    }\n    /**\n     * Refreshes the access token.\n     * @param refresh_token Existing refresh token.\n     * @private\n     */\n    async refreshToken(refreshToken) {\n        if (!refreshToken) {\n            return this.refreshTokenNoCache(refreshToken);\n        }\n        // If a request to refresh using the same token has started,\n        // return the same promise.\n        if (this.refreshTokenPromises.has(refreshToken)) {\n            return this.refreshTokenPromises.get(refreshToken);\n        }\n        const p = this.refreshTokenNoCache(refreshToken).then(r => {\n            this.refreshTokenPromises.delete(refreshToken);\n            return r;\n        }, e => {\n            this.refreshTokenPromises.delete(refreshToken);\n            throw e;\n        });\n        this.refreshTokenPromises.set(refreshToken, p);\n        return p;\n    }\n    async refreshTokenNoCache(refreshToken) {\n        var _a;\n        if (!refreshToken) {\n            throw new Error('No refresh token is set.');\n        }\n        const url = this.endpoints.oauth2TokenUrl.toString();\n        const data = {\n            refresh_token: refreshToken,\n            client_id: this._clientId,\n            client_secret: this._clientSecret,\n            grant_type: 'refresh_token',\n        };\n        let res;\n        try {\n            // request for new token\n            res = await this.transporter.request({\n                ...OAuth2Client.RETRY_CONFIG,\n                method: 'POST',\n                url,\n                data: querystring.stringify(data),\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n            });\n        }\n        catch (e) {\n            if (e instanceof gaxios_1.GaxiosError &&\n                e.message === 'invalid_grant' &&\n                ((_a = e.response) === null || _a === void 0 ? void 0 : _a.data) &&\n                /ReAuth/i.test(e.response.data.error_description)) {\n                e.message = JSON.stringify(e.response.data);\n            }\n            throw e;\n        }\n        const tokens = res.data;\n        // TODO: de-duplicate this code from a few spots\n        if (res.data && res.data.expires_in) {\n            tokens.expiry_date = new Date().getTime() + res.data.expires_in * 1000;\n            delete tokens.expires_in;\n        }\n        this.emit('tokens', tokens);\n        return { tokens, res };\n    }\n    refreshAccessToken(callback) {\n        if (callback) {\n            this.refreshAccessTokenAsync().then(r => callback(null, r.credentials, r.res), callback);\n        }\n        else {\n            return this.refreshAccessTokenAsync();\n        }\n    }\n    async refreshAccessTokenAsync() {\n        const r = await this.refreshToken(this.credentials.refresh_token);\n        const tokens = r.tokens;\n        tokens.refresh_token = this.credentials.refresh_token;\n        this.credentials = tokens;\n        return { credentials: this.credentials, res: r.res };\n    }\n    getAccessToken(callback) {\n        if (callback) {\n            this.getAccessTokenAsync().then(r => callback(null, r.token, r.res), callback);\n        }\n        else {\n            return this.getAccessTokenAsync();\n        }\n    }\n    async getAccessTokenAsync() {\n        const shouldRefresh = !this.credentials.access_token || this.isTokenExpiring();\n        if (shouldRefresh) {\n            if (!this.credentials.refresh_token) {\n                if (this.refreshHandler) {\n                    const refreshedAccessToken = await this.processAndValidateRefreshHandler();\n                    if (refreshedAccessToken === null || refreshedAccessToken === void 0 ? void 0 : refreshedAccessToken.access_token) {\n                        this.setCredentials(refreshedAccessToken);\n                        return { token: this.credentials.access_token };\n                    }\n                }\n                else {\n                    throw new Error('No refresh token or refresh handler callback is set.');\n                }\n            }\n            const r = await this.refreshAccessTokenAsync();\n            if (!r.credentials || (r.credentials && !r.credentials.access_token)) {\n                throw new Error('Could not refresh access token.');\n            }\n            return { token: r.credentials.access_token, res: r.res };\n        }\n        else {\n            return { token: this.credentials.access_token };\n        }\n    }\n    /**\n     * The main authentication interface.  It takes an optional url which when\n     * present is the endpoint being accessed, and returns a Promise which\n     * resolves with authorization header fields.\n     *\n     * In OAuth2Client, the result has the form:\n     * { Authorization: 'Bearer <access_token_value>' }\n     * @param url The optional url being authorized\n     */\n    async getRequestHeaders(url) {\n        const headers = (await this.getRequestMetadataAsync(url)).headers;\n        return headers;\n    }\n    async getRequestMetadataAsync(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    url) {\n        const thisCreds = this.credentials;\n        if (!thisCreds.access_token &&\n            !thisCreds.refresh_token &&\n            !this.apiKey &&\n            !this.refreshHandler) {\n            throw new Error('No access, refresh token, API key or refresh handler callback is set.');\n        }\n        if (thisCreds.access_token && !this.isTokenExpiring()) {\n            thisCreds.token_type = thisCreds.token_type || 'Bearer';\n            const headers = {\n                Authorization: thisCreds.token_type + ' ' + thisCreds.access_token,\n            };\n            return { headers: this.addSharedMetadataHeaders(headers) };\n        }\n        // If refreshHandler exists, call processAndValidateRefreshHandler().\n        if (this.refreshHandler) {\n            const refreshedAccessToken = await this.processAndValidateRefreshHandler();\n            if (refreshedAccessToken === null || refreshedAccessToken === void 0 ? void 0 : refreshedAccessToken.access_token) {\n                this.setCredentials(refreshedAccessToken);\n                const headers = {\n                    Authorization: 'Bearer ' + this.credentials.access_token,\n                };\n                return { headers: this.addSharedMetadataHeaders(headers) };\n            }\n        }\n        if (this.apiKey) {\n            return { headers: { 'X-Goog-Api-Key': this.apiKey } };\n        }\n        let r = null;\n        let tokens = null;\n        try {\n            r = await this.refreshToken(thisCreds.refresh_token);\n            tokens = r.tokens;\n        }\n        catch (err) {\n            const e = err;\n            if (e.response &&\n                (e.response.status === 403 || e.response.status === 404)) {\n                e.message = `Could not refresh access token: ${e.message}`;\n            }\n            throw e;\n        }\n        const credentials = this.credentials;\n        credentials.token_type = credentials.token_type || 'Bearer';\n        tokens.refresh_token = credentials.refresh_token;\n        this.credentials = tokens;\n        const headers = {\n            Authorization: credentials.token_type + ' ' + tokens.access_token,\n        };\n        return { headers: this.addSharedMetadataHeaders(headers), res: r.res };\n    }\n    /**\n     * Generates an URL to revoke the given token.\n     * @param token The existing token to be revoked.\n     *\n     * @deprecated use instance method {@link OAuth2Client.getRevokeTokenURL}\n     */\n    static getRevokeTokenUrl(token) {\n        return new OAuth2Client().getRevokeTokenURL(token).toString();\n    }\n    /**\n     * Generates a URL to revoke the given token.\n     *\n     * @param token The existing token to be revoked.\n     */\n    getRevokeTokenURL(token) {\n        const url = new URL(this.endpoints.oauth2RevokeUrl);\n        url.searchParams.append('token', token);\n        return url;\n    }\n    revokeToken(token, callback) {\n        const opts = {\n            ...OAuth2Client.RETRY_CONFIG,\n            url: this.getRevokeTokenURL(token).toString(),\n            method: 'POST',\n        };\n        if (callback) {\n            this.transporter\n                .request(opts)\n                .then(r => callback(null, r), callback);\n        }\n        else {\n            return this.transporter.request(opts);\n        }\n    }\n    revokeCredentials(callback) {\n        if (callback) {\n            this.revokeCredentialsAsync().then(res => callback(null, res), callback);\n        }\n        else {\n            return this.revokeCredentialsAsync();\n        }\n    }\n    async revokeCredentialsAsync() {\n        const token = this.credentials.access_token;\n        this.credentials = {};\n        if (token) {\n            return this.revokeToken(token);\n        }\n        else {\n            throw new Error('No access token to revoke.');\n        }\n    }\n    request(opts, callback) {\n        if (callback) {\n            this.requestAsync(opts).then(r => callback(null, r), e => {\n                return callback(e, e.response);\n            });\n        }\n        else {\n            return this.requestAsync(opts);\n        }\n    }\n    async requestAsync(opts, reAuthRetried = false) {\n        let r2;\n        try {\n            const r = await this.getRequestMetadataAsync(opts.url);\n            opts.headers = opts.headers || {};\n            if (r.headers && r.headers['x-goog-user-project']) {\n                opts.headers['x-goog-user-project'] = r.headers['x-goog-user-project'];\n            }\n            if (r.headers && r.headers.Authorization) {\n                opts.headers.Authorization = r.headers.Authorization;\n            }\n            if (this.apiKey) {\n                opts.headers['X-Goog-Api-Key'] = this.apiKey;\n            }\n            r2 = await this.transporter.request(opts);\n        }\n        catch (e) {\n            const res = e.response;\n            if (res) {\n                const statusCode = res.status;\n                // Retry the request for metadata if the following criteria are true:\n                // - We haven't already retried.  It only makes sense to retry once.\n                // - The response was a 401 or a 403\n                // - The request didn't send a readableStream\n                // - An access_token and refresh_token were available, but either no\n                //   expiry_date was available or the forceRefreshOnFailure flag is set.\n                //   The absent expiry_date case can happen when developers stash the\n                //   access_token and refresh_token for later use, but the access_token\n                //   fails on the first try because it's expired. Some developers may\n                //   choose to enable forceRefreshOnFailure to mitigate time-related\n                //   errors.\n                // Or the following criteria are true:\n                // - We haven't already retried.  It only makes sense to retry once.\n                // - The response was a 401 or a 403\n                // - The request didn't send a readableStream\n                // - No refresh_token was available\n                // - An access_token and a refreshHandler callback were available, but\n                //   either no expiry_date was available or the forceRefreshOnFailure\n                //   flag is set. The access_token fails on the first try because it's\n                //   expired. Some developers may choose to enable forceRefreshOnFailure\n                //   to mitigate time-related errors.\n                const mayRequireRefresh = this.credentials &&\n                    this.credentials.access_token &&\n                    this.credentials.refresh_token &&\n                    (!this.credentials.expiry_date || this.forceRefreshOnFailure);\n                const mayRequireRefreshWithNoRefreshToken = this.credentials &&\n                    this.credentials.access_token &&\n                    !this.credentials.refresh_token &&\n                    (!this.credentials.expiry_date || this.forceRefreshOnFailure) &&\n                    this.refreshHandler;\n                const isReadableStream = res.config.data instanceof stream.Readable;\n                const isAuthErr = statusCode === 401 || statusCode === 403;\n                if (!reAuthRetried &&\n                    isAuthErr &&\n                    !isReadableStream &&\n                    mayRequireRefresh) {\n                    await this.refreshAccessTokenAsync();\n                    return this.requestAsync(opts, true);\n                }\n                else if (!reAuthRetried &&\n                    isAuthErr &&\n                    !isReadableStream &&\n                    mayRequireRefreshWithNoRefreshToken) {\n                    const refreshedAccessToken = await this.processAndValidateRefreshHandler();\n                    if (refreshedAccessToken === null || refreshedAccessToken === void 0 ? void 0 : refreshedAccessToken.access_token) {\n                        this.setCredentials(refreshedAccessToken);\n                    }\n                    return this.requestAsync(opts, true);\n                }\n            }\n            throw e;\n        }\n        return r2;\n    }\n    verifyIdToken(options, callback) {\n        // This function used to accept two arguments instead of an options object.\n        // Check the types to help users upgrade with less pain.\n        // This check can be removed after a 2.0 release.\n        if (callback && typeof callback !== 'function') {\n            throw new Error('This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.');\n        }\n        if (callback) {\n            this.verifyIdTokenAsync(options).then(r => callback(null, r), callback);\n        }\n        else {\n            return this.verifyIdTokenAsync(options);\n        }\n    }\n    async verifyIdTokenAsync(options) {\n        if (!options.idToken) {\n            throw new Error('The verifyIdToken method requires an ID Token');\n        }\n        const response = await this.getFederatedSignonCertsAsync();\n        const login = await this.verifySignedJwtWithCertsAsync(options.idToken, response.certs, options.audience, this.issuers, options.maxExpiry);\n        return login;\n    }\n    /**\n     * Obtains information about the provisioned access token.  Especially useful\n     * if you want to check the scopes that were provisioned to a given token.\n     *\n     * @param accessToken Required.  The Access Token for which you want to get\n     * user info.\n     */\n    async getTokenInfo(accessToken) {\n        const { data } = await this.transporter.request({\n            ...OAuth2Client.RETRY_CONFIG,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                Authorization: `Bearer ${accessToken}`,\n            },\n            url: this.endpoints.tokenInfoUrl.toString(),\n        });\n        const info = Object.assign({\n            expiry_date: new Date().getTime() + data.expires_in * 1000,\n            scopes: data.scope.split(' '),\n        }, data);\n        delete info.expires_in;\n        delete info.scope;\n        return info;\n    }\n    getFederatedSignonCerts(callback) {\n        if (callback) {\n            this.getFederatedSignonCertsAsync().then(r => callback(null, r.certs, r.res), callback);\n        }\n        else {\n            return this.getFederatedSignonCertsAsync();\n        }\n    }\n    async getFederatedSignonCertsAsync() {\n        const nowTime = new Date().getTime();\n        const format = (0, crypto_1.hasBrowserCrypto)()\n            ? CertificateFormat.JWK\n            : CertificateFormat.PEM;\n        if (this.certificateExpiry &&\n            nowTime < this.certificateExpiry.getTime() &&\n            this.certificateCacheFormat === format) {\n            return { certs: this.certificateCache, format };\n        }\n        let res;\n        let url;\n        switch (format) {\n            case CertificateFormat.PEM:\n                url = this.endpoints.oauth2FederatedSignonPemCertsUrl.toString();\n                break;\n            case CertificateFormat.JWK:\n                url = this.endpoints.oauth2FederatedSignonJwkCertsUrl.toString();\n                break;\n            default:\n                throw new Error(`Unsupported certificate format ${format}`);\n        }\n        try {\n            res = await this.transporter.request({\n                ...OAuth2Client.RETRY_CONFIG,\n                url,\n            });\n        }\n        catch (e) {\n            if (e instanceof Error) {\n                e.message = `Failed to retrieve verification certificates: ${e.message}`;\n            }\n            throw e;\n        }\n        const cacheControl = res ? res.headers['cache-control'] : undefined;\n        let cacheAge = -1;\n        if (cacheControl) {\n            const pattern = new RegExp('max-age=([0-9]*)');\n            const regexResult = pattern.exec(cacheControl);\n            if (regexResult && regexResult.length === 2) {\n                // Cache results with max-age (in seconds)\n                cacheAge = Number(regexResult[1]) * 1000; // milliseconds\n            }\n        }\n        let certificates = {};\n        switch (format) {\n            case CertificateFormat.PEM:\n                certificates = res.data;\n                break;\n            case CertificateFormat.JWK:\n                for (const key of res.data.keys) {\n                    certificates[key.kid] = key;\n                }\n                break;\n            default:\n                throw new Error(`Unsupported certificate format ${format}`);\n        }\n        const now = new Date();\n        this.certificateExpiry =\n            cacheAge === -1 ? null : new Date(now.getTime() + cacheAge);\n        this.certificateCache = certificates;\n        this.certificateCacheFormat = format;\n        return { certs: certificates, format, res };\n    }\n    getIapPublicKeys(callback) {\n        if (callback) {\n            this.getIapPublicKeysAsync().then(r => callback(null, r.pubkeys, r.res), callback);\n        }\n        else {\n            return this.getIapPublicKeysAsync();\n        }\n    }\n    async getIapPublicKeysAsync() {\n        let res;\n        const url = this.endpoints.oauth2IapPublicKeyUrl.toString();\n        try {\n            res = await this.transporter.request({\n                ...OAuth2Client.RETRY_CONFIG,\n                url,\n            });\n        }\n        catch (e) {\n            if (e instanceof Error) {\n                e.message = `Failed to retrieve verification certificates: ${e.message}`;\n            }\n            throw e;\n        }\n        return { pubkeys: res.data, res };\n    }\n    verifySignedJwtWithCerts() {\n        // To make the code compatible with browser SubtleCrypto we need to make\n        // this method async.\n        throw new Error('verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.');\n    }\n    /**\n     * Verify the id token is signed with the correct certificate\n     * and is from the correct audience.\n     * @param jwt The jwt to verify (The ID Token in this case).\n     * @param certs The array of certs to test the jwt against.\n     * @param requiredAudience The audience to test the jwt against.\n     * @param issuers The allowed issuers of the jwt (Optional).\n     * @param maxExpiry The max expiry the certificate can be (Optional).\n     * @return Returns a promise resolving to LoginTicket on verification.\n     */\n    async verifySignedJwtWithCertsAsync(jwt, certs, requiredAudience, issuers, maxExpiry) {\n        const crypto = (0, crypto_1.createCrypto)();\n        if (!maxExpiry) {\n            maxExpiry = OAuth2Client.DEFAULT_MAX_TOKEN_LIFETIME_SECS_;\n        }\n        const segments = jwt.split('.');\n        if (segments.length !== 3) {\n            throw new Error('Wrong number of segments in token: ' + jwt);\n        }\n        const signed = segments[0] + '.' + segments[1];\n        let signature = segments[2];\n        let envelope;\n        let payload;\n        try {\n            envelope = JSON.parse(crypto.decodeBase64StringUtf8(segments[0]));\n        }\n        catch (err) {\n            if (err instanceof Error) {\n                err.message = `Can't parse token envelope: ${segments[0]}': ${err.message}`;\n            }\n            throw err;\n        }\n        if (!envelope) {\n            throw new Error(\"Can't parse token envelope: \" + segments[0]);\n        }\n        try {\n            payload = JSON.parse(crypto.decodeBase64StringUtf8(segments[1]));\n        }\n        catch (err) {\n            if (err instanceof Error) {\n                err.message = `Can't parse token payload '${segments[0]}`;\n            }\n            throw err;\n        }\n        if (!payload) {\n            throw new Error(\"Can't parse token payload: \" + segments[1]);\n        }\n        if (!Object.prototype.hasOwnProperty.call(certs, envelope.kid)) {\n            // If this is not present, then there's no reason to attempt verification\n            throw new Error('No pem found for envelope: ' + JSON.stringify(envelope));\n        }\n        const cert = certs[envelope.kid];\n        if (envelope.alg === 'ES256') {\n            signature = formatEcdsa.joseToDer(signature, 'ES256').toString('base64');\n        }\n        const verified = await crypto.verify(cert, signed, signature);\n        if (!verified) {\n            throw new Error('Invalid token signature: ' + jwt);\n        }\n        if (!payload.iat) {\n            throw new Error('No issue time in token: ' + JSON.stringify(payload));\n        }\n        if (!payload.exp) {\n            throw new Error('No expiration time in token: ' + JSON.stringify(payload));\n        }\n        const iat = Number(payload.iat);\n        if (isNaN(iat))\n            throw new Error('iat field using invalid format');\n        const exp = Number(payload.exp);\n        if (isNaN(exp))\n            throw new Error('exp field using invalid format');\n        const now = new Date().getTime() / 1000;\n        if (exp >= now + maxExpiry) {\n            throw new Error('Expiration time too far in future: ' + JSON.stringify(payload));\n        }\n        const earliest = iat - OAuth2Client.CLOCK_SKEW_SECS_;\n        const latest = exp + OAuth2Client.CLOCK_SKEW_SECS_;\n        if (now < earliest) {\n            throw new Error('Token used too early, ' +\n                now +\n                ' < ' +\n                earliest +\n                ': ' +\n                JSON.stringify(payload));\n        }\n        if (now > latest) {\n            throw new Error('Token used too late, ' +\n                now +\n                ' > ' +\n                latest +\n                ': ' +\n                JSON.stringify(payload));\n        }\n        if (issuers && issuers.indexOf(payload.iss) < 0) {\n            throw new Error('Invalid issuer, expected one of [' +\n                issuers +\n                '], but got ' +\n                payload.iss);\n        }\n        // Check the audience matches if we have one\n        if (typeof requiredAudience !== 'undefined' && requiredAudience !== null) {\n            const aud = payload.aud;\n            let audVerified = false;\n            // If the requiredAudience is an array, check if it contains token\n            // audience\n            if (requiredAudience.constructor === Array) {\n                audVerified = requiredAudience.indexOf(aud) > -1;\n            }\n            else {\n                audVerified = aud === requiredAudience;\n            }\n            if (!audVerified) {\n                throw new Error('Wrong recipient, payload audience != requiredAudience');\n            }\n        }\n        return new loginticket_1.LoginTicket(envelope, payload);\n    }\n    /**\n     * Returns a promise that resolves with AccessTokenResponse type if\n     * refreshHandler is defined.\n     * If not, nothing is returned.\n     */\n    async processAndValidateRefreshHandler() {\n        if (this.refreshHandler) {\n            const accessTokenResponse = await this.refreshHandler();\n            if (!accessTokenResponse.access_token) {\n                throw new Error('No access token is returned by the refreshHandler callback.');\n            }\n            return accessTokenResponse;\n        }\n        return;\n    }\n    /**\n     * Returns true if a token is expired or will expire within\n     * eagerRefreshThresholdMillismilliseconds.\n     * If there is no expiry time, assumes the token is not expired or expiring.\n     */\n    isTokenExpiring() {\n        const expiryDate = this.credentials.expiry_date;\n        return expiryDate\n            ? expiryDate <= new Date().getTime() + this.eagerRefreshThresholdMillis\n            : false;\n    }\n}\nexports.OAuth2Client = OAuth2Client;\n/**\n * @deprecated use instance's {@link OAuth2Client.endpoints}\n */\nOAuth2Client.GOOGLE_TOKEN_INFO_URL = 'https://oauth2.googleapis.com/tokeninfo';\n/**\n * Clock skew - five minutes in seconds\n */\nOAuth2Client.CLOCK_SKEW_SECS_ = 300;\n/**\n * The default max Token Lifetime is one day in seconds\n */\nOAuth2Client.DEFAULT_MAX_TOKEN_LIFETIME_SECS_ = 86400;\n","\"use strict\";\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getErrorFromOAuthErrorResponse = exports.OAuthClientAuthHandler = void 0;\nconst querystring = require(\"querystring\");\nconst crypto_1 = require(\"../crypto/crypto\");\n/** List of HTTP methods that accept request bodies. */\nconst METHODS_SUPPORTING_REQUEST_BODY = ['PUT', 'POST', 'PATCH'];\n/**\n * Abstract class for handling client authentication in OAuth-based\n * operations.\n * When request-body client authentication is used, only application/json and\n * application/x-www-form-urlencoded content types for HTTP methods that support\n * request bodies are supported.\n */\nclass OAuthClientAuthHandler {\n    /**\n     * Instantiates an OAuth client authentication handler.\n     * @param clientAuthentication The client auth credentials.\n     */\n    constructor(clientAuthentication) {\n        this.clientAuthentication = clientAuthentication;\n        this.crypto = (0, crypto_1.createCrypto)();\n    }\n    /**\n     * Applies client authentication on the OAuth request's headers or POST\n     * body but does not process the request.\n     * @param opts The GaxiosOptions whose headers or data are to be modified\n     *   depending on the client authentication mechanism to be used.\n     * @param bearerToken The optional bearer token to use for authentication.\n     *   When this is used, no client authentication credentials are needed.\n     */\n    applyClientAuthenticationOptions(opts, bearerToken) {\n        // Inject authenticated header.\n        this.injectAuthenticatedHeaders(opts, bearerToken);\n        // Inject authenticated request body.\n        if (!bearerToken) {\n            this.injectAuthenticatedRequestBody(opts);\n        }\n    }\n    /**\n     * Applies client authentication on the request's header if either\n     * basic authentication or bearer token authentication is selected.\n     *\n     * @param opts The GaxiosOptions whose headers or data are to be modified\n     *   depending on the client authentication mechanism to be used.\n     * @param bearerToken The optional bearer token to use for authentication.\n     *   When this is used, no client authentication credentials are needed.\n     */\n    injectAuthenticatedHeaders(opts, bearerToken) {\n        var _a;\n        // Bearer token prioritized higher than basic Auth.\n        if (bearerToken) {\n            opts.headers = opts.headers || {};\n            Object.assign(opts.headers, {\n                Authorization: `Bearer ${bearerToken}}`,\n            });\n        }\n        else if (((_a = this.clientAuthentication) === null || _a === void 0 ? void 0 : _a.confidentialClientType) === 'basic') {\n            opts.headers = opts.headers || {};\n            const clientId = this.clientAuthentication.clientId;\n            const clientSecret = this.clientAuthentication.clientSecret || '';\n            const base64EncodedCreds = this.crypto.encodeBase64StringUtf8(`${clientId}:${clientSecret}`);\n            Object.assign(opts.headers, {\n                Authorization: `Basic ${base64EncodedCreds}`,\n            });\n        }\n    }\n    /**\n     * Applies client authentication on the request's body if request-body\n     * client authentication is selected.\n     *\n     * @param opts The GaxiosOptions whose headers or data are to be modified\n     *   depending on the client authentication mechanism to be used.\n     */\n    injectAuthenticatedRequestBody(opts) {\n        var _a;\n        if (((_a = this.clientAuthentication) === null || _a === void 0 ? void 0 : _a.confidentialClientType) === 'request-body') {\n            const method = (opts.method || 'GET').toUpperCase();\n            // Inject authenticated request body.\n            if (METHODS_SUPPORTING_REQUEST_BODY.indexOf(method) !== -1) {\n                // Get content-type.\n                let contentType;\n                const headers = opts.headers || {};\n                for (const key in headers) {\n                    if (key.toLowerCase() === 'content-type' && headers[key]) {\n                        contentType = headers[key].toLowerCase();\n                        break;\n                    }\n                }\n                if (contentType === 'application/x-www-form-urlencoded') {\n                    opts.data = opts.data || '';\n                    const data = querystring.parse(opts.data);\n                    Object.assign(data, {\n                        client_id: this.clientAuthentication.clientId,\n                        client_secret: this.clientAuthentication.clientSecret || '',\n                    });\n                    opts.data = querystring.stringify(data);\n                }\n                else if (contentType === 'application/json') {\n                    opts.data = opts.data || {};\n                    Object.assign(opts.data, {\n                        client_id: this.clientAuthentication.clientId,\n                        client_secret: this.clientAuthentication.clientSecret || '',\n                    });\n                }\n                else {\n                    throw new Error(`${contentType} content-types are not supported with ` +\n                        `${this.clientAuthentication.confidentialClientType} ` +\n                        'client authentication');\n                }\n            }\n            else {\n                throw new Error(`${method} HTTP method does not support ` +\n                    `${this.clientAuthentication.confidentialClientType} ` +\n                    'client authentication');\n            }\n        }\n    }\n    /**\n     * Retry config for Auth-related requests.\n     *\n     * @remarks\n     *\n     * This is not a part of the default {@link AuthClient.transporter transporter/gaxios}\n     * config as some downstream APIs would prefer if customers explicitly enable retries,\n     * such as GCS.\n     */\n    static get RETRY_CONFIG() {\n        return {\n            retry: true,\n            retryConfig: {\n                httpMethodsToRetry: ['GET', 'PUT', 'POST', 'HEAD', 'OPTIONS', 'DELETE'],\n            },\n        };\n    }\n}\nexports.OAuthClientAuthHandler = OAuthClientAuthHandler;\n/**\n * Converts an OAuth error response to a native JavaScript Error.\n * @param resp The OAuth error response to convert to a native Error object.\n * @param err The optional original error. If provided, the error properties\n *   will be copied to the new error.\n * @return The converted native Error object.\n */\nfunction getErrorFromOAuthErrorResponse(resp, err) {\n    // Error response.\n    const errorCode = resp.error;\n    const errorDescription = resp.error_description;\n    const errorUri = resp.error_uri;\n    let message = `Error code ${errorCode}`;\n    if (typeof errorDescription !== 'undefined') {\n        message += `: ${errorDescription}`;\n    }\n    if (typeof errorUri !== 'undefined') {\n        message += ` - ${errorUri}`;\n    }\n    const newError = new Error(message);\n    // Copy properties from original error to newly generated error.\n    if (err) {\n        const keys = Object.keys(err);\n        if (err.stack) {\n            // Copy error.stack if available.\n            keys.push('stack');\n        }\n        keys.forEach(key => {\n            // Do not overwrite the message field.\n            if (key !== 'message') {\n                Object.defineProperty(newError, key, {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    value: err[key],\n                    writable: false,\n                    enumerable: true,\n                });\n            }\n        });\n    }\n    return newError;\n}\nexports.getErrorFromOAuthErrorResponse = getErrorFromOAuthErrorResponse;\n","\"use strict\";\n// Copyright 2024 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PassThroughClient = void 0;\nconst authclient_1 = require(\"./authclient\");\n/**\n * An AuthClient without any Authentication information. Useful for:\n * - Anonymous access\n * - Local Emulators\n * - Testing Environments\n *\n */\nclass PassThroughClient extends authclient_1.AuthClient {\n    /**\n     * Creates a request without any authentication headers or checks.\n     *\n     * @remarks\n     *\n     * In testing environments it may be useful to change the provided\n     * {@link AuthClient.transporter} for any desired request overrides/handling.\n     *\n     * @param opts\n     * @returns The response of the request.\n     */\n    async request(opts) {\n        return this.transporter.request(opts);\n    }\n    /**\n     * A required method of the base class.\n     * Always will return an empty object.\n     *\n     * @returns {}\n     */\n    async getAccessToken() {\n        return {};\n    }\n    /**\n     * A required method of the base class.\n     * Always will return an empty object.\n     *\n     * @returns {}\n     */\n    async getRequestHeaders() {\n        return {};\n    }\n}\nexports.PassThroughClient = PassThroughClient;\nconst a = new PassThroughClient();\na.getAccessToken();\n","\"use strict\";\n// Copyright 2022 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PluggableAuthClient = exports.ExecutableError = void 0;\nconst baseexternalclient_1 = require(\"./baseexternalclient\");\nconst executable_response_1 = require(\"./executable-response\");\nconst pluggable_auth_handler_1 = require(\"./pluggable-auth-handler\");\n/**\n * Error thrown from the executable run by PluggableAuthClient.\n */\nclass ExecutableError extends Error {\n    constructor(message, code) {\n        super(`The executable failed with exit code: ${code} and error message: ${message}.`);\n        this.code = code;\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nexports.ExecutableError = ExecutableError;\n/**\n * The default executable timeout when none is provided, in milliseconds.\n */\nconst DEFAULT_EXECUTABLE_TIMEOUT_MILLIS = 30 * 1000;\n/**\n * The minimum allowed executable timeout in milliseconds.\n */\nconst MINIMUM_EXECUTABLE_TIMEOUT_MILLIS = 5 * 1000;\n/**\n * The maximum allowed executable timeout in milliseconds.\n */\nconst MAXIMUM_EXECUTABLE_TIMEOUT_MILLIS = 120 * 1000;\n/**\n * The environment variable to check to see if executable can be run.\n * Value must be set to '1' for the executable to run.\n */\nconst GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES = 'GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES';\n/**\n * The maximum currently supported executable version.\n */\nconst MAXIMUM_EXECUTABLE_VERSION = 1;\n/**\n * PluggableAuthClient enables the exchange of workload identity pool external credentials for\n * Google access tokens by retrieving 3rd party tokens through a user supplied executable. These\n * scripts/executables are completely independent of the Google Cloud Auth libraries. These\n * credentials plug into ADC and will call the specified executable to retrieve the 3rd party token\n * to be exchanged for a Google access token.\n *\n * <p>To use these credentials, the GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment variable\n * must be set to '1'. This is for security reasons.\n *\n * <p>Both OIDC and SAML are supported. The executable must adhere to a specific response format\n * defined below.\n *\n * <p>The executable must print out the 3rd party token to STDOUT in JSON format. When an\n * output_file is specified in the credential configuration, the executable must also handle writing the\n * JSON response to this file.\n *\n * <pre>\n * OIDC response sample:\n * {\n *   \"version\": 1,\n *   \"success\": true,\n *   \"token_type\": \"urn:ietf:params:oauth:token-type:id_token\",\n *   \"id_token\": \"HEADER.PAYLOAD.SIGNATURE\",\n *   \"expiration_time\": 1620433341\n * }\n *\n * SAML2 response sample:\n * {\n *   \"version\": 1,\n *   \"success\": true,\n *   \"token_type\": \"urn:ietf:params:oauth:token-type:saml2\",\n *   \"saml_response\": \"...\",\n *   \"expiration_time\": 1620433341\n * }\n *\n * Error response sample:\n * {\n *   \"version\": 1,\n *   \"success\": false,\n *   \"code\": \"401\",\n *   \"message\": \"Error message.\"\n * }\n * </pre>\n *\n * <p>The \"expiration_time\" field in the JSON response is only required for successful\n * responses when an output file was specified in the credential configuration\n *\n * <p>The auth libraries will populate certain environment variables that will be accessible by the\n * executable, such as: GOOGLE_EXTERNAL_ACCOUNT_AUDIENCE, GOOGLE_EXTERNAL_ACCOUNT_TOKEN_TYPE,\n * GOOGLE_EXTERNAL_ACCOUNT_INTERACTIVE, GOOGLE_EXTERNAL_ACCOUNT_IMPERSONATED_EMAIL, and\n * GOOGLE_EXTERNAL_ACCOUNT_OUTPUT_FILE.\n *\n * <p>Please see this repositories README for a complete executable request/response specification.\n */\nclass PluggableAuthClient extends baseexternalclient_1.BaseExternalAccountClient {\n    /**\n     * Instantiates a PluggableAuthClient instance using the provided JSON\n     * object loaded from an external account credentials file.\n     * An error is thrown if the credential is not a valid pluggable auth credential.\n     * @param options The external account options object typically loaded from\n     *   the external account JSON credential file.\n     * @param additionalOptions **DEPRECATED, all options are available in the\n     *   `options` parameter.** Optional additional behavior customization options.\n     *   These currently customize expiration threshold time and whether to retry\n     *   on 401/403 API request errors.\n     */\n    constructor(options, additionalOptions) {\n        super(options, additionalOptions);\n        if (!options.credential_source.executable) {\n            throw new Error('No valid Pluggable Auth \"credential_source\" provided.');\n        }\n        this.command = options.credential_source.executable.command;\n        if (!this.command) {\n            throw new Error('No valid Pluggable Auth \"credential_source\" provided.');\n        }\n        // Check if the provided timeout exists and if it is valid.\n        if (options.credential_source.executable.timeout_millis === undefined) {\n            this.timeoutMillis = DEFAULT_EXECUTABLE_TIMEOUT_MILLIS;\n        }\n        else {\n            this.timeoutMillis = options.credential_source.executable.timeout_millis;\n            if (this.timeoutMillis < MINIMUM_EXECUTABLE_TIMEOUT_MILLIS ||\n                this.timeoutMillis > MAXIMUM_EXECUTABLE_TIMEOUT_MILLIS) {\n                throw new Error(`Timeout must be between ${MINIMUM_EXECUTABLE_TIMEOUT_MILLIS} and ` +\n                    `${MAXIMUM_EXECUTABLE_TIMEOUT_MILLIS} milliseconds.`);\n            }\n        }\n        this.outputFile = options.credential_source.executable.output_file;\n        this.handler = new pluggable_auth_handler_1.PluggableAuthHandler({\n            command: this.command,\n            timeoutMillis: this.timeoutMillis,\n            outputFile: this.outputFile,\n        });\n        this.credentialSourceType = 'executable';\n    }\n    /**\n     * Triggered when an external subject token is needed to be exchanged for a\n     * GCP access token via GCP STS endpoint.\n     * This uses the `options.credential_source` object to figure out how\n     * to retrieve the token using the current environment. In this case,\n     * this calls a user provided executable which returns the subject token.\n     * The logic is summarized as:\n     * 1. Validated that the executable is allowed to run. The\n     *    GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment must be set to\n     *    1 for security reasons.\n     * 2. If an output file is specified by the user, check the file location\n     *    for a response. If the file exists and contains a valid response,\n     *    return the subject token from the file.\n     * 3. Call the provided executable and return response.\n     * @return A promise that resolves with the external subject token.\n     */\n    async retrieveSubjectToken() {\n        // Check if the executable is allowed to run.\n        if (process.env[GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES] !== '1') {\n            throw new Error('Pluggable Auth executables need to be explicitly allowed to run by ' +\n                'setting the GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment ' +\n                'Variable to 1.');\n        }\n        let executableResponse = undefined;\n        // Try to get cached executable response from output file.\n        if (this.outputFile) {\n            executableResponse = await this.handler.retrieveCachedResponse();\n        }\n        // If no response from output file, call the executable.\n        if (!executableResponse) {\n            // Set up environment map with required values for the executable.\n            const envMap = new Map();\n            envMap.set('GOOGLE_EXTERNAL_ACCOUNT_AUDIENCE', this.audience);\n            envMap.set('GOOGLE_EXTERNAL_ACCOUNT_TOKEN_TYPE', this.subjectTokenType);\n            // Always set to 0 because interactive mode is not supported.\n            envMap.set('GOOGLE_EXTERNAL_ACCOUNT_INTERACTIVE', '0');\n            if (this.outputFile) {\n                envMap.set('GOOGLE_EXTERNAL_ACCOUNT_OUTPUT_FILE', this.outputFile);\n            }\n            const serviceAccountEmail = this.getServiceAccountEmail();\n            if (serviceAccountEmail) {\n                envMap.set('GOOGLE_EXTERNAL_ACCOUNT_IMPERSONATED_EMAIL', serviceAccountEmail);\n            }\n            executableResponse =\n                await this.handler.retrieveResponseFromExecutable(envMap);\n        }\n        if (executableResponse.version > MAXIMUM_EXECUTABLE_VERSION) {\n            throw new Error(`Version of executable is not currently supported, maximum supported version is ${MAXIMUM_EXECUTABLE_VERSION}.`);\n        }\n        // Check that response was successful.\n        if (!executableResponse.success) {\n            throw new ExecutableError(executableResponse.errorMessage, executableResponse.errorCode);\n        }\n        // Check that response contains expiration time if output file was specified.\n        if (this.outputFile) {\n            if (!executableResponse.expirationTime) {\n                throw new executable_response_1.InvalidExpirationTimeFieldError('The executable response must contain the `expiration_time` field for successful responses when an output_file has been specified in the configuration.');\n            }\n        }\n        // Check that response is not expired.\n        if (executableResponse.isExpired()) {\n            throw new Error('Executable response is expired.');\n        }\n        // Return subject token from response.\n        return executableResponse.subjectToken;\n    }\n}\nexports.PluggableAuthClient = PluggableAuthClient;\n","\"use strict\";\n// Copyright 2022 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PluggableAuthHandler = void 0;\nconst pluggable_auth_client_1 = require(\"./pluggable-auth-client\");\nconst executable_response_1 = require(\"./executable-response\");\nconst childProcess = require(\"child_process\");\nconst fs = require(\"fs\");\n/**\n * A handler used to retrieve 3rd party token responses from user defined\n * executables and cached file output for the PluggableAuthClient class.\n */\nclass PluggableAuthHandler {\n    /**\n     * Instantiates a PluggableAuthHandler instance using the provided\n     * PluggableAuthHandlerOptions object.\n     */\n    constructor(options) {\n        if (!options.command) {\n            throw new Error('No command provided.');\n        }\n        this.commandComponents = PluggableAuthHandler.parseCommand(options.command);\n        this.timeoutMillis = options.timeoutMillis;\n        if (!this.timeoutMillis) {\n            throw new Error('No timeoutMillis provided.');\n        }\n        this.outputFile = options.outputFile;\n    }\n    /**\n     * Calls user provided executable to get a 3rd party subject token and\n     * returns the response.\n     * @param envMap a Map of additional Environment Variables required for\n     *   the executable.\n     * @return A promise that resolves with the executable response.\n     */\n    retrieveResponseFromExecutable(envMap) {\n        return new Promise((resolve, reject) => {\n            // Spawn process to run executable using added environment variables.\n            const child = childProcess.spawn(this.commandComponents[0], this.commandComponents.slice(1), {\n                env: { ...process.env, ...Object.fromEntries(envMap) },\n            });\n            let output = '';\n            // Append stdout to output as executable runs.\n            child.stdout.on('data', (data) => {\n                output += data;\n            });\n            // Append stderr as executable runs.\n            child.stderr.on('data', (err) => {\n                output += err;\n            });\n            // Set up a timeout to end the child process and throw an error.\n            const timeout = setTimeout(() => {\n                // Kill child process and remove listeners so 'close' event doesn't get\n                // read after child process is killed.\n                child.removeAllListeners();\n                child.kill();\n                return reject(new Error('The executable failed to finish within the timeout specified.'));\n            }, this.timeoutMillis);\n            child.on('close', (code) => {\n                // Cancel timeout if executable closes before timeout is reached.\n                clearTimeout(timeout);\n                if (code === 0) {\n                    // If the executable completed successfully, try to return the parsed response.\n                    try {\n                        const responseJson = JSON.parse(output);\n                        const response = new executable_response_1.ExecutableResponse(responseJson);\n                        return resolve(response);\n                    }\n                    catch (error) {\n                        if (error instanceof executable_response_1.ExecutableResponseError) {\n                            return reject(error);\n                        }\n                        return reject(new executable_response_1.ExecutableResponseError(`The executable returned an invalid response: ${output}`));\n                    }\n                }\n                else {\n                    return reject(new pluggable_auth_client_1.ExecutableError(output, code.toString()));\n                }\n            });\n        });\n    }\n    /**\n     * Checks user provided output file for response from previous run of\n     * executable and return the response if it exists, is formatted correctly, and is not expired.\n     */\n    async retrieveCachedResponse() {\n        if (!this.outputFile || this.outputFile.length === 0) {\n            return undefined;\n        }\n        let filePath;\n        try {\n            filePath = await fs.promises.realpath(this.outputFile);\n        }\n        catch (_a) {\n            // If file path cannot be resolved, return undefined.\n            return undefined;\n        }\n        if (!(await fs.promises.lstat(filePath)).isFile()) {\n            // If path does not lead to file, return undefined.\n            return undefined;\n        }\n        const responseString = await fs.promises.readFile(filePath, {\n            encoding: 'utf8',\n        });\n        if (responseString === '') {\n            return undefined;\n        }\n        try {\n            const responseJson = JSON.parse(responseString);\n            const response = new executable_response_1.ExecutableResponse(responseJson);\n            // Check if response is successful and unexpired.\n            if (response.isValid()) {\n                return new executable_response_1.ExecutableResponse(responseJson);\n            }\n            return undefined;\n        }\n        catch (error) {\n            if (error instanceof executable_response_1.ExecutableResponseError) {\n                throw error;\n            }\n            throw new executable_response_1.ExecutableResponseError(`The output file contained an invalid response: ${responseString}`);\n        }\n    }\n    /**\n     * Parses given command string into component array, splitting on spaces unless\n     * spaces are between quotation marks.\n     */\n    static parseCommand(command) {\n        // Split the command into components by splitting on spaces,\n        // unless spaces are contained in quotation marks.\n        const components = command.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g);\n        if (!components) {\n            throw new Error(`Provided command: \"${command}\" could not be parsed.`);\n        }\n        // Remove quotation marks from the beginning and end of each component if they are present.\n        for (let i = 0; i < components.length; i++) {\n            if (components[i][0] === '\"' && components[i].slice(-1) === '\"') {\n                components[i] = components[i].slice(1, -1);\n            }\n        }\n        return components;\n    }\n}\nexports.PluggableAuthHandler = PluggableAuthHandler;\n","\"use strict\";\n// Copyright 2015 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UserRefreshClient = exports.USER_REFRESH_ACCOUNT_TYPE = void 0;\nconst oauth2client_1 = require(\"./oauth2client\");\nconst querystring_1 = require(\"querystring\");\nexports.USER_REFRESH_ACCOUNT_TYPE = 'authorized_user';\nclass UserRefreshClient extends oauth2client_1.OAuth2Client {\n    constructor(optionsOrClientId, clientSecret, refreshToken, eagerRefreshThresholdMillis, forceRefreshOnFailure) {\n        const opts = optionsOrClientId && typeof optionsOrClientId === 'object'\n            ? optionsOrClientId\n            : {\n                clientId: optionsOrClientId,\n                clientSecret,\n                refreshToken,\n                eagerRefreshThresholdMillis,\n                forceRefreshOnFailure,\n            };\n        super(opts);\n        this._refreshToken = opts.refreshToken;\n        this.credentials.refresh_token = opts.refreshToken;\n    }\n    /**\n     * Refreshes the access token.\n     * @param refreshToken An ignored refreshToken..\n     * @param callback Optional callback.\n     */\n    async refreshTokenNoCache(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    refreshToken) {\n        return super.refreshTokenNoCache(this._refreshToken);\n    }\n    async fetchIdToken(targetAudience) {\n        const res = await this.transporter.request({\n            ...UserRefreshClient.RETRY_CONFIG,\n            url: this.endpoints.oauth2TokenUrl,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            method: 'POST',\n            data: (0, querystring_1.stringify)({\n                client_id: this._clientId,\n                client_secret: this._clientSecret,\n                grant_type: 'refresh_token',\n                refresh_token: this._refreshToken,\n                target_audience: targetAudience,\n            }),\n        });\n        return res.data.id_token;\n    }\n    /**\n     * Create a UserRefreshClient credentials instance using the given input\n     * options.\n     * @param json The input object.\n     */\n    fromJSON(json) {\n        if (!json) {\n            throw new Error('Must pass in a JSON object containing the user refresh token');\n        }\n        if (json.type !== 'authorized_user') {\n            throw new Error('The incoming JSON object does not have the \"authorized_user\" type');\n        }\n        if (!json.client_id) {\n            throw new Error('The incoming JSON object does not contain a client_id field');\n        }\n        if (!json.client_secret) {\n            throw new Error('The incoming JSON object does not contain a client_secret field');\n        }\n        if (!json.refresh_token) {\n            throw new Error('The incoming JSON object does not contain a refresh_token field');\n        }\n        this._clientId = json.client_id;\n        this._clientSecret = json.client_secret;\n        this._refreshToken = json.refresh_token;\n        this.credentials.refresh_token = json.refresh_token;\n        this.quotaProjectId = json.quota_project_id;\n        this.universeDomain = json.universe_domain || this.universeDomain;\n    }\n    fromStream(inputStream, callback) {\n        if (callback) {\n            this.fromStreamAsync(inputStream).then(() => callback(), callback);\n        }\n        else {\n            return this.fromStreamAsync(inputStream);\n        }\n    }\n    async fromStreamAsync(inputStream) {\n        return new Promise((resolve, reject) => {\n            if (!inputStream) {\n                return reject(new Error('Must pass in a stream containing the user refresh token.'));\n            }\n            let s = '';\n            inputStream\n                .setEncoding('utf8')\n                .on('error', reject)\n                .on('data', chunk => (s += chunk))\n                .on('end', () => {\n                try {\n                    const data = JSON.parse(s);\n                    this.fromJSON(data);\n                    return resolve();\n                }\n                catch (err) {\n                    return reject(err);\n                }\n            });\n        });\n    }\n}\nexports.UserRefreshClient = UserRefreshClient;\n","\"use strict\";\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StsCredentials = void 0;\nconst gaxios_1 = require(\"gaxios\");\nconst querystring = require(\"querystring\");\nconst transporters_1 = require(\"../transporters\");\nconst oauth2common_1 = require(\"./oauth2common\");\n/**\n * Implements the OAuth 2.0 token exchange based on\n * https://tools.ietf.org/html/rfc8693\n */\nclass StsCredentials extends oauth2common_1.OAuthClientAuthHandler {\n    /**\n     * Initializes an STS credentials instance.\n     * @param tokenExchangeEndpoint The token exchange endpoint.\n     * @param clientAuthentication The client authentication credentials if\n     *   available.\n     */\n    constructor(tokenExchangeEndpoint, clientAuthentication) {\n        super(clientAuthentication);\n        this.tokenExchangeEndpoint = tokenExchangeEndpoint;\n        this.transporter = new transporters_1.DefaultTransporter();\n    }\n    /**\n     * Exchanges the provided token for another type of token based on the\n     * rfc8693 spec.\n     * @param stsCredentialsOptions The token exchange options used to populate\n     *   the token exchange request.\n     * @param additionalHeaders Optional additional headers to pass along the\n     *   request.\n     * @param options Optional additional GCP-specific non-spec defined options\n     *   to send with the request.\n     *   Example: `&options=${encodeUriComponent(JSON.stringified(options))}`\n     * @return A promise that resolves with the token exchange response containing\n     *   the requested token and its expiration time.\n     */\n    async exchangeToken(stsCredentialsOptions, additionalHeaders, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    options) {\n        var _a, _b, _c;\n        const values = {\n            grant_type: stsCredentialsOptions.grantType,\n            resource: stsCredentialsOptions.resource,\n            audience: stsCredentialsOptions.audience,\n            scope: (_a = stsCredentialsOptions.scope) === null || _a === void 0 ? void 0 : _a.join(' '),\n            requested_token_type: stsCredentialsOptions.requestedTokenType,\n            subject_token: stsCredentialsOptions.subjectToken,\n            subject_token_type: stsCredentialsOptions.subjectTokenType,\n            actor_token: (_b = stsCredentialsOptions.actingParty) === null || _b === void 0 ? void 0 : _b.actorToken,\n            actor_token_type: (_c = stsCredentialsOptions.actingParty) === null || _c === void 0 ? void 0 : _c.actorTokenType,\n            // Non-standard GCP-specific options.\n            options: options && JSON.stringify(options),\n        };\n        // Remove undefined fields.\n        Object.keys(values).forEach(key => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (typeof values[key] === 'undefined') {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                delete values[key];\n            }\n        });\n        const headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n        // Inject additional STS headers if available.\n        Object.assign(headers, additionalHeaders || {});\n        const opts = {\n            ...StsCredentials.RETRY_CONFIG,\n            url: this.tokenExchangeEndpoint.toString(),\n            method: 'POST',\n            headers,\n            data: querystring.stringify(values),\n            responseType: 'json',\n        };\n        // Apply OAuth client authentication.\n        this.applyClientAuthenticationOptions(opts);\n        try {\n            const response = await this.transporter.request(opts);\n            // Successful response.\n            const stsSuccessfulResponse = response.data;\n            stsSuccessfulResponse.res = response;\n            return stsSuccessfulResponse;\n        }\n        catch (error) {\n            // Translate error to OAuthError.\n            if (error instanceof gaxios_1.GaxiosError && error.response) {\n                throw (0, oauth2common_1.getErrorFromOAuthErrorResponse)(error.response.data, \n                // Preserve other fields from the original error.\n                error);\n            }\n            // Request could fail before the server responds.\n            throw error;\n        }\n    }\n}\nexports.StsCredentials = StsCredentials;\n","\"use strict\";\n// Copyright 2024 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UrlSubjectTokenSupplier = void 0;\n/**\n * Internal subject token supplier implementation used when a URL\n * is configured in the credential configuration used to build an {@link IdentityPoolClient}\n */\nclass UrlSubjectTokenSupplier {\n    /**\n     * Instantiates a URL subject token supplier.\n     * @param opts The URL subject token supplier options to build the supplier with.\n     */\n    constructor(opts) {\n        this.url = opts.url;\n        this.formatType = opts.formatType;\n        this.subjectTokenFieldName = opts.subjectTokenFieldName;\n        this.headers = opts.headers;\n        this.additionalGaxiosOptions = opts.additionalGaxiosOptions;\n    }\n    /**\n     * Sends a GET request to the URL provided in the constructor and resolves\n     * with the returned external subject token.\n     * @param context {@link ExternalAccountSupplierContext} from the calling\n     *   {@link IdentityPoolClient}, contains the requested audience and subject\n     *   token type for the external account identity. Not used.\n     */\n    async getSubjectToken(context) {\n        const opts = {\n            ...this.additionalGaxiosOptions,\n            url: this.url,\n            method: 'GET',\n            headers: this.headers,\n            responseType: this.formatType,\n        };\n        let subjectToken;\n        if (this.formatType === 'text') {\n            const response = await context.transporter.request(opts);\n            subjectToken = response.data;\n        }\n        else if (this.formatType === 'json' && this.subjectTokenFieldName) {\n            const response = await context.transporter.request(opts);\n            subjectToken = response.data[this.subjectTokenFieldName];\n        }\n        if (!subjectToken) {\n            throw new Error('Unable to parse the subject_token from the credential_source URL');\n        }\n        return subjectToken;\n    }\n}\nexports.UrlSubjectTokenSupplier = UrlSubjectTokenSupplier;\n","\"use strict\";\n// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/* global window */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserCrypto = void 0;\n// This file implements crypto functions we need using in-browser\n// SubtleCrypto interface `window.crypto.subtle`.\nconst base64js = require(\"base64-js\");\nconst crypto_1 = require(\"../crypto\");\nclass BrowserCrypto {\n    constructor() {\n        if (typeof window === 'undefined' ||\n            window.crypto === undefined ||\n            window.crypto.subtle === undefined) {\n            throw new Error(\"SubtleCrypto not found. Make sure it's an https:// website.\");\n        }\n    }\n    async sha256DigestBase64(str) {\n        // SubtleCrypto digest() method is async, so we must make\n        // this method async as well.\n        // To calculate SHA256 digest using SubtleCrypto, we first\n        // need to convert an input string to an ArrayBuffer:\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        const inputBuffer = new TextEncoder().encode(str);\n        // Result is ArrayBuffer as well.\n        const outputBuffer = await window.crypto.subtle.digest('SHA-256', inputBuffer);\n        return base64js.fromByteArray(new Uint8Array(outputBuffer));\n    }\n    randomBytesBase64(count) {\n        const array = new Uint8Array(count);\n        window.crypto.getRandomValues(array);\n        return base64js.fromByteArray(array);\n    }\n    static padBase64(base64) {\n        // base64js requires padding, so let's add some '='\n        while (base64.length % 4 !== 0) {\n            base64 += '=';\n        }\n        return base64;\n    }\n    async verify(pubkey, data, signature) {\n        const algo = {\n            name: 'RSASSA-PKCS1-v1_5',\n            hash: { name: 'SHA-256' },\n        };\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        const dataArray = new TextEncoder().encode(data);\n        const signatureArray = base64js.toByteArray(BrowserCrypto.padBase64(signature));\n        const cryptoKey = await window.crypto.subtle.importKey('jwk', pubkey, algo, true, ['verify']);\n        // SubtleCrypto's verify method is async so we must make\n        // this method async as well.\n        const result = await window.crypto.subtle.verify(algo, cryptoKey, signatureArray, dataArray);\n        return result;\n    }\n    async sign(privateKey, data) {\n        const algo = {\n            name: 'RSASSA-PKCS1-v1_5',\n            hash: { name: 'SHA-256' },\n        };\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        const dataArray = new TextEncoder().encode(data);\n        const cryptoKey = await window.crypto.subtle.importKey('jwk', privateKey, algo, true, ['sign']);\n        // SubtleCrypto's sign method is async so we must make\n        // this method async as well.\n        const result = await window.crypto.subtle.sign(algo, cryptoKey, dataArray);\n        return base64js.fromByteArray(new Uint8Array(result));\n    }\n    decodeBase64StringUtf8(base64) {\n        const uint8array = base64js.toByteArray(BrowserCrypto.padBase64(base64));\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        const result = new TextDecoder().decode(uint8array);\n        return result;\n    }\n    encodeBase64StringUtf8(text) {\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        const uint8array = new TextEncoder().encode(text);\n        const result = base64js.fromByteArray(uint8array);\n        return result;\n    }\n    /**\n     * Computes the SHA-256 hash of the provided string.\n     * @param str The plain text string to hash.\n     * @return A promise that resolves with the SHA-256 hash of the provided\n     *   string in hexadecimal encoding.\n     */\n    async sha256DigestHex(str) {\n        // SubtleCrypto digest() method is async, so we must make\n        // this method async as well.\n        // To calculate SHA256 digest using SubtleCrypto, we first\n        // need to convert an input string to an ArrayBuffer:\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        const inputBuffer = new TextEncoder().encode(str);\n        // Result is ArrayBuffer as well.\n        const outputBuffer = await window.crypto.subtle.digest('SHA-256', inputBuffer);\n        return (0, crypto_1.fromArrayBufferToHex)(outputBuffer);\n    }\n    /**\n     * Computes the HMAC hash of a message using the provided crypto key and the\n     * SHA-256 algorithm.\n     * @param key The secret crypto key in utf-8 or ArrayBuffer format.\n     * @param msg The plain text message.\n     * @return A promise that resolves with the HMAC-SHA256 hash in ArrayBuffer\n     *   format.\n     */\n    async signWithHmacSha256(key, msg) {\n        // Convert key, if provided in ArrayBuffer format, to string.\n        const rawKey = typeof key === 'string'\n            ? key\n            : String.fromCharCode(...new Uint16Array(key));\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        const enc = new TextEncoder();\n        const cryptoKey = await window.crypto.subtle.importKey('raw', enc.encode(rawKey), {\n            name: 'HMAC',\n            hash: {\n                name: 'SHA-256',\n            },\n        }, false, ['sign']);\n        return window.crypto.subtle.sign('HMAC', cryptoKey, enc.encode(msg));\n    }\n}\nexports.BrowserCrypto = BrowserCrypto;\n","\"use strict\";\n// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/* global window */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromArrayBufferToHex = exports.hasBrowserCrypto = exports.createCrypto = void 0;\nconst crypto_1 = require(\"./browser/crypto\");\nconst crypto_2 = require(\"./node/crypto\");\nfunction createCrypto() {\n    if (hasBrowserCrypto()) {\n        return new crypto_1.BrowserCrypto();\n    }\n    return new crypto_2.NodeCrypto();\n}\nexports.createCrypto = createCrypto;\nfunction hasBrowserCrypto() {\n    return (typeof window !== 'undefined' &&\n        typeof window.crypto !== 'undefined' &&\n        typeof window.crypto.subtle !== 'undefined');\n}\nexports.hasBrowserCrypto = hasBrowserCrypto;\n/**\n * Converts an ArrayBuffer to a hexadecimal string.\n * @param arrayBuffer The ArrayBuffer to convert to hexadecimal string.\n * @return The hexadecimal encoding of the ArrayBuffer.\n */\nfunction fromArrayBufferToHex(arrayBuffer) {\n    // Convert buffer to byte array.\n    const byteArray = Array.from(new Uint8Array(arrayBuffer));\n    // Convert bytes to hex string.\n    return byteArray\n        .map(byte => {\n        return byte.toString(16).padStart(2, '0');\n    })\n        .join('');\n}\nexports.fromArrayBufferToHex = fromArrayBufferToHex;\n","\"use strict\";\n// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NodeCrypto = void 0;\nconst crypto = require(\"crypto\");\nclass NodeCrypto {\n    async sha256DigestBase64(str) {\n        return crypto.createHash('sha256').update(str).digest('base64');\n    }\n    randomBytesBase64(count) {\n        return crypto.randomBytes(count).toString('base64');\n    }\n    async verify(pubkey, data, signature) {\n        const verifier = crypto.createVerify('RSA-SHA256');\n        verifier.update(data);\n        verifier.end();\n        return verifier.verify(pubkey, signature, 'base64');\n    }\n    async sign(privateKey, data) {\n        const signer = crypto.createSign('RSA-SHA256');\n        signer.update(data);\n        signer.end();\n        return signer.sign(privateKey, 'base64');\n    }\n    decodeBase64StringUtf8(base64) {\n        return Buffer.from(base64, 'base64').toString('utf-8');\n    }\n    encodeBase64StringUtf8(text) {\n        return Buffer.from(text, 'utf-8').toString('base64');\n    }\n    /**\n     * Computes the SHA-256 hash of the provided string.\n     * @param str The plain text string to hash.\n     * @return A promise that resolves with the SHA-256 hash of the provided\n     *   string in hexadecimal encoding.\n     */\n    async sha256DigestHex(str) {\n        return crypto.createHash('sha256').update(str).digest('hex');\n    }\n    /**\n     * Computes the HMAC hash of a message using the provided crypto key and the\n     * SHA-256 algorithm.\n     * @param key The secret crypto key in utf-8 or ArrayBuffer format.\n     * @param msg The plain text message.\n     * @return A promise that resolves with the HMAC-SHA256 hash in ArrayBuffer\n     *   format.\n     */\n    async signWithHmacSha256(key, msg) {\n        const cryptoKey = typeof key === 'string' ? key : toBuffer(key);\n        return toArrayBuffer(crypto.createHmac('sha256', cryptoKey).update(msg).digest());\n    }\n}\nexports.NodeCrypto = NodeCrypto;\n/**\n * Converts a Node.js Buffer to an ArrayBuffer.\n * https://stackoverflow.com/questions/8609289/convert-a-binary-nodejs-buffer-to-javascript-arraybuffer\n * @param buffer The Buffer input to covert.\n * @return The ArrayBuffer representation of the input.\n */\nfunction toArrayBuffer(buffer) {\n    return buffer.buffer.slice(buffer.byteOffset, buffer.byteOffset + buffer.byteLength);\n}\n/**\n * Converts an ArrayBuffer to a Node.js Buffer.\n * @param arrayBuffer The ArrayBuffer input to covert.\n * @return The Buffer representation of the input.\n */\nfunction toBuffer(arrayBuffer) {\n    return Buffer.from(arrayBuffer);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GoogleAuth = exports.auth = exports.DefaultTransporter = exports.PassThroughClient = exports.PluggableAuthClient = exports.DownscopedClient = exports.BaseExternalAccountClient = exports.ExternalAccountClient = exports.IdentityPoolClient = exports.AwsClient = exports.UserRefreshClient = exports.LoginTicket = exports.OAuth2Client = exports.CodeChallengeMethod = exports.Impersonated = exports.JWT = exports.JWTAccess = exports.IdTokenClient = exports.IAMAuth = exports.GCPEnv = exports.Compute = exports.DEFAULT_UNIVERSE = exports.AuthClient = exports.gaxios = exports.gcpMetadata = void 0;\n// Copyright 2017 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nconst googleauth_1 = require(\"./auth/googleauth\");\nObject.defineProperty(exports, \"GoogleAuth\", { enumerable: true, get: function () { return googleauth_1.GoogleAuth; } });\n// Export common deps to ensure types/instances are the exact match. Useful\n// for consistently configuring the library across versions.\nexports.gcpMetadata = require(\"gcp-metadata\");\nexports.gaxios = require(\"gaxios\");\nvar authclient_1 = require(\"./auth/authclient\");\nObject.defineProperty(exports, \"AuthClient\", { enumerable: true, get: function () { return authclient_1.AuthClient; } });\nObject.defineProperty(exports, \"DEFAULT_UNIVERSE\", { enumerable: true, get: function () { return authclient_1.DEFAULT_UNIVERSE; } });\nvar computeclient_1 = require(\"./auth/computeclient\");\nObject.defineProperty(exports, \"Compute\", { enumerable: true, get: function () { return computeclient_1.Compute; } });\nvar envDetect_1 = require(\"./auth/envDetect\");\nObject.defineProperty(exports, \"GCPEnv\", { enumerable: true, get: function () { return envDetect_1.GCPEnv; } });\nvar iam_1 = require(\"./auth/iam\");\nObject.defineProperty(exports, \"IAMAuth\", { enumerable: true, get: function () { return iam_1.IAMAuth; } });\nvar idtokenclient_1 = require(\"./auth/idtokenclient\");\nObject.defineProperty(exports, \"IdTokenClient\", { enumerable: true, get: function () { return idtokenclient_1.IdTokenClient; } });\nvar jwtaccess_1 = require(\"./auth/jwtaccess\");\nObject.defineProperty(exports, \"JWTAccess\", { enumerable: true, get: function () { return jwtaccess_1.JWTAccess; } });\nvar jwtclient_1 = require(\"./auth/jwtclient\");\nObject.defineProperty(exports, \"JWT\", { enumerable: true, get: function () { return jwtclient_1.JWT; } });\nvar impersonated_1 = require(\"./auth/impersonated\");\nObject.defineProperty(exports, \"Impersonated\", { enumerable: true, get: function () { return impersonated_1.Impersonated; } });\nvar oauth2client_1 = require(\"./auth/oauth2client\");\nObject.defineProperty(exports, \"CodeChallengeMethod\", { enumerable: true, get: function () { return oauth2client_1.CodeChallengeMethod; } });\nObject.defineProperty(exports, \"OAuth2Client\", { enumerable: true, get: function () { return oauth2client_1.OAuth2Client; } });\nvar loginticket_1 = require(\"./auth/loginticket\");\nObject.defineProperty(exports, \"LoginTicket\", { enumerable: true, get: function () { return loginticket_1.LoginTicket; } });\nvar refreshclient_1 = require(\"./auth/refreshclient\");\nObject.defineProperty(exports, \"UserRefreshClient\", { enumerable: true, get: function () { return refreshclient_1.UserRefreshClient; } });\nvar awsclient_1 = require(\"./auth/awsclient\");\nObject.defineProperty(exports, \"AwsClient\", { enumerable: true, get: function () { return awsclient_1.AwsClient; } });\nvar identitypoolclient_1 = require(\"./auth/identitypoolclient\");\nObject.defineProperty(exports, \"IdentityPoolClient\", { enumerable: true, get: function () { return identitypoolclient_1.IdentityPoolClient; } });\nvar externalclient_1 = require(\"./auth/externalclient\");\nObject.defineProperty(exports, \"ExternalAccountClient\", { enumerable: true, get: function () { return externalclient_1.ExternalAccountClient; } });\nvar baseexternalclient_1 = require(\"./auth/baseexternalclient\");\nObject.defineProperty(exports, \"BaseExternalAccountClient\", { enumerable: true, get: function () { return baseexternalclient_1.BaseExternalAccountClient; } });\nvar downscopedclient_1 = require(\"./auth/downscopedclient\");\nObject.defineProperty(exports, \"DownscopedClient\", { enumerable: true, get: function () { return downscopedclient_1.DownscopedClient; } });\nvar pluggable_auth_client_1 = require(\"./auth/pluggable-auth-client\");\nObject.defineProperty(exports, \"PluggableAuthClient\", { enumerable: true, get: function () { return pluggable_auth_client_1.PluggableAuthClient; } });\nvar passthrough_1 = require(\"./auth/passthrough\");\nObject.defineProperty(exports, \"PassThroughClient\", { enumerable: true, get: function () { return passthrough_1.PassThroughClient; } });\nvar transporters_1 = require(\"./transporters\");\nObject.defineProperty(exports, \"DefaultTransporter\", { enumerable: true, get: function () { return transporters_1.DefaultTransporter; } });\nconst auth = new googleauth_1.GoogleAuth();\nexports.auth = auth;\n","\"use strict\";\n// Copyright 2017 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validate = void 0;\n// Accepts an options object passed from the user to the API.  In the\n// previous version of the API, it referred to a `Request` options object.\n// Now it refers to an Axiox Request Config object.  This is here to help\n// ensure users don't pass invalid options when they upgrade from 0.x to 1.x.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction validate(options) {\n    const vpairs = [\n        { invalid: 'uri', expected: 'url' },\n        { invalid: 'json', expected: 'data' },\n        { invalid: 'qs', expected: 'params' },\n    ];\n    for (const pair of vpairs) {\n        if (options[pair.invalid]) {\n            const e = `'${pair.invalid}' is not a valid configuration option. Please use '${pair.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;\n            throw new Error(e);\n        }\n    }\n}\nexports.validate = validate;\n","\"use strict\";\n// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultTransporter = void 0;\nconst gaxios_1 = require(\"gaxios\");\nconst options_1 = require(\"./options\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst pkg = require('../../package.json');\nconst PRODUCT_NAME = 'google-api-nodejs-client';\nclass DefaultTransporter {\n    constructor() {\n        /**\n         * A configurable, replacable `Gaxios` instance.\n         */\n        this.instance = new gaxios_1.Gaxios();\n    }\n    /**\n     * Configures request options before making a request.\n     * @param opts GaxiosOptions options.\n     * @return Configured options.\n     */\n    configure(opts = {}) {\n        opts.headers = opts.headers || {};\n        if (typeof window === 'undefined') {\n            // set transporter user agent if not in browser\n            const uaValue = opts.headers['User-Agent'];\n            if (!uaValue) {\n                opts.headers['User-Agent'] = DefaultTransporter.USER_AGENT;\n            }\n            else if (!uaValue.includes(`${PRODUCT_NAME}/`)) {\n                opts.headers['User-Agent'] =\n                    `${uaValue} ${DefaultTransporter.USER_AGENT}`;\n            }\n            // track google-auth-library-nodejs version:\n            if (!opts.headers['x-goog-api-client']) {\n                const nodeVersion = process.version.replace(/^v/, '');\n                opts.headers['x-goog-api-client'] = `gl-node/${nodeVersion}`;\n            }\n        }\n        return opts;\n    }\n    /**\n     * Makes a request using Gaxios with given options.\n     * @param opts GaxiosOptions options.\n     * @param callback optional callback that contains GaxiosResponse object.\n     * @return GaxiosPromise, assuming no callback is passed.\n     */\n    request(opts) {\n        // ensure the user isn't passing in request-style options\n        opts = this.configure(opts);\n        (0, options_1.validate)(opts);\n        return this.instance.request(opts).catch(e => {\n            throw this.processError(e);\n        });\n    }\n    get defaults() {\n        return this.instance.defaults;\n    }\n    set defaults(opts) {\n        this.instance.defaults = opts;\n    }\n    /**\n     * Changes the error to include details from the body.\n     */\n    processError(e) {\n        const res = e.response;\n        const err = e;\n        const body = res ? res.data : null;\n        if (res && body && body.error && res.status !== 200) {\n            if (typeof body.error === 'string') {\n                err.message = body.error;\n                err.status = res.status;\n            }\n            else if (Array.isArray(body.error.errors)) {\n                err.message = body.error.errors\n                    .map((err2) => err2.message)\n                    .join('\\n');\n                err.code = body.error.code;\n                err.errors = body.error.errors;\n            }\n            else {\n                err.message = body.error.message;\n                err.code = body.error.code;\n            }\n        }\n        else if (res && res.status >= 400) {\n            // Consider all 4xx and 5xx responses errors.\n            err.message = body;\n            err.status = res.status;\n        }\n        return err;\n    }\n}\nexports.DefaultTransporter = DefaultTransporter;\n/**\n * Default user agent.\n */\nDefaultTransporter.USER_AGENT = `${PRODUCT_NAME}/${pkg.version}`;\n","\"use strict\";\n// Copyright 2023 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _LRUCache_instances, _LRUCache_cache, _LRUCache_moveToEnd, _LRUCache_evict;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.originalOrCamelOptions = exports.snakeToCamel = void 0;\n/**\n * Returns the camel case of a provided string.\n *\n * @remarks\n *\n * Match any `_` and not `_` pair, then return the uppercase of the not `_`\n * character.\n *\n * @internal\n *\n * @param str the string to convert\n * @returns the camelCase'd string\n */\nfunction snakeToCamel(str) {\n    return str.replace(/([_][^_])/g, match => match.slice(1).toUpperCase());\n}\nexports.snakeToCamel = snakeToCamel;\n/**\n * Get the value of `obj[key]` or `obj[camelCaseKey]`, with a preference\n * for original, non-camelCase key.\n *\n * @param obj object to lookup a value in\n * @returns a `get` function for getting `obj[key || snakeKey]`, if available\n */\nfunction originalOrCamelOptions(obj) {\n    /**\n     *\n     * @param key an index of object, preferably snake_case\n     * @returns the value `obj[key || snakeKey]`, if available\n     */\n    function get(key) {\n        var _a;\n        const o = (obj || {});\n        return (_a = o[key]) !== null && _a !== void 0 ? _a : o[snakeToCamel(key)];\n    }\n    return { get };\n}\nexports.originalOrCamelOptions = originalOrCamelOptions;\n/**\n * A simple LRU cache utility.\n * Not meant for external usage.\n *\n * @experimental\n * @internal\n */\nclass LRUCache {\n    constructor(options) {\n        _LRUCache_instances.add(this);\n        /**\n         * Maps are in order. Thus, the older item is the first item.\n         *\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map}\n         */\n        _LRUCache_cache.set(this, new Map());\n        this.capacity = options.capacity;\n        this.maxAge = options.maxAge;\n    }\n    /**\n     * Add an item to the cache.\n     *\n     * @param key the key to upsert\n     * @param value the value of the key\n     */\n    set(key, value) {\n        __classPrivateFieldGet(this, _LRUCache_instances, \"m\", _LRUCache_moveToEnd).call(this, key, value);\n        __classPrivateFieldGet(this, _LRUCache_instances, \"m\", _LRUCache_evict).call(this);\n    }\n    /**\n     * Get an item from the cache.\n     *\n     * @param key the key to retrieve\n     */\n    get(key) {\n        const item = __classPrivateFieldGet(this, _LRUCache_cache, \"f\").get(key);\n        if (!item)\n            return;\n        __classPrivateFieldGet(this, _LRUCache_instances, \"m\", _LRUCache_moveToEnd).call(this, key, item.value);\n        __classPrivateFieldGet(this, _LRUCache_instances, \"m\", _LRUCache_evict).call(this);\n        return item.value;\n    }\n}\nexports.LRUCache = LRUCache;\n_LRUCache_cache = new WeakMap(), _LRUCache_instances = new WeakSet(), _LRUCache_moveToEnd = function _LRUCache_moveToEnd(key, value) {\n    __classPrivateFieldGet(this, _LRUCache_cache, \"f\").delete(key);\n    __classPrivateFieldGet(this, _LRUCache_cache, \"f\").set(key, {\n        value,\n        lastAccessed: Date.now(),\n    });\n}, _LRUCache_evict = function _LRUCache_evict() {\n    const cutoffDate = this.maxAge ? Date.now() - this.maxAge : 0;\n    /**\n     * Because we know Maps are in order, this item is both the\n     * last item in the list (capacity) and oldest (maxAge).\n     */\n    let oldestItem = __classPrivateFieldGet(this, _LRUCache_cache, \"f\").entries().next();\n    while (!oldestItem.done &&\n        (__classPrivateFieldGet(this, _LRUCache_cache, \"f\").size > this.capacity || // too many\n            oldestItem.value[1].lastAccessed < cutoffDate) // too old\n    ) {\n        __classPrivateFieldGet(this, _LRUCache_cache, \"f\").delete(oldestItem.value[0]);\n        oldestItem = __classPrivateFieldGet(this, _LRUCache_cache, \"f\").entries().next();\n    }\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","\"use strict\";\n/**\n * Copyright 2018 Google LLC\n *\n * Distributed under MIT license.\n * See file LICENSE for detail or copy at https://opensource.org/licenses/MIT\n */\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _GoogleToken_instances, _GoogleToken_inFlightRequest, _GoogleToken_getTokenAsync, _GoogleToken_getTokenAsyncInner, _GoogleToken_ensureEmail, _GoogleToken_revokeTokenAsync, _GoogleToken_configure, _GoogleToken_requestToken;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GoogleToken = void 0;\nconst fs = require(\"fs\");\nconst gaxios_1 = require(\"gaxios\");\nconst jws = require(\"jws\");\nconst path = require(\"path\");\nconst util_1 = require(\"util\");\nconst readFile = fs.readFile\n    ? (0, util_1.promisify)(fs.readFile)\n    : async () => {\n        // if running in the web-browser, fs.readFile may not have been shimmed.\n        throw new ErrorWithCode('use key rather than keyFile.', 'MISSING_CREDENTIALS');\n    };\nconst GOOGLE_TOKEN_URL = 'https://www.googleapis.com/oauth2/v4/token';\nconst GOOGLE_REVOKE_TOKEN_URL = 'https://accounts.google.com/o/oauth2/revoke?token=';\nclass ErrorWithCode extends Error {\n    constructor(message, code) {\n        super(message);\n        this.code = code;\n    }\n}\nclass GoogleToken {\n    get accessToken() {\n        return this.rawToken ? this.rawToken.access_token : undefined;\n    }\n    get idToken() {\n        return this.rawToken ? this.rawToken.id_token : undefined;\n    }\n    get tokenType() {\n        return this.rawToken ? this.rawToken.token_type : undefined;\n    }\n    get refreshToken() {\n        return this.rawToken ? this.rawToken.refresh_token : undefined;\n    }\n    /**\n     * Create a GoogleToken.\n     *\n     * @param options  Configuration object.\n     */\n    constructor(options) {\n        _GoogleToken_instances.add(this);\n        this.transporter = {\n            request: opts => (0, gaxios_1.request)(opts),\n        };\n        _GoogleToken_inFlightRequest.set(this, void 0);\n        __classPrivateFieldGet(this, _GoogleToken_instances, \"m\", _GoogleToken_configure).call(this, options);\n    }\n    /**\n     * Returns whether the token has expired.\n     *\n     * @return true if the token has expired, false otherwise.\n     */\n    hasExpired() {\n        const now = new Date().getTime();\n        if (this.rawToken && this.expiresAt) {\n            return now >= this.expiresAt;\n        }\n        else {\n            return true;\n        }\n    }\n    /**\n     * Returns whether the token will expire within eagerRefreshThresholdMillis\n     *\n     * @return true if the token will be expired within eagerRefreshThresholdMillis, false otherwise.\n     */\n    isTokenExpiring() {\n        var _a;\n        const now = new Date().getTime();\n        const eagerRefreshThresholdMillis = (_a = this.eagerRefreshThresholdMillis) !== null && _a !== void 0 ? _a : 0;\n        if (this.rawToken && this.expiresAt) {\n            return this.expiresAt <= now + eagerRefreshThresholdMillis;\n        }\n        else {\n            return true;\n        }\n    }\n    getToken(callback, opts = {}) {\n        if (typeof callback === 'object') {\n            opts = callback;\n            callback = undefined;\n        }\n        opts = Object.assign({\n            forceRefresh: false,\n        }, opts);\n        if (callback) {\n            const cb = callback;\n            __classPrivateFieldGet(this, _GoogleToken_instances, \"m\", _GoogleToken_getTokenAsync).call(this, opts).then(t => cb(null, t), callback);\n            return;\n        }\n        return __classPrivateFieldGet(this, _GoogleToken_instances, \"m\", _GoogleToken_getTokenAsync).call(this, opts);\n    }\n    /**\n     * Given a keyFile, extract the key and client email if available\n     * @param keyFile Path to a json, pem, or p12 file that contains the key.\n     * @returns an object with privateKey and clientEmail properties\n     */\n    async getCredentials(keyFile) {\n        const ext = path.extname(keyFile);\n        switch (ext) {\n            case '.json': {\n                const key = await readFile(keyFile, 'utf8');\n                const body = JSON.parse(key);\n                const privateKey = body.private_key;\n                const clientEmail = body.client_email;\n                if (!privateKey || !clientEmail) {\n                    throw new ErrorWithCode('private_key and client_email are required.', 'MISSING_CREDENTIALS');\n                }\n                return { privateKey, clientEmail };\n            }\n            case '.der':\n            case '.crt':\n            case '.pem': {\n                const privateKey = await readFile(keyFile, 'utf8');\n                return { privateKey };\n            }\n            case '.p12':\n            case '.pfx': {\n                throw new ErrorWithCode('*.p12 certificates are not supported after v6.1.2. ' +\n                    'Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.', 'UNKNOWN_CERTIFICATE_TYPE');\n            }\n            default:\n                throw new ErrorWithCode('Unknown certificate type. Type is determined based on file extension. ' +\n                    'Current supported extensions are *.json, and *.pem.', 'UNKNOWN_CERTIFICATE_TYPE');\n        }\n    }\n    revokeToken(callback) {\n        if (callback) {\n            __classPrivateFieldGet(this, _GoogleToken_instances, \"m\", _GoogleToken_revokeTokenAsync).call(this).then(() => callback(), callback);\n            return;\n        }\n        return __classPrivateFieldGet(this, _GoogleToken_instances, \"m\", _GoogleToken_revokeTokenAsync).call(this);\n    }\n}\nexports.GoogleToken = GoogleToken;\n_GoogleToken_inFlightRequest = new WeakMap(), _GoogleToken_instances = new WeakSet(), _GoogleToken_getTokenAsync = async function _GoogleToken_getTokenAsync(opts) {\n    if (__classPrivateFieldGet(this, _GoogleToken_inFlightRequest, \"f\") && !opts.forceRefresh) {\n        return __classPrivateFieldGet(this, _GoogleToken_inFlightRequest, \"f\");\n    }\n    try {\n        return await (__classPrivateFieldSet(this, _GoogleToken_inFlightRequest, __classPrivateFieldGet(this, _GoogleToken_instances, \"m\", _GoogleToken_getTokenAsyncInner).call(this, opts), \"f\"));\n    }\n    finally {\n        __classPrivateFieldSet(this, _GoogleToken_inFlightRequest, undefined, \"f\");\n    }\n}, _GoogleToken_getTokenAsyncInner = async function _GoogleToken_getTokenAsyncInner(opts) {\n    if (this.isTokenExpiring() === false && opts.forceRefresh === false) {\n        return Promise.resolve(this.rawToken);\n    }\n    if (!this.key && !this.keyFile) {\n        throw new Error('No key or keyFile set.');\n    }\n    if (!this.key && this.keyFile) {\n        const creds = await this.getCredentials(this.keyFile);\n        this.key = creds.privateKey;\n        this.iss = creds.clientEmail || this.iss;\n        if (!creds.clientEmail) {\n            __classPrivateFieldGet(this, _GoogleToken_instances, \"m\", _GoogleToken_ensureEmail).call(this);\n        }\n    }\n    return __classPrivateFieldGet(this, _GoogleToken_instances, \"m\", _GoogleToken_requestToken).call(this);\n}, _GoogleToken_ensureEmail = function _GoogleToken_ensureEmail() {\n    if (!this.iss) {\n        throw new ErrorWithCode('email is required.', 'MISSING_CREDENTIALS');\n    }\n}, _GoogleToken_revokeTokenAsync = async function _GoogleToken_revokeTokenAsync() {\n    if (!this.accessToken) {\n        throw new Error('No token to revoke.');\n    }\n    const url = GOOGLE_REVOKE_TOKEN_URL + this.accessToken;\n    await this.transporter.request({\n        url,\n        retry: true,\n    });\n    __classPrivateFieldGet(this, _GoogleToken_instances, \"m\", _GoogleToken_configure).call(this, {\n        email: this.iss,\n        sub: this.sub,\n        key: this.key,\n        keyFile: this.keyFile,\n        scope: this.scope,\n        additionalClaims: this.additionalClaims,\n    });\n}, _GoogleToken_configure = function _GoogleToken_configure(options = {}) {\n    this.keyFile = options.keyFile;\n    this.key = options.key;\n    this.rawToken = undefined;\n    this.iss = options.email || options.iss;\n    this.sub = options.sub;\n    this.additionalClaims = options.additionalClaims;\n    if (typeof options.scope === 'object') {\n        this.scope = options.scope.join(' ');\n    }\n    else {\n        this.scope = options.scope;\n    }\n    this.eagerRefreshThresholdMillis = options.eagerRefreshThresholdMillis;\n    if (options.transporter) {\n        this.transporter = options.transporter;\n    }\n}, _GoogleToken_requestToken = \n/**\n * Request the token from Google.\n */\nasync function _GoogleToken_requestToken() {\n    var _a, _b;\n    const iat = Math.floor(new Date().getTime() / 1000);\n    const additionalClaims = this.additionalClaims || {};\n    const payload = Object.assign({\n        iss: this.iss,\n        scope: this.scope,\n        aud: GOOGLE_TOKEN_URL,\n        exp: iat + 3600,\n        iat,\n        sub: this.sub,\n    }, additionalClaims);\n    const signedJWT = jws.sign({\n        header: { alg: 'RS256' },\n        payload,\n        secret: this.key,\n    });\n    try {\n        const r = await this.transporter.request({\n            method: 'POST',\n            url: GOOGLE_TOKEN_URL,\n            data: {\n                grant_type: 'urn:ietf:params:oauth:grant-type:jwt-bearer',\n                assertion: signedJWT,\n            },\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n            responseType: 'json',\n            retryConfig: {\n                httpMethodsToRetry: ['POST'],\n            },\n        });\n        this.rawToken = r.data;\n        this.expiresAt =\n            r.data.expires_in === null || r.data.expires_in === undefined\n                ? undefined\n                : (iat + r.data.expires_in) * 1000;\n        return this.rawToken;\n    }\n    catch (e) {\n        this.rawToken = undefined;\n        this.tokenExpires = undefined;\n        const body = e.response && ((_a = e.response) === null || _a === void 0 ? void 0 : _a.data)\n            ? (_b = e.response) === null || _b === void 0 ? void 0 : _b.data\n            : {};\n        if (body.error) {\n            const desc = body.error_description\n                ? `: ${body.error_description}`\n                : '';\n            e.message = `${body.error}${desc}`;\n        }\n        throw e;\n    }\n};\n//# sourceMappingURL=index.js.map","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\treturn !!$defineProperty;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!$defineProperty) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","'use strict';\n\nvar test = {\n\t__proto__: null,\n\tfoo: {}\n};\n\nvar $Object = Object;\n\n/** @type {import('.')} */\nmodule.exports = function hasProto() {\n\t// @ts-expect-error: TS errors on an inherited property for some reason\n\treturn { __proto__: test }.foo === test.foo\n\t\t&& !(test instanceof $Object);\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\nvar toIdentifier = require('toidentifier')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\nmodule.exports.isHttpError = createIsHttpErrorFunction(module.exports.HttpError)\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    var type = typeof arg\n    if (type === 'object' && arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n    } else if (type === 'number' && i === 0) {\n      status = arg\n    } else if (type === 'string') {\n      msg = arg\n    } else if (type === 'object') {\n      props = arg\n    } else {\n      throw new TypeError('argument #' + (i + 1) + ' unsupported type ' + type)\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses.message[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses.message[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n  nameFunc(ClientError, className)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create function to test is a value is a HttpError.\n * @private\n */\n\nfunction createIsHttpErrorFunction (HttpError) {\n  return function isHttpError (val) {\n    if (!val || typeof val !== 'object') {\n      return false\n    }\n\n    if (val instanceof HttpError) {\n      return true\n    }\n\n    return val instanceof Error &&\n      typeof val.expose === 'boolean' &&\n      typeof val.statusCode === 'number' && val.status === val.statusCode\n  }\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n  nameFunc(ServerError, className)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Set the name of a function, if possible.\n * @private\n */\n\nfunction nameFunc (func, name) {\n  var desc = Object.getOwnPropertyDescriptor(func, 'name')\n\n  if (desc && desc.configurable) {\n    desc.value = name\n    Object.defineProperty(func, 'name', desc)\n  }\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses.message[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n}\n\n/**\n * Get a class name from a name identifier.\n * @private\n */\n\nfunction toClassName (name) {\n  return name.substr(-5) !== 'Error'\n    ? name + 'Error'\n    : name\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 decode tables.\n        var thirdByteNodeIdx = this.decodeTables.length;\n        var thirdByteNode = this.decodeTables[thirdByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        var fourthByteNodeIdx = this.decodeTables.length;\n        var fourthByteNode = this.decodeTables[fourthByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNodeIdx = NODE_START - this.decodeTables[0][i];\n            var secondByteNode = this.decodeTables[secondByteNodeIdx];\n            for (var j = 0x30; j <= 0x39; j++)\n                secondByteNode[j] = NODE_START - thirdByteNodeIdx;\n        }\n        for (var i = 0x81; i <= 0xFE; i++)\n            thirdByteNode[i] = NODE_START - fourthByteNodeIdx;\n        for (var i = 0x30; i <= 0x39; i++)\n            fourthByteNode[i] = GB18030_CODE\n    }        \n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0)\n            this._setEncodeChar(uCode, mbCode);\n        else if (uCode <= NODE_START)\n            this._fillEncodeTable(NODE_START - uCode, mbCode << 8, skipEncodeChars);\n        else if (uCode <= SEQ_START)\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n    }\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBuf = Buffer.alloc(0);\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBuf = this.prevBuf, prevBufOffset = this.prevBuf.length,\n        seqStart = -this.prevBuf.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    if (prevBufOffset > 0) // Make prev buf overlap a little to make it easier to slice later.\n        prevBuf = Buffer.concat([prevBuf, buf.slice(0, 10)]);\n    \n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBuf[i + prevBufOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            //var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            i = seqStart; // Try to parse again, after skipping first byte of the sequence ('i' will be incremented by 'for' cycle).\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n        }\n        else if (uCode === GB18030_CODE) {\n            var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            var ptr = (curSeq[0]-0x81)*12600 + (curSeq[1]-0x30)*1260 + (curSeq[2]-0x81)*10 + (curSeq[3]-0x30);\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode > 0xFFFF) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 + Math.floor(uCode / 0x400);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 + uCode % 0x400;\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBuf = (seqStart >= 0) ? buf.slice(seqStart) : prevBuf.slice(seqStart + prevBufOffset);\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBuf.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var buf = this.prevBuf.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBuf = Buffer.alloc(0);\n        this.nodeIdx = 0;\n        if (buf.length > 0)\n            ret += this.write(buf);\n    }\n\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + Math.floor((r-l+1)/2);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n","\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII +  + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [0xa2cc],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n","\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it. \nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    StringDecoder.call(this, codec.enc);\n}\n\nInternalDecoder.prototype = StringDecoder.prototype;\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \")(.,-\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0003\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0003\\u0004\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0015\\u0016\\u0017\\u0018\\u001a\\u001b\\u001c\\u001d\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  }\n}","\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBytes = [];\n    this.initialBytesLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBytes.push(buf);\n        this.initialBytesLen += buf.length;\n        \n        if (this.initialBytesLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n        this.initialBytes.length = this.initialBytesLen = 0;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var res = this.decoder.write(buf),\n            trail = this.decoder.end();\n\n        return trail ? (res + trail) : res;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(buf, defaultEncoding) {\n    var enc = defaultEncoding || 'utf-16le';\n\n    if (buf.length >= 2) {\n        // Check BOM.\n        if (buf[0] == 0xFE && buf[1] == 0xFF) // UTF-16BE BOM\n            enc = 'utf-16be';\n        else if (buf[0] == 0xFF && buf[1] == 0xFE) // UTF-16LE BOM\n            enc = 'utf-16le';\n        else {\n            // No BOM found. Try to deduce encoding from initial content.\n            // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n            // So, we count ASCII as if it was LE or BE, and decide from that.\n            var asciiCharsLE = 0, asciiCharsBE = 0, // Counts of chars in both positions\n                _len = Math.min(buf.length - (buf.length % 2), 64); // Len is always even.\n\n            for (var i = 0; i < _len; i += 2) {\n                if (buf[i] === 0 && buf[i+1] !== 0) asciiCharsBE++;\n                if (buf[i] !== 0 && buf[i+1] === 0) asciiCharsLE++;\n            }\n\n            if (asciiCharsBE > asciiCharsLE)\n                enc = 'utf-16be';\n            else if (asciiCharsBE < asciiCharsLE)\n                enc = 'utf-16le';\n        }\n    }\n\n    return enc;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString();\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString();\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString().replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString().replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n","\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n","\"use strict\";\nvar Buffer = require(\"buffer\").Buffer;\n// Note: not polyfilled with safer-buffer on a purpose, as overrides Buffer\n\n// == Extend Node primitives to use iconv-lite =================================\n\nmodule.exports = function (iconv) {\n    var original = undefined; // Place to keep original methods.\n\n    // Node authors rewrote Buffer internals to make it compatible with\n    // Uint8Array and we cannot patch key functions since then.\n    // Note: this does use older Buffer API on a purpose\n    iconv.supportsNodeEncodingsExtension = !(Buffer.from || new Buffer(0) instanceof Uint8Array);\n\n    iconv.extendNodeEncodings = function extendNodeEncodings() {\n        if (original) return;\n        original = {};\n\n        if (!iconv.supportsNodeEncodingsExtension) {\n            console.error(\"ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node\");\n            console.error(\"See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility\");\n            return;\n        }\n\n        var nodeNativeEncodings = {\n            'hex': true, 'utf8': true, 'utf-8': true, 'ascii': true, 'binary': true, \n            'base64': true, 'ucs2': true, 'ucs-2': true, 'utf16le': true, 'utf-16le': true,\n        };\n\n        Buffer.isNativeEncoding = function(enc) {\n            return enc && nodeNativeEncodings[enc.toLowerCase()];\n        }\n\n        // -- SlowBuffer -----------------------------------------------------------\n        var SlowBuffer = require('buffer').SlowBuffer;\n\n        original.SlowBufferToString = SlowBuffer.prototype.toString;\n        SlowBuffer.prototype.toString = function(encoding, start, end) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.SlowBufferToString.call(this, encoding, start, end);\n\n            // Otherwise, use our decoding method.\n            if (typeof start == 'undefined') start = 0;\n            if (typeof end == 'undefined') end = this.length;\n            return iconv.decode(this.slice(start, end), encoding);\n        }\n\n        original.SlowBufferWrite = SlowBuffer.prototype.write;\n        SlowBuffer.prototype.write = function(string, offset, length, encoding) {\n            // Support both (string, offset, length, encoding)\n            // and the legacy (string, encoding, offset, length)\n            if (isFinite(offset)) {\n                if (!isFinite(length)) {\n                    encoding = length;\n                    length = undefined;\n                }\n            } else {  // legacy\n                var swap = encoding;\n                encoding = offset;\n                offset = length;\n                length = swap;\n            }\n\n            offset = +offset || 0;\n            var remaining = this.length - offset;\n            if (!length) {\n                length = remaining;\n            } else {\n                length = +length;\n                if (length > remaining) {\n                    length = remaining;\n                }\n            }\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.SlowBufferWrite.call(this, string, offset, length, encoding);\n\n            if (string.length > 0 && (length < 0 || offset < 0))\n                throw new RangeError('attempt to write beyond buffer bounds');\n\n            // Otherwise, use our encoding method.\n            var buf = iconv.encode(string, encoding);\n            if (buf.length < length) length = buf.length;\n            buf.copy(this, offset, 0, length);\n            return length;\n        }\n\n        // -- Buffer ---------------------------------------------------------------\n\n        original.BufferIsEncoding = Buffer.isEncoding;\n        Buffer.isEncoding = function(encoding) {\n            return Buffer.isNativeEncoding(encoding) || iconv.encodingExists(encoding);\n        }\n\n        original.BufferByteLength = Buffer.byteLength;\n        Buffer.byteLength = SlowBuffer.byteLength = function(str, encoding) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferByteLength.call(this, str, encoding);\n\n            // Slow, I know, but we don't have a better way yet.\n            return iconv.encode(str, encoding).length;\n        }\n\n        original.BufferToString = Buffer.prototype.toString;\n        Buffer.prototype.toString = function(encoding, start, end) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferToString.call(this, encoding, start, end);\n\n            // Otherwise, use our decoding method.\n            if (typeof start == 'undefined') start = 0;\n            if (typeof end == 'undefined') end = this.length;\n            return iconv.decode(this.slice(start, end), encoding);\n        }\n\n        original.BufferWrite = Buffer.prototype.write;\n        Buffer.prototype.write = function(string, offset, length, encoding) {\n            var _offset = offset, _length = length, _encoding = encoding;\n            // Support both (string, offset, length, encoding)\n            // and the legacy (string, encoding, offset, length)\n            if (isFinite(offset)) {\n                if (!isFinite(length)) {\n                    encoding = length;\n                    length = undefined;\n                }\n            } else {  // legacy\n                var swap = encoding;\n                encoding = offset;\n                offset = length;\n                length = swap;\n            }\n\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferWrite.call(this, string, _offset, _length, _encoding);\n\n            offset = +offset || 0;\n            var remaining = this.length - offset;\n            if (!length) {\n                length = remaining;\n            } else {\n                length = +length;\n                if (length > remaining) {\n                    length = remaining;\n                }\n            }\n\n            if (string.length > 0 && (length < 0 || offset < 0))\n                throw new RangeError('attempt to write beyond buffer bounds');\n\n            // Otherwise, use our encoding method.\n            var buf = iconv.encode(string, encoding);\n            if (buf.length < length) length = buf.length;\n            buf.copy(this, offset, 0, length);\n            return length;\n\n            // TODO: Set _charsWritten.\n        }\n\n\n        // -- Readable -------------------------------------------------------------\n        if (iconv.supportsStreams) {\n            var Readable = require('stream').Readable;\n\n            original.ReadableSetEncoding = Readable.prototype.setEncoding;\n            Readable.prototype.setEncoding = function setEncoding(enc, options) {\n                // Use our own decoder, it has the same interface.\n                // We cannot use original function as it doesn't handle BOM-s.\n                this._readableState.decoder = iconv.getDecoder(enc, options);\n                this._readableState.encoding = enc;\n            }\n\n            Readable.prototype.collect = iconv._collect;\n        }\n    }\n\n    // Remove iconv-lite Node primitive extensions.\n    iconv.undoExtendNodeEncodings = function undoExtendNodeEncodings() {\n        if (!iconv.supportsNodeEncodingsExtension)\n            return;\n        if (!original)\n            throw new Error(\"require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.\")\n\n        delete Buffer.isNativeEncoding;\n\n        var SlowBuffer = require('buffer').SlowBuffer;\n\n        SlowBuffer.prototype.toString = original.SlowBufferToString;\n        SlowBuffer.prototype.write = original.SlowBufferWrite;\n\n        Buffer.isEncoding = original.BufferIsEncoding;\n        Buffer.byteLength = original.BufferByteLength;\n        Buffer.prototype.toString = original.BufferToString;\n        Buffer.prototype.write = original.BufferWrite;\n\n        if (iconv.supportsStreams) {\n            var Readable = require('stream').Readable;\n\n            Readable.prototype.setEncoding = original.ReadableSetEncoding;\n            delete Readable.prototype.collect;\n        }\n\n        original = undefined;\n    }\n}\n","\"use strict\";\n\n// Some environments don't have global Buffer (e.g. React Native).\n// Solution would be installing npm modules \"buffer\" and \"stream\" explicitly.\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n\n// Load extensions in Node. All of them are omitted in Browserify build via 'browser' field in package.json.\nvar nodeVer = typeof process !== 'undefined' && process.versions && process.versions.node;\nif (nodeVer) {\n\n    // Load streaming support in Node v0.10+\n    var nodeVerArr = nodeVer.split(\".\").map(Number);\n    if (nodeVerArr[0] > 0 || nodeVerArr[1] >= 10) {\n        require(\"./streams\")(iconv);\n    }\n\n    // Load Node primitive extensions.\n    require(\"./extend-node\")(iconv);\n}\n\nif (\"\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: javascript files use encoding different from utf-8. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n","\"use strict\";\n\nvar Buffer = require(\"buffer\").Buffer,\n    Transform = require(\"stream\").Transform;\n\n\n// == Exports ==================================================================\nmodule.exports = function(iconv) {\n    \n    // Additional Public API.\n    iconv.encodeStream = function encodeStream(encoding, options) {\n        return new IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options);\n    }\n\n    iconv.decodeStream = function decodeStream(encoding, options) {\n        return new IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options);\n    }\n\n    iconv.supportsStreams = true;\n\n\n    // Not published yet.\n    iconv.IconvLiteEncoderStream = IconvLiteEncoderStream;\n    iconv.IconvLiteDecoderStream = IconvLiteDecoderStream;\n    iconv._collect = IconvLiteDecoderStream.prototype.collect;\n};\n\n\n// == Encoder stream =======================================================\nfunction IconvLiteEncoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n    Transform.call(this, options);\n}\n\nIconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteEncoderStream }\n});\n\nIconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n    if (typeof chunk != 'string')\n        return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n    try {\n        var res = this.conv.write(chunk);\n        if (res && res.length) this.push(res);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteEncoderStream.prototype._flush = function(done) {\n    try {\n        var res = this.conv.end();\n        if (res && res.length) this.push(res);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteEncoderStream.prototype.collect = function(cb) {\n    var chunks = [];\n    this.on('error', cb);\n    this.on('data', function(chunk) { chunks.push(chunk); });\n    this.on('end', function() {\n        cb(null, Buffer.concat(chunks));\n    });\n    return this;\n}\n\n\n// == Decoder stream =======================================================\nfunction IconvLiteDecoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.encoding = this.encoding = 'utf8'; // We output strings.\n    Transform.call(this, options);\n}\n\nIconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteDecoderStream }\n});\n\nIconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n    if (!Buffer.isBuffer(chunk))\n        return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n    try {\n        var res = this.conv.write(chunk);\n        if (res && res.length) this.push(res, this.encoding);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteDecoderStream.prototype._flush = function(done) {\n    try {\n        var res = this.conv.end();\n        if (res && res.length) this.push(res, this.encoding);                \n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteDecoderStream.prototype.collect = function(cb) {\n    var res = '';\n    this.on('error', cb);\n    this.on('data', function(chunk) { res += chunk; });\n    this.on('end', function() {\n        cb(null, res);\n    });\n    return this;\n}\n\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","(function() {\n  var expandIPv6, ipaddr, ipv4Part, ipv4Regexes, ipv6Part, ipv6Regexes, matchCIDR, root, zoneIndex;\n\n  ipaddr = {};\n\n  root = this;\n\n  if ((typeof module !== \"undefined\" && module !== null) && module.exports) {\n    module.exports = ipaddr;\n  } else {\n    root['ipaddr'] = ipaddr;\n  }\n\n  matchCIDR = function(first, second, partSize, cidrBits) {\n    var part, shift;\n    if (first.length !== second.length) {\n      throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");\n    }\n    part = 0;\n    while (cidrBits > 0) {\n      shift = partSize - cidrBits;\n      if (shift < 0) {\n        shift = 0;\n      }\n      if (first[part] >> shift !== second[part] >> shift) {\n        return false;\n      }\n      cidrBits -= partSize;\n      part += 1;\n    }\n    return true;\n  };\n\n  ipaddr.subnetMatch = function(address, rangeList, defaultName) {\n    var k, len, rangeName, rangeSubnets, subnet;\n    if (defaultName == null) {\n      defaultName = 'unicast';\n    }\n    for (rangeName in rangeList) {\n      rangeSubnets = rangeList[rangeName];\n      if (rangeSubnets[0] && !(rangeSubnets[0] instanceof Array)) {\n        rangeSubnets = [rangeSubnets];\n      }\n      for (k = 0, len = rangeSubnets.length; k < len; k++) {\n        subnet = rangeSubnets[k];\n        if (address.kind() === subnet[0].kind()) {\n          if (address.match.apply(address, subnet)) {\n            return rangeName;\n          }\n        }\n      }\n    }\n    return defaultName;\n  };\n\n  ipaddr.IPv4 = (function() {\n    function IPv4(octets) {\n      var k, len, octet;\n      if (octets.length !== 4) {\n        throw new Error(\"ipaddr: ipv4 octet count should be 4\");\n      }\n      for (k = 0, len = octets.length; k < len; k++) {\n        octet = octets[k];\n        if (!((0 <= octet && octet <= 255))) {\n          throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");\n        }\n      }\n      this.octets = octets;\n    }\n\n    IPv4.prototype.kind = function() {\n      return 'ipv4';\n    };\n\n    IPv4.prototype.toString = function() {\n      return this.octets.join(\".\");\n    };\n\n    IPv4.prototype.toNormalizedString = function() {\n      return this.toString();\n    };\n\n    IPv4.prototype.toByteArray = function() {\n      return this.octets.slice(0);\n    };\n\n    IPv4.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv4') {\n        throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");\n      }\n      return matchCIDR(this.octets, other.octets, 8, cidrRange);\n    };\n\n    IPv4.prototype.SpecialRanges = {\n      unspecified: [[new IPv4([0, 0, 0, 0]), 8]],\n      broadcast: [[new IPv4([255, 255, 255, 255]), 32]],\n      multicast: [[new IPv4([224, 0, 0, 0]), 4]],\n      linkLocal: [[new IPv4([169, 254, 0, 0]), 16]],\n      loopback: [[new IPv4([127, 0, 0, 0]), 8]],\n      carrierGradeNat: [[new IPv4([100, 64, 0, 0]), 10]],\n      \"private\": [[new IPv4([10, 0, 0, 0]), 8], [new IPv4([172, 16, 0, 0]), 12], [new IPv4([192, 168, 0, 0]), 16]],\n      reserved: [[new IPv4([192, 0, 0, 0]), 24], [new IPv4([192, 0, 2, 0]), 24], [new IPv4([192, 88, 99, 0]), 24], [new IPv4([198, 51, 100, 0]), 24], [new IPv4([203, 0, 113, 0]), 24], [new IPv4([240, 0, 0, 0]), 4]]\n    };\n\n    IPv4.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv4.prototype.toIPv4MappedAddress = function() {\n      return ipaddr.IPv6.parse(\"::ffff:\" + (this.toString()));\n    };\n\n    IPv4.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, octet, stop, zeros, zerotable;\n      zerotable = {\n        0: 8,\n        128: 7,\n        192: 6,\n        224: 5,\n        240: 4,\n        248: 3,\n        252: 2,\n        254: 1,\n        255: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 3; k >= 0; i = k += -1) {\n        octet = this.octets[i];\n        if (octet in zerotable) {\n          zeros = zerotable[octet];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 8) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 32 - cidr;\n    };\n\n    return IPv4;\n\n  })();\n\n  ipv4Part = \"(0?\\\\d+|0x[a-f0-9]+)\";\n\n  ipv4Regexes = {\n    fourOctet: new RegExp(\"^\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"$\", 'i'),\n    longValue: new RegExp(\"^\" + ipv4Part + \"$\", 'i')\n  };\n\n  ipaddr.IPv4.parser = function(string) {\n    var match, parseIntAuto, part, shift, value;\n    parseIntAuto = function(string) {\n      if (string[0] === \"0\" && string[1] !== \"x\") {\n        return parseInt(string, 8);\n      } else {\n        return parseInt(string);\n      }\n    };\n    if (match = string.match(ipv4Regexes.fourOctet)) {\n      return (function() {\n        var k, len, ref, results;\n        ref = match.slice(1, 6);\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(parseIntAuto(part));\n        }\n        return results;\n      })();\n    } else if (match = string.match(ipv4Regexes.longValue)) {\n      value = parseIntAuto(match[1]);\n      if (value > 0xffffffff || value < 0) {\n        throw new Error(\"ipaddr: address outside defined range\");\n      }\n      return ((function() {\n        var k, results;\n        results = [];\n        for (shift = k = 0; k <= 24; shift = k += 8) {\n          results.push((value >> shift) & 0xff);\n        }\n        return results;\n      })()).reverse();\n    } else {\n      return null;\n    }\n  };\n\n  ipaddr.IPv6 = (function() {\n    function IPv6(parts, zoneId) {\n      var i, k, l, len, part, ref;\n      if (parts.length === 16) {\n        this.parts = [];\n        for (i = k = 0; k <= 14; i = k += 2) {\n          this.parts.push((parts[i] << 8) | parts[i + 1]);\n        }\n      } else if (parts.length === 8) {\n        this.parts = parts;\n      } else {\n        throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");\n      }\n      ref = this.parts;\n      for (l = 0, len = ref.length; l < len; l++) {\n        part = ref[l];\n        if (!((0 <= part && part <= 0xffff))) {\n          throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\");\n        }\n      }\n      if (zoneId) {\n        this.zoneId = zoneId;\n      }\n    }\n\n    IPv6.prototype.kind = function() {\n      return 'ipv6';\n    };\n\n    IPv6.prototype.toString = function() {\n      return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/, '::');\n    };\n\n    IPv6.prototype.toRFC5952String = function() {\n      var bestMatchIndex, bestMatchLength, match, regex, string;\n      regex = /((^|:)(0(:|$)){2,})/g;\n      string = this.toNormalizedString();\n      bestMatchIndex = 0;\n      bestMatchLength = -1;\n      while ((match = regex.exec(string))) {\n        if (match[0].length > bestMatchLength) {\n          bestMatchIndex = match.index;\n          bestMatchLength = match[0].length;\n        }\n      }\n      if (bestMatchLength < 0) {\n        return string;\n      }\n      return string.substring(0, bestMatchIndex) + '::' + string.substring(bestMatchIndex + bestMatchLength);\n    };\n\n    IPv6.prototype.toByteArray = function() {\n      var bytes, k, len, part, ref;\n      bytes = [];\n      ref = this.parts;\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        bytes.push(part >> 8);\n        bytes.push(part & 0xff);\n      }\n      return bytes;\n    };\n\n    IPv6.prototype.toNormalizedString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.toFixedLengthString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16).padStart(4, '0'));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv6') {\n        throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");\n      }\n      return matchCIDR(this.parts, other.parts, 16, cidrRange);\n    };\n\n    IPv6.prototype.SpecialRanges = {\n      unspecified: [new IPv6([0, 0, 0, 0, 0, 0, 0, 0]), 128],\n      linkLocal: [new IPv6([0xfe80, 0, 0, 0, 0, 0, 0, 0]), 10],\n      multicast: [new IPv6([0xff00, 0, 0, 0, 0, 0, 0, 0]), 8],\n      loopback: [new IPv6([0, 0, 0, 0, 0, 0, 0, 1]), 128],\n      uniqueLocal: [new IPv6([0xfc00, 0, 0, 0, 0, 0, 0, 0]), 7],\n      ipv4Mapped: [new IPv6([0, 0, 0, 0, 0, 0xffff, 0, 0]), 96],\n      rfc6145: [new IPv6([0, 0, 0, 0, 0xffff, 0, 0, 0]), 96],\n      rfc6052: [new IPv6([0x64, 0xff9b, 0, 0, 0, 0, 0, 0]), 96],\n      '6to4': [new IPv6([0x2002, 0, 0, 0, 0, 0, 0, 0]), 16],\n      teredo: [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 32],\n      reserved: [[new IPv6([0x2001, 0xdb8, 0, 0, 0, 0, 0, 0]), 32]]\n    };\n\n    IPv6.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv6.prototype.isIPv4MappedAddress = function() {\n      return this.range() === 'ipv4Mapped';\n    };\n\n    IPv6.prototype.toIPv4Address = function() {\n      var high, low, ref;\n      if (!this.isIPv4MappedAddress()) {\n        throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");\n      }\n      ref = this.parts.slice(-2), high = ref[0], low = ref[1];\n      return new ipaddr.IPv4([high >> 8, high & 0xff, low >> 8, low & 0xff]);\n    };\n\n    IPv6.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, part, stop, zeros, zerotable;\n      zerotable = {\n        0: 16,\n        32768: 15,\n        49152: 14,\n        57344: 13,\n        61440: 12,\n        63488: 11,\n        64512: 10,\n        65024: 9,\n        65280: 8,\n        65408: 7,\n        65472: 6,\n        65504: 5,\n        65520: 4,\n        65528: 3,\n        65532: 2,\n        65534: 1,\n        65535: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 7; k >= 0; i = k += -1) {\n        part = this.parts[i];\n        if (part in zerotable) {\n          zeros = zerotable[part];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 16) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 128 - cidr;\n    };\n\n    return IPv6;\n\n  })();\n\n  ipv6Part = \"(?:[0-9a-f]+::?)+\";\n\n  zoneIndex = \"%[0-9a-z]{1,}\";\n\n  ipv6Regexes = {\n    zoneIndex: new RegExp(zoneIndex, 'i'),\n    \"native\": new RegExp(\"^(::)?(\" + ipv6Part + \")?([0-9a-f]+)?(::)?(\" + zoneIndex + \")?$\", 'i'),\n    transitional: new RegExp((\"^((?:\" + ipv6Part + \")|(?:::)(?:\" + ipv6Part + \")?)\") + (ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part) + (\"(\" + zoneIndex + \")?$\"), 'i')\n  };\n\n  expandIPv6 = function(string, parts) {\n    var colonCount, lastColon, part, replacement, replacementCount, zoneId;\n    if (string.indexOf('::') !== string.lastIndexOf('::')) {\n      return null;\n    }\n    zoneId = (string.match(ipv6Regexes['zoneIndex']) || [])[0];\n    if (zoneId) {\n      zoneId = zoneId.substring(1);\n      string = string.replace(/%.+$/, '');\n    }\n    colonCount = 0;\n    lastColon = -1;\n    while ((lastColon = string.indexOf(':', lastColon + 1)) >= 0) {\n      colonCount++;\n    }\n    if (string.substr(0, 2) === '::') {\n      colonCount--;\n    }\n    if (string.substr(-2, 2) === '::') {\n      colonCount--;\n    }\n    if (colonCount > parts) {\n      return null;\n    }\n    replacementCount = parts - colonCount;\n    replacement = ':';\n    while (replacementCount--) {\n      replacement += '0:';\n    }\n    string = string.replace('::', replacement);\n    if (string[0] === ':') {\n      string = string.slice(1);\n    }\n    if (string[string.length - 1] === ':') {\n      string = string.slice(0, -1);\n    }\n    parts = (function() {\n      var k, len, ref, results;\n      ref = string.split(\":\");\n      results = [];\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        results.push(parseInt(part, 16));\n      }\n      return results;\n    })();\n    return {\n      parts: parts,\n      zoneId: zoneId\n    };\n  };\n\n  ipaddr.IPv6.parser = function(string) {\n    var addr, k, len, match, octet, octets, zoneId;\n    if (ipv6Regexes['native'].test(string)) {\n      return expandIPv6(string, 8);\n    } else if (match = string.match(ipv6Regexes['transitional'])) {\n      zoneId = match[6] || '';\n      addr = expandIPv6(match[1].slice(0, -1) + zoneId, 6);\n      if (addr.parts) {\n        octets = [parseInt(match[2]), parseInt(match[3]), parseInt(match[4]), parseInt(match[5])];\n        for (k = 0, len = octets.length; k < len; k++) {\n          octet = octets[k];\n          if (!((0 <= octet && octet <= 255))) {\n            return null;\n          }\n        }\n        addr.parts.push(octets[0] << 8 | octets[1]);\n        addr.parts.push(octets[2] << 8 | octets[3]);\n        return {\n          parts: addr.parts,\n          zoneId: addr.zoneId\n        };\n      }\n    }\n    return null;\n  };\n\n  ipaddr.IPv4.isIPv4 = ipaddr.IPv6.isIPv6 = function(string) {\n    return this.parser(string) !== null;\n  };\n\n  ipaddr.IPv4.isValid = function(string) {\n    var e;\n    try {\n      new this(this.parser(string));\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.isValidFourPartDecimal = function(string) {\n    if (ipaddr.IPv4.isValid(string) && string.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  ipaddr.IPv6.isValid = function(string) {\n    var addr, e;\n    if (typeof string === \"string\" && string.indexOf(\":\") === -1) {\n      return false;\n    }\n    try {\n      addr = this.parser(string);\n      new this(addr.parts, addr.zoneId);\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.parse = function(string) {\n    var parts;\n    parts = this.parser(string);\n    if (parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(parts);\n  };\n\n  ipaddr.IPv6.parse = function(string) {\n    var addr;\n    addr = this.parser(string);\n    if (addr.parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(addr.parts, addr.zoneId);\n  };\n\n  ipaddr.IPv4.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 32) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\");\n  };\n\n  ipaddr.IPv4.subnetMaskFromPrefixLength = function(prefix) {\n    var filledOctetCount, j, octets;\n    prefix = parseInt(prefix);\n    if (prefix < 0 || prefix > 32) {\n      throw new Error('ipaddr: invalid IPv4 prefix length');\n    }\n    octets = [0, 0, 0, 0];\n    j = 0;\n    filledOctetCount = Math.floor(prefix / 8);\n    while (j < filledOctetCount) {\n      octets[j] = 255;\n      j++;\n    }\n    if (filledOctetCount < 4) {\n      octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - (prefix % 8);\n    }\n    return new this(octets);\n  };\n\n  ipaddr.IPv4.broadcastAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv4.networkAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv6.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 128) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\");\n  };\n\n  ipaddr.isValid = function(string) {\n    return ipaddr.IPv6.isValid(string) || ipaddr.IPv4.isValid(string);\n  };\n\n  ipaddr.parse = function(string) {\n    if (ipaddr.IPv6.isValid(string)) {\n      return ipaddr.IPv6.parse(string);\n    } else if (ipaddr.IPv4.isValid(string)) {\n      return ipaddr.IPv4.parse(string);\n    } else {\n      throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\");\n    }\n  };\n\n  ipaddr.parseCIDR = function(string) {\n    var e;\n    try {\n      return ipaddr.IPv6.parseCIDR(string);\n    } catch (error1) {\n      e = error1;\n      try {\n        return ipaddr.IPv4.parseCIDR(string);\n      } catch (error1) {\n        e = error1;\n        throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\");\n      }\n    }\n  };\n\n  ipaddr.fromByteArray = function(bytes) {\n    var length;\n    length = bytes.length;\n    if (length === 4) {\n      return new ipaddr.IPv4(bytes);\n    } else if (length === 16) {\n      return new ipaddr.IPv6(bytes);\n    } else {\n      throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\");\n    }\n  };\n\n  ipaddr.process = function(string) {\n    var addr;\n    addr = this.parse(string);\n    if (addr.kind() === 'ipv6' && addr.isIPv4MappedAddress()) {\n      return addr.toIPv4Address();\n    } else {\n      return addr;\n    }\n  };\n\n}).call(this);\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","var json_stringify = require('./lib/stringify.js').stringify;\nvar json_parse     = require('./lib/parse.js');\n\nmodule.exports = function(options) {\n    return  {\n        parse: json_parse(options),\n        stringify: json_stringify\n    }\n};\n//create the default method members with no options applied for backwards compatibility\nmodule.exports.parse = json_parse();\nmodule.exports.stringify = json_stringify;\n","var BigNumber = null;\n\n// regexpxs extracted from\n// (c) BSD-3-Clause\n// https://github.com/fastify/secure-json-parse/graphs/contributors and https://github.com/hapijs/bourne/graphs/contributors\n\nconst suspectProtoRx = /(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])(?:p|\\\\u0070)(?:r|\\\\u0072)(?:o|\\\\u006[Ff])(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])/;\nconst suspectConstructorRx = /(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)/;\n\n/*\n    json_parse.js\n    2012-06-20\n\n    Public Domain.\n\n    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n\n    This file creates a json_parse function.\n    During create you can (optionally) specify some behavioural switches\n\n        require('json-bigint')(options)\n\n            The optional options parameter holds switches that drive certain\n            aspects of the parsing process:\n            * options.strict = true will warn about duplicate-key usage in the json.\n              The default (strict = false) will silently ignore those and overwrite\n              values for keys that are in duplicate use.\n\n    The resulting function follows this signature:\n        json_parse(text, reviver)\n            This method parses a JSON text to produce an object or array.\n            It can throw a SyntaxError exception.\n\n            The optional reviver parameter is a function that can filter and\n            transform the results. It receives each of the keys and values,\n            and its return value is used instead of the original value.\n            If it returns what it received, then the structure is not modified.\n            If it returns undefined then the member is deleted.\n\n            Example:\n\n            // Parse the text. Values that look like ISO date strings will\n            // be converted to Date objects.\n\n            myData = json_parse(text, function (key, value) {\n                var a;\n                if (typeof value === 'string') {\n                    a =\n/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n                    if (a) {\n                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n                            +a[5], +a[6]));\n                    }\n                }\n                return value;\n            });\n\n    This is a reference implementation. You are free to copy, modify, or\n    redistribute.\n\n    This code should be minified before deployment.\n    See http://javascript.crockford.com/jsmin.html\n\n    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n    NOT CONTROL.\n*/\n\n/*members \"\", \"\\\"\", \"\\/\", \"\\\\\", at, b, call, charAt, f, fromCharCode,\n    hasOwnProperty, message, n, name, prototype, push, r, t, text\n*/\n\nvar json_parse = function (options) {\n  'use strict';\n\n  // This is a function that can parse a JSON text, producing a JavaScript\n  // data structure. It is a simple, recursive descent parser. It does not use\n  // eval or regular expressions, so it can be used as a model for implementing\n  // a JSON parser in other languages.\n\n  // We are defining the function inside of another function to avoid creating\n  // global variables.\n\n  // Default options one can override by passing options to the parse()\n  var _options = {\n    strict: false, // not being strict means do not generate syntax errors for \"duplicate key\"\n    storeAsString: false, // toggles whether the values should be stored as BigNumber (default) or a string\n    alwaysParseAsBig: false, // toggles whether all numbers should be Big\n    useNativeBigInt: false, // toggles whether to use native BigInt instead of bignumber.js\n    protoAction: 'error',\n    constructorAction: 'error',\n  };\n\n  // If there are options, then use them to override the default _options\n  if (options !== undefined && options !== null) {\n    if (options.strict === true) {\n      _options.strict = true;\n    }\n    if (options.storeAsString === true) {\n      _options.storeAsString = true;\n    }\n    _options.alwaysParseAsBig =\n      options.alwaysParseAsBig === true ? options.alwaysParseAsBig : false;\n    _options.useNativeBigInt =\n      options.useNativeBigInt === true ? options.useNativeBigInt : false;\n\n    if (typeof options.constructorAction !== 'undefined') {\n      if (\n        options.constructorAction === 'error' ||\n        options.constructorAction === 'ignore' ||\n        options.constructorAction === 'preserve'\n      ) {\n        _options.constructorAction = options.constructorAction;\n      } else {\n        throw new Error(\n          `Incorrect value for constructorAction option, must be \"error\", \"ignore\" or undefined but passed ${options.constructorAction}`\n        );\n      }\n    }\n\n    if (typeof options.protoAction !== 'undefined') {\n      if (\n        options.protoAction === 'error' ||\n        options.protoAction === 'ignore' ||\n        options.protoAction === 'preserve'\n      ) {\n        _options.protoAction = options.protoAction;\n      } else {\n        throw new Error(\n          `Incorrect value for protoAction option, must be \"error\", \"ignore\" or undefined but passed ${options.protoAction}`\n        );\n      }\n    }\n  }\n\n  var at, // The index of the current character\n    ch, // The current character\n    escapee = {\n      '\"': '\"',\n      '\\\\': '\\\\',\n      '/': '/',\n      b: '\\b',\n      f: '\\f',\n      n: '\\n',\n      r: '\\r',\n      t: '\\t',\n    },\n    text,\n    error = function (m) {\n      // Call error when something is wrong.\n\n      throw {\n        name: 'SyntaxError',\n        message: m,\n        at: at,\n        text: text,\n      };\n    },\n    next = function (c) {\n      // If a c parameter is provided, verify that it matches the current character.\n\n      if (c && c !== ch) {\n        error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n      }\n\n      // Get the next character. When there are no more characters,\n      // return the empty string.\n\n      ch = text.charAt(at);\n      at += 1;\n      return ch;\n    },\n    number = function () {\n      // Parse a number value.\n\n      var number,\n        string = '';\n\n      if (ch === '-') {\n        string = '-';\n        next('-');\n      }\n      while (ch >= '0' && ch <= '9') {\n        string += ch;\n        next();\n      }\n      if (ch === '.') {\n        string += '.';\n        while (next() && ch >= '0' && ch <= '9') {\n          string += ch;\n        }\n      }\n      if (ch === 'e' || ch === 'E') {\n        string += ch;\n        next();\n        if (ch === '-' || ch === '+') {\n          string += ch;\n          next();\n        }\n        while (ch >= '0' && ch <= '9') {\n          string += ch;\n          next();\n        }\n      }\n      number = +string;\n      if (!isFinite(number)) {\n        error('Bad number');\n      } else {\n        if (BigNumber == null) BigNumber = require('bignumber.js');\n        //if (number > 9007199254740992 || number < -9007199254740992)\n        // Bignumber has stricter check: everything with length > 15 digits disallowed\n        if (string.length > 15)\n          return _options.storeAsString\n            ? string\n            : _options.useNativeBigInt\n            ? BigInt(string)\n            : new BigNumber(string);\n        else\n          return !_options.alwaysParseAsBig\n            ? number\n            : _options.useNativeBigInt\n            ? BigInt(number)\n            : new BigNumber(number);\n      }\n    },\n    string = function () {\n      // Parse a string value.\n\n      var hex,\n        i,\n        string = '',\n        uffff;\n\n      // When parsing for string values, we must look for \" and \\ characters.\n\n      if (ch === '\"') {\n        var startAt = at;\n        while (next()) {\n          if (ch === '\"') {\n            if (at - 1 > startAt) string += text.substring(startAt, at - 1);\n            next();\n            return string;\n          }\n          if (ch === '\\\\') {\n            if (at - 1 > startAt) string += text.substring(startAt, at - 1);\n            next();\n            if (ch === 'u') {\n              uffff = 0;\n              for (i = 0; i < 4; i += 1) {\n                hex = parseInt(next(), 16);\n                if (!isFinite(hex)) {\n                  break;\n                }\n                uffff = uffff * 16 + hex;\n              }\n              string += String.fromCharCode(uffff);\n            } else if (typeof escapee[ch] === 'string') {\n              string += escapee[ch];\n            } else {\n              break;\n            }\n            startAt = at;\n          }\n        }\n      }\n      error('Bad string');\n    },\n    white = function () {\n      // Skip whitespace.\n\n      while (ch && ch <= ' ') {\n        next();\n      }\n    },\n    word = function () {\n      // true, false, or null.\n\n      switch (ch) {\n        case 't':\n          next('t');\n          next('r');\n          next('u');\n          next('e');\n          return true;\n        case 'f':\n          next('f');\n          next('a');\n          next('l');\n          next('s');\n          next('e');\n          return false;\n        case 'n':\n          next('n');\n          next('u');\n          next('l');\n          next('l');\n          return null;\n      }\n      error(\"Unexpected '\" + ch + \"'\");\n    },\n    value, // Place holder for the value function.\n    array = function () {\n      // Parse an array value.\n\n      var array = [];\n\n      if (ch === '[') {\n        next('[');\n        white();\n        if (ch === ']') {\n          next(']');\n          return array; // empty array\n        }\n        while (ch) {\n          array.push(value());\n          white();\n          if (ch === ']') {\n            next(']');\n            return array;\n          }\n          next(',');\n          white();\n        }\n      }\n      error('Bad array');\n    },\n    object = function () {\n      // Parse an object value.\n\n      var key,\n        object = Object.create(null);\n\n      if (ch === '{') {\n        next('{');\n        white();\n        if (ch === '}') {\n          next('}');\n          return object; // empty object\n        }\n        while (ch) {\n          key = string();\n          white();\n          next(':');\n          if (\n            _options.strict === true &&\n            Object.hasOwnProperty.call(object, key)\n          ) {\n            error('Duplicate key \"' + key + '\"');\n          }\n\n          if (suspectProtoRx.test(key) === true) {\n            if (_options.protoAction === 'error') {\n              error('Object contains forbidden prototype property');\n            } else if (_options.protoAction === 'ignore') {\n              value();\n            } else {\n              object[key] = value();\n            }\n          } else if (suspectConstructorRx.test(key) === true) {\n            if (_options.constructorAction === 'error') {\n              error('Object contains forbidden constructor property');\n            } else if (_options.constructorAction === 'ignore') {\n              value();\n            } else {\n              object[key] = value();\n            }\n          } else {\n            object[key] = value();\n          }\n\n          white();\n          if (ch === '}') {\n            next('}');\n            return object;\n          }\n          next(',');\n          white();\n        }\n      }\n      error('Bad object');\n    };\n\n  value = function () {\n    // Parse a JSON value. It could be an object, an array, a string, a number,\n    // or a word.\n\n    white();\n    switch (ch) {\n      case '{':\n        return object();\n      case '[':\n        return array();\n      case '\"':\n        return string();\n      case '-':\n        return number();\n      default:\n        return ch >= '0' && ch <= '9' ? number() : word();\n    }\n  };\n\n  // Return the json_parse function. It will have access to all of the above\n  // functions and variables.\n\n  return function (source, reviver) {\n    var result;\n\n    text = source + '';\n    at = 0;\n    ch = ' ';\n    result = value();\n    white();\n    if (ch) {\n      error('Syntax error');\n    }\n\n    // If there is a reviver function, we recursively walk the new structure,\n    // passing each name/value pair to the reviver function for possible\n    // transformation, starting with a temporary root object that holds the result\n    // in an empty key. If there is not a reviver function, we simply return the\n    // result.\n\n    return typeof reviver === 'function'\n      ? (function walk(holder, key) {\n          var k,\n            v,\n            value = holder[key];\n          if (value && typeof value === 'object') {\n            Object.keys(value).forEach(function (k) {\n              v = walk(value, k);\n              if (v !== undefined) {\n                value[k] = v;\n              } else {\n                delete value[k];\n              }\n            });\n          }\n          return reviver.call(holder, key, value);\n        })({ '': result }, '')\n      : result;\n  };\n};\n\nmodule.exports = json_parse;\n","var BigNumber = require('bignumber.js');\n\n/*\n    json2.js\n    2013-05-26\n\n    Public Domain.\n\n    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n\n    See http://www.JSON.org/js.html\n\n\n    This code should be minified before deployment.\n    See http://javascript.crockford.com/jsmin.html\n\n    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n    NOT CONTROL.\n\n\n    This file creates a global JSON object containing two methods: stringify\n    and parse.\n\n        JSON.stringify(value, replacer, space)\n            value       any JavaScript value, usually an object or array.\n\n            replacer    an optional parameter that determines how object\n                        values are stringified for objects. It can be a\n                        function or an array of strings.\n\n            space       an optional parameter that specifies the indentation\n                        of nested structures. If it is omitted, the text will\n                        be packed without extra whitespace. If it is a number,\n                        it will specify the number of spaces to indent at each\n                        level. If it is a string (such as '\\t' or '&nbsp;'),\n                        it contains the characters used to indent at each level.\n\n            This method produces a JSON text from a JavaScript value.\n\n            When an object value is found, if the object contains a toJSON\n            method, its toJSON method will be called and the result will be\n            stringified. A toJSON method does not serialize: it returns the\n            value represented by the name/value pair that should be serialized,\n            or undefined if nothing should be serialized. The toJSON method\n            will be passed the key associated with the value, and this will be\n            bound to the value\n\n            For example, this would serialize Dates as ISO strings.\n\n                Date.prototype.toJSON = function (key) {\n                    function f(n) {\n                        // Format integers to have at least two digits.\n                        return n < 10 ? '0' + n : n;\n                    }\n\n                    return this.getUTCFullYear()   + '-' +\n                         f(this.getUTCMonth() + 1) + '-' +\n                         f(this.getUTCDate())      + 'T' +\n                         f(this.getUTCHours())     + ':' +\n                         f(this.getUTCMinutes())   + ':' +\n                         f(this.getUTCSeconds())   + 'Z';\n                };\n\n            You can provide an optional replacer method. It will be passed the\n            key and value of each member, with this bound to the containing\n            object. The value that is returned from your method will be\n            serialized. If your method returns undefined, then the member will\n            be excluded from the serialization.\n\n            If the replacer parameter is an array of strings, then it will be\n            used to select the members to be serialized. It filters the results\n            such that only members with keys listed in the replacer array are\n            stringified.\n\n            Values that do not have JSON representations, such as undefined or\n            functions, will not be serialized. Such values in objects will be\n            dropped; in arrays they will be replaced with null. You can use\n            a replacer function to replace those with JSON values.\n            JSON.stringify(undefined) returns undefined.\n\n            The optional space parameter produces a stringification of the\n            value that is filled with line breaks and indentation to make it\n            easier to read.\n\n            If the space parameter is a non-empty string, then that string will\n            be used for indentation. If the space parameter is a number, then\n            the indentation will be that many spaces.\n\n            Example:\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}]);\n            // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\\t');\n            // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n            text = JSON.stringify([new Date()], function (key, value) {\n                return this[key] instanceof Date ?\n                    'Date(' + this[key] + ')' : value;\n            });\n            // text is '[\"Date(---current time---)\"]'\n\n\n        JSON.parse(text, reviver)\n            This method parses a JSON text to produce an object or array.\n            It can throw a SyntaxError exception.\n\n            The optional reviver parameter is a function that can filter and\n            transform the results. It receives each of the keys and values,\n            and its return value is used instead of the original value.\n            If it returns what it received, then the structure is not modified.\n            If it returns undefined then the member is deleted.\n\n            Example:\n\n            // Parse the text. Values that look like ISO date strings will\n            // be converted to Date objects.\n\n            myData = JSON.parse(text, function (key, value) {\n                var a;\n                if (typeof value === 'string') {\n                    a =\n/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n                    if (a) {\n                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n                            +a[5], +a[6]));\n                    }\n                }\n                return value;\n            });\n\n            myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n                var d;\n                if (typeof value === 'string' &&\n                        value.slice(0, 5) === 'Date(' &&\n                        value.slice(-1) === ')') {\n                    d = new Date(value.slice(5, -1));\n                    if (d) {\n                        return d;\n                    }\n                }\n                return value;\n            });\n\n\n    This is a reference implementation. You are free to copy, modify, or\n    redistribute.\n*/\n\n/*jslint evil: true, regexp: true */\n\n/*members \"\", \"\\b\", \"\\t\", \"\\n\", \"\\f\", \"\\r\", \"\\\"\", JSON, \"\\\\\", apply,\n    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\n\n\n// Create a JSON object only if one does not already exist. We create the\n// methods in a closure to avoid creating global variables.\n\nvar JSON = module.exports;\n\n(function () {\n    'use strict';\n\n    function f(n) {\n        // Format integers to have at least two digits.\n        return n < 10 ? '0' + n : n;\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n\n    function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string'\n                ? c\n                : '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n\n\n    function str(key, holder) {\n\n// Produce a string from holder[key].\n\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            mind = gap,\n            partial,\n            value = holder[key],\n            isBigNumber = value != null && (value instanceof BigNumber || BigNumber.isBigNumber(value));\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n        if (value && typeof value === 'object' &&\n                typeof value.toJSON === 'function') {\n            value = value.toJSON(key);\n        }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n// What happens next depends on the value's type.\n\n        switch (typeof value) {\n        case 'string':\n            if (isBigNumber) {\n                return value;\n            } else {\n                return quote(value);\n            }\n\n        case 'number':\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n        case 'bigint':\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce 'null'. The case is included here in\n// the remote chance that this gets fixed someday.\n\n            return String(value);\n\n// If the type is 'object', we might be dealing with an object or an array or\n// null.\n\n        case 'object':\n\n// Due to a specification blunder in ECMAScript, typeof null is 'object',\n// so watch out for that case.\n\n            if (!value) {\n                return 'null';\n            }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n            gap += indent;\n            partial = [];\n\n// Is the value an array?\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n                v = partial.length === 0\n                    ? '[]'\n                    : gap\n                    ? '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']'\n                    : '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    if (typeof rep[i] === 'string') {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n                Object.keys(value).forEach(function(k) {\n                    var v = str(k, value);\n                    if (v) {\n                        partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                    }\n                });\n            }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n            v = partial.length === 0\n                ? '{}'\n                : gap\n                ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}'\n                : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n    if (typeof JSON.stringify !== 'function') {\n        JSON.stringify = function (value, replacer, space) {\n\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n            var i;\n            gap = '';\n            indent = '';\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                    typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n\n// Make a fake root object containing our value under the key of ''.\n// Return the result of stringifying the value.\n\n            return str('', {'': value});\n        };\n    }\n}());\n","var bufferEqual = require('buffer-equal-constant-time');\nvar Buffer = require('safe-buffer').Buffer;\nvar crypto = require('crypto');\nvar formatEcdsa = require('ecdsa-sig-formatter');\nvar util = require('util');\n\nvar MSG_INVALID_ALGORITHM = '\"%s\" is not a valid algorithm.\\n  Supported algorithms are:\\n  \"HS256\", \"HS384\", \"HS512\", \"RS256\", \"RS384\", \"RS512\", \"PS256\", \"PS384\", \"PS512\", \"ES256\", \"ES384\", \"ES512\" and \"none\".'\nvar MSG_INVALID_SECRET = 'secret must be a string or buffer';\nvar MSG_INVALID_VERIFIER_KEY = 'key must be a string or a buffer';\nvar MSG_INVALID_SIGNER_KEY = 'key must be a string, a buffer or an object';\n\nvar supportsKeyObjects = typeof crypto.createPublicKey === 'function';\nif (supportsKeyObjects) {\n  MSG_INVALID_VERIFIER_KEY += ' or a KeyObject';\n  MSG_INVALID_SECRET += 'or a KeyObject';\n}\n\nfunction checkIsPublicKey(key) {\n  if (Buffer.isBuffer(key)) {\n    return;\n  }\n\n  if (typeof key === 'string') {\n    return;\n  }\n\n  if (!supportsKeyObjects) {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key !== 'object') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key.type !== 'string') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key.asymmetricKeyType !== 'string') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n\n  if (typeof key.export !== 'function') {\n    throw typeError(MSG_INVALID_VERIFIER_KEY);\n  }\n};\n\nfunction checkIsPrivateKey(key) {\n  if (Buffer.isBuffer(key)) {\n    return;\n  }\n\n  if (typeof key === 'string') {\n    return;\n  }\n\n  if (typeof key === 'object') {\n    return;\n  }\n\n  throw typeError(MSG_INVALID_SIGNER_KEY);\n};\n\nfunction checkIsSecretKey(key) {\n  if (Buffer.isBuffer(key)) {\n    return;\n  }\n\n  if (typeof key === 'string') {\n    return key;\n  }\n\n  if (!supportsKeyObjects) {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n\n  if (typeof key !== 'object') {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n\n  if (key.type !== 'secret') {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n\n  if (typeof key.export !== 'function') {\n    throw typeError(MSG_INVALID_SECRET);\n  }\n}\n\nfunction fromBase64(base64) {\n  return base64\n    .replace(/=/g, '')\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_');\n}\n\nfunction toBase64(base64url) {\n  base64url = base64url.toString();\n\n  var padding = 4 - base64url.length % 4;\n  if (padding !== 4) {\n    for (var i = 0; i < padding; ++i) {\n      base64url += '=';\n    }\n  }\n\n  return base64url\n    .replace(/\\-/g, '+')\n    .replace(/_/g, '/');\n}\n\nfunction typeError(template) {\n  var args = [].slice.call(arguments, 1);\n  var errMsg = util.format.bind(util, template).apply(null, args);\n  return new TypeError(errMsg);\n}\n\nfunction bufferOrString(obj) {\n  return Buffer.isBuffer(obj) || typeof obj === 'string';\n}\n\nfunction normalizeInput(thing) {\n  if (!bufferOrString(thing))\n    thing = JSON.stringify(thing);\n  return thing;\n}\n\nfunction createHmacSigner(bits) {\n  return function sign(thing, secret) {\n    checkIsSecretKey(secret);\n    thing = normalizeInput(thing);\n    var hmac = crypto.createHmac('sha' + bits, secret);\n    var sig = (hmac.update(thing), hmac.digest('base64'))\n    return fromBase64(sig);\n  }\n}\n\nfunction createHmacVerifier(bits) {\n  return function verify(thing, signature, secret) {\n    var computedSig = createHmacSigner(bits)(thing, secret);\n    return bufferEqual(Buffer.from(signature), Buffer.from(computedSig));\n  }\n}\n\nfunction createKeySigner(bits) {\n return function sign(thing, privateKey) {\n    checkIsPrivateKey(privateKey);\n    thing = normalizeInput(thing);\n    // Even though we are specifying \"RSA\" here, this works with ECDSA\n    // keys as well.\n    var signer = crypto.createSign('RSA-SHA' + bits);\n    var sig = (signer.update(thing), signer.sign(privateKey, 'base64'));\n    return fromBase64(sig);\n  }\n}\n\nfunction createKeyVerifier(bits) {\n  return function verify(thing, signature, publicKey) {\n    checkIsPublicKey(publicKey);\n    thing = normalizeInput(thing);\n    signature = toBase64(signature);\n    var verifier = crypto.createVerify('RSA-SHA' + bits);\n    verifier.update(thing);\n    return verifier.verify(publicKey, signature, 'base64');\n  }\n}\n\nfunction createPSSKeySigner(bits) {\n  return function sign(thing, privateKey) {\n    checkIsPrivateKey(privateKey);\n    thing = normalizeInput(thing);\n    var signer = crypto.createSign('RSA-SHA' + bits);\n    var sig = (signer.update(thing), signer.sign({\n      key: privateKey,\n      padding: crypto.constants.RSA_PKCS1_PSS_PADDING,\n      saltLength: crypto.constants.RSA_PSS_SALTLEN_DIGEST\n    }, 'base64'));\n    return fromBase64(sig);\n  }\n}\n\nfunction createPSSKeyVerifier(bits) {\n  return function verify(thing, signature, publicKey) {\n    checkIsPublicKey(publicKey);\n    thing = normalizeInput(thing);\n    signature = toBase64(signature);\n    var verifier = crypto.createVerify('RSA-SHA' + bits);\n    verifier.update(thing);\n    return verifier.verify({\n      key: publicKey,\n      padding: crypto.constants.RSA_PKCS1_PSS_PADDING,\n      saltLength: crypto.constants.RSA_PSS_SALTLEN_DIGEST\n    }, signature, 'base64');\n  }\n}\n\nfunction createECDSASigner(bits) {\n  var inner = createKeySigner(bits);\n  return function sign() {\n    var signature = inner.apply(null, arguments);\n    signature = formatEcdsa.derToJose(signature, 'ES' + bits);\n    return signature;\n  };\n}\n\nfunction createECDSAVerifer(bits) {\n  var inner = createKeyVerifier(bits);\n  return function verify(thing, signature, publicKey) {\n    signature = formatEcdsa.joseToDer(signature, 'ES' + bits).toString('base64');\n    var result = inner(thing, signature, publicKey);\n    return result;\n  };\n}\n\nfunction createNoneSigner() {\n  return function sign() {\n    return '';\n  }\n}\n\nfunction createNoneVerifier() {\n  return function verify(thing, signature) {\n    return signature === '';\n  }\n}\n\nmodule.exports = function jwa(algorithm) {\n  var signerFactories = {\n    hs: createHmacSigner,\n    rs: createKeySigner,\n    ps: createPSSKeySigner,\n    es: createECDSASigner,\n    none: createNoneSigner,\n  }\n  var verifierFactories = {\n    hs: createHmacVerifier,\n    rs: createKeyVerifier,\n    ps: createPSSKeyVerifier,\n    es: createECDSAVerifer,\n    none: createNoneVerifier,\n  }\n  var match = algorithm.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);\n  if (!match)\n    throw typeError(MSG_INVALID_ALGORITHM, algorithm);\n  var algo = (match[1] || match[3]).toLowerCase();\n  var bits = match[2];\n\n  return {\n    sign: signerFactories[algo](bits),\n    verify: verifierFactories[algo](bits),\n  }\n};\n","/*global exports*/\nvar SignStream = require('./lib/sign-stream');\nvar VerifyStream = require('./lib/verify-stream');\n\nvar ALGORITHMS = [\n  'HS256', 'HS384', 'HS512',\n  'RS256', 'RS384', 'RS512',\n  'PS256', 'PS384', 'PS512',\n  'ES256', 'ES384', 'ES512'\n];\n\nexports.ALGORITHMS = ALGORITHMS;\nexports.sign = SignStream.sign;\nexports.verify = VerifyStream.verify;\nexports.decode = VerifyStream.decode;\nexports.isValid = VerifyStream.isValid;\nexports.createSign = function createSign(opts) {\n  return new SignStream(opts);\n};\nexports.createVerify = function createVerify(opts) {\n  return new VerifyStream(opts);\n};\n","/*global module, process*/\nvar Buffer = require('safe-buffer').Buffer;\nvar Stream = require('stream');\nvar util = require('util');\n\nfunction DataStream(data) {\n  this.buffer = null;\n  this.writable = true;\n  this.readable = true;\n\n  // No input\n  if (!data) {\n    this.buffer = Buffer.alloc(0);\n    return this;\n  }\n\n  // Stream\n  if (typeof data.pipe === 'function') {\n    this.buffer = Buffer.alloc(0);\n    data.pipe(this);\n    return this;\n  }\n\n  // Buffer or String\n  // or Object (assumedly a passworded key)\n  if (data.length || typeof data === 'object') {\n    this.buffer = data;\n    this.writable = false;\n    process.nextTick(function () {\n      this.emit('end', data);\n      this.readable = false;\n      this.emit('close');\n    }.bind(this));\n    return this;\n  }\n\n  throw new TypeError('Unexpected data type ('+ typeof data + ')');\n}\nutil.inherits(DataStream, Stream);\n\nDataStream.prototype.write = function write(data) {\n  this.buffer = Buffer.concat([this.buffer, Buffer.from(data)]);\n  this.emit('data', data);\n};\n\nDataStream.prototype.end = function end(data) {\n  if (data)\n    this.write(data);\n  this.emit('end', data);\n  this.emit('close');\n  this.writable = false;\n  this.readable = false;\n};\n\nmodule.exports = DataStream;\n","/*global module*/\nvar Buffer = require('safe-buffer').Buffer;\nvar DataStream = require('./data-stream');\nvar jwa = require('jwa');\nvar Stream = require('stream');\nvar toString = require('./tostring');\nvar util = require('util');\n\nfunction base64url(string, encoding) {\n  return Buffer\n    .from(string, encoding)\n    .toString('base64')\n    .replace(/=/g, '')\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_');\n}\n\nfunction jwsSecuredInput(header, payload, encoding) {\n  encoding = encoding || 'utf8';\n  var encodedHeader = base64url(toString(header), 'binary');\n  var encodedPayload = base64url(toString(payload), encoding);\n  return util.format('%s.%s', encodedHeader, encodedPayload);\n}\n\nfunction jwsSign(opts) {\n  var header = opts.header;\n  var payload = opts.payload;\n  var secretOrKey = opts.secret || opts.privateKey;\n  var encoding = opts.encoding;\n  var algo = jwa(header.alg);\n  var securedInput = jwsSecuredInput(header, payload, encoding);\n  var signature = algo.sign(securedInput, secretOrKey);\n  return util.format('%s.%s', securedInput, signature);\n}\n\nfunction SignStream(opts) {\n  var secret = opts.secret||opts.privateKey||opts.key;\n  var secretStream = new DataStream(secret);\n  this.readable = true;\n  this.header = opts.header;\n  this.encoding = opts.encoding;\n  this.secret = this.privateKey = this.key = secretStream;\n  this.payload = new DataStream(opts.payload);\n  this.secret.once('close', function () {\n    if (!this.payload.writable && this.readable)\n      this.sign();\n  }.bind(this));\n\n  this.payload.once('close', function () {\n    if (!this.secret.writable && this.readable)\n      this.sign();\n  }.bind(this));\n}\nutil.inherits(SignStream, Stream);\n\nSignStream.prototype.sign = function sign() {\n  try {\n    var signature = jwsSign({\n      header: this.header,\n      payload: this.payload.buffer,\n      secret: this.secret.buffer,\n      encoding: this.encoding\n    });\n    this.emit('done', signature);\n    this.emit('data', signature);\n    this.emit('end');\n    this.readable = false;\n    return signature;\n  } catch (e) {\n    this.readable = false;\n    this.emit('error', e);\n    this.emit('close');\n  }\n};\n\nSignStream.sign = jwsSign;\n\nmodule.exports = SignStream;\n","/*global module*/\nvar Buffer = require('buffer').Buffer;\n\nmodule.exports = function toString(obj) {\n  if (typeof obj === 'string')\n    return obj;\n  if (typeof obj === 'number' || Buffer.isBuffer(obj))\n    return obj.toString();\n  return JSON.stringify(obj);\n};\n","/*global module*/\nvar Buffer = require('safe-buffer').Buffer;\nvar DataStream = require('./data-stream');\nvar jwa = require('jwa');\nvar Stream = require('stream');\nvar toString = require('./tostring');\nvar util = require('util');\nvar JWS_REGEX = /^[a-zA-Z0-9\\-_]+?\\.[a-zA-Z0-9\\-_]+?\\.([a-zA-Z0-9\\-_]+)?$/;\n\nfunction isObject(thing) {\n  return Object.prototype.toString.call(thing) === '[object Object]';\n}\n\nfunction safeJsonParse(thing) {\n  if (isObject(thing))\n    return thing;\n  try { return JSON.parse(thing); }\n  catch (e) { return undefined; }\n}\n\nfunction headerFromJWS(jwsSig) {\n  var encodedHeader = jwsSig.split('.', 1)[0];\n  return safeJsonParse(Buffer.from(encodedHeader, 'base64').toString('binary'));\n}\n\nfunction securedInputFromJWS(jwsSig) {\n  return jwsSig.split('.', 2).join('.');\n}\n\nfunction signatureFromJWS(jwsSig) {\n  return jwsSig.split('.')[2];\n}\n\nfunction payloadFromJWS(jwsSig, encoding) {\n  encoding = encoding || 'utf8';\n  var payload = jwsSig.split('.')[1];\n  return Buffer.from(payload, 'base64').toString(encoding);\n}\n\nfunction isValidJws(string) {\n  return JWS_REGEX.test(string) && !!headerFromJWS(string);\n}\n\nfunction jwsVerify(jwsSig, algorithm, secretOrKey) {\n  if (!algorithm) {\n    var err = new Error(\"Missing algorithm parameter for jws.verify\");\n    err.code = \"MISSING_ALGORITHM\";\n    throw err;\n  }\n  jwsSig = toString(jwsSig);\n  var signature = signatureFromJWS(jwsSig);\n  var securedInput = securedInputFromJWS(jwsSig);\n  var algo = jwa(algorithm);\n  return algo.verify(securedInput, signature, secretOrKey);\n}\n\nfunction jwsDecode(jwsSig, opts) {\n  opts = opts || {};\n  jwsSig = toString(jwsSig);\n\n  if (!isValidJws(jwsSig))\n    return null;\n\n  var header = headerFromJWS(jwsSig);\n\n  if (!header)\n    return null;\n\n  var payload = payloadFromJWS(jwsSig);\n  if (header.typ === 'JWT' || opts.json)\n    payload = JSON.parse(payload, opts.encoding);\n\n  return {\n    header: header,\n    payload: payload,\n    signature: signatureFromJWS(jwsSig)\n  };\n}\n\nfunction VerifyStream(opts) {\n  opts = opts || {};\n  var secretOrKey = opts.secret||opts.publicKey||opts.key;\n  var secretStream = new DataStream(secretOrKey);\n  this.readable = true;\n  this.algorithm = opts.algorithm;\n  this.encoding = opts.encoding;\n  this.secret = this.publicKey = this.key = secretStream;\n  this.signature = new DataStream(opts.signature);\n  this.secret.once('close', function () {\n    if (!this.signature.writable && this.readable)\n      this.verify();\n  }.bind(this));\n\n  this.signature.once('close', function () {\n    if (!this.secret.writable && this.readable)\n      this.verify();\n  }.bind(this));\n}\nutil.inherits(VerifyStream, Stream);\nVerifyStream.prototype.verify = function verify() {\n  try {\n    var valid = jwsVerify(this.signature.buffer, this.algorithm, this.key.buffer);\n    var obj = jwsDecode(this.signature.buffer, this.encoding);\n    this.emit('done', valid, obj);\n    this.emit('data', valid);\n    this.emit('end');\n    this.readable = false;\n    return valid;\n  } catch (e) {\n    this.readable = false;\n    this.emit('error', e);\n    this.emit('close');\n  }\n};\n\nVerifyStream.decode = jwsDecode;\nVerifyStream.isValid = isValidJws;\nVerifyStream.verify = jwsVerify;\n\nmodule.exports = VerifyStream;\n","/*!\n * media-typer\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 2616 sec 3.7\n *\n * parameter     = token \"=\" ( token | quoted-string )\n * token         = 1*<any CHAR except CTLs or separators>\n * separators    = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n *               | \",\" | \";\" | \":\" | \"\\\" | <\">\n *               | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n *               | \"{\" | \"}\" | SP | HT\n * quoted-string = ( <\"> *(qdtext | quoted-pair ) <\"> )\n * qdtext        = <any TEXT except <\">>\n * quoted-pair   = \"\\\" CHAR\n * CHAR          = <any US-ASCII character (octets 0 - 127)>\n * TEXT          = <any OCTET except CTLs, but including LWS>\n * LWS           = [CRLF] 1*( SP | HT )\n * CRLF          = CR LF\n * CR            = <US-ASCII CR, carriage return (13)>\n * LF            = <US-ASCII LF, linefeed (10)>\n * SP            = <US-ASCII SP, space (32)>\n * SHT           = <US-ASCII HT, horizontal-tab (9)>\n * CTL           = <any US-ASCII control character (octets 0 - 31) and DEL (127)>\n * OCTET         = <any 8-bit sequence of data>\n */\nvar paramRegExp = /; *([!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) *= *(\"(?:[ !\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u0020-\\u007e])*\"|[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) */g;\nvar textRegExp = /^[\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar tokenRegExp = /^[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 2616\n *\n * quoted-pair = \"\\\" CHAR\n * CHAR        = <any US-ASCII character (octets 0 - 127)>\n */\nvar qescRegExp = /\\\\([\\u0000-\\u007f])/g;\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 2616\n */\nvar quoteRegExp = /([\\\\\"])/g;\n\n/**\n * RegExp to match type in RFC 6838\n *\n * type-name = restricted-name\n * subtype-name = restricted-name\n * restricted-name = restricted-name-first *126restricted-name-chars\n * restricted-name-first  = ALPHA / DIGIT\n * restricted-name-chars  = ALPHA / DIGIT / \"!\" / \"#\" /\n *                          \"$\" / \"&\" / \"-\" / \"^\" / \"_\"\n * restricted-name-chars =/ \".\" ; Characters before first dot always\n *                              ; specify a facet name\n * restricted-name-chars =/ \"+\" ; Characters after last plus always\n *                              ; specify a structured syntax suffix\n * ALPHA =  %x41-5A / %x61-7A   ; A-Z / a-z\n * DIGIT =  %x30-39             ; 0-9\n */\nvar subtypeNameRegExp = /^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/\nvar typeNameRegExp = /^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/\nvar typeRegExp = /^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;\n\n/**\n * Module exports.\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @api public\n */\n\nfunction format(obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var subtype = obj.subtype\n  var suffix = obj.suffix\n  var type = obj.type\n\n  if (!type || !typeNameRegExp.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  if (!subtype || !subtypeNameRegExp.test(subtype)) {\n    throw new TypeError('invalid subtype')\n  }\n\n  // format as type/subtype\n  var string = type + '/' + subtype\n\n  // append +suffix\n  if (suffix) {\n    if (!typeNameRegExp.test(suffix)) {\n      throw new TypeError('invalid suffix')\n    }\n\n    string += '+' + suffix\n  }\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!tokenRegExp.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @api public\n */\n\nfunction parse(string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  if (typeof string === 'object') {\n    string = getcontenttype(string)\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = string.indexOf(';')\n  var type = index !== -1\n    ? string.substr(0, index)\n    : string\n\n  var key\n  var match\n  var obj = splitType(type)\n  var params = {}\n  var value\n\n  paramRegExp.lastIndex = index\n\n  while (match = paramRegExp.exec(string)) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .substr(1, value.length - 2)\n        .replace(qescRegExp, '$1')\n    }\n\n    params[key] = value\n  }\n\n  if (index !== -1 && index !== string.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  obj.parameters = params\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @api private\n */\n\nfunction getcontenttype(obj) {\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    return obj.getHeader('content-type')\n  }\n\n  if (typeof obj.headers === 'object') {\n    // req-like\n    return obj.headers && obj.headers['content-type']\n  }\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @api private\n */\n\nfunction qstring(val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (tokenRegExp.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !textRegExp.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(quoteRegExp, '\\\\$1') + '\"'\n}\n\n/**\n * Simply \"type/subtype+siffx\" into parts.\n *\n * @param {string} string\n * @return {Object}\n * @api private\n */\n\nfunction splitType(string) {\n  var match = typeRegExp.exec(string.toLowerCase())\n\n  if (!match) {\n    throw new TypeError('invalid media type')\n  }\n\n  var type = match[1]\n  var subtype = match[2]\n  var suffix\n\n  // suffix after last +\n  var index = subtype.lastIndexOf('+')\n  if (index !== -1) {\n    suffix = subtype.substr(index + 1)\n    subtype = subtype.substr(0, index)\n  }\n\n  var obj = {\n    type: type,\n    subtype: subtype,\n    suffix: suffix\n  }\n\n  return obj\n}\n","/*!\n * merge-descriptors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = merge\n\n/**\n * Module variables.\n * @private\n */\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\n/**\n * Merge the property descriptors of `src` into `dest`\n *\n * @param {object} dest Object to add descriptors to\n * @param {object} src Object to clone descriptors from\n * @param {boolean} [redefine=true] Redefine `dest` properties with `src` properties\n * @returns {object} Reference to dest\n * @public\n */\n\nfunction merge(dest, src, redefine) {\n  if (!dest) {\n    throw new TypeError('argument dest is required')\n  }\n\n  if (!src) {\n    throw new TypeError('argument src is required')\n  }\n\n  if (redefine === undefined) {\n    // Default to true\n    redefine = true\n  }\n\n  Object.getOwnPropertyNames(src).forEach(function forEachOwnPropertyName(name) {\n    if (!redefine && hasOwnProperty.call(dest, name)) {\n      // Skip desriptor\n      return\n    }\n\n    // Copy descriptor\n    var descriptor = Object.getOwnPropertyDescriptor(src, name)\n    Object.defineProperty(dest, name, descriptor)\n  })\n\n  return dest\n}\n","/*!\n * methods\n * Copyright(c) 2013-2014 TJ Holowaychuk\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar http = require('http');\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = getCurrentNodeMethods() || getBasicNodeMethods();\n\n/**\n * Get the current Node.js methods.\n * @private\n */\n\nfunction getCurrentNodeMethods() {\n  return http.METHODS && http.METHODS.map(function lowerCaseMethod(method) {\n    return method.toLowerCase();\n  });\n}\n\n/**\n * Get the \"basic\" Node.js methods, a snapshot from Node.js 0.10.\n * @private\n */\n\nfunction getBasicNodeMethods() {\n  return [\n    'get',\n    'post',\n    'put',\n    'head',\n    'delete',\n    'options',\n    'trace',\n    'copy',\n    'lock',\n    'mkcol',\n    'move',\n    'purge',\n    'propfind',\n    'proppatch',\n    'unlock',\n    'report',\n    'mkactivity',\n    'checkout',\n    'merge',\n    'm-search',\n    'notify',\n    'subscribe',\n    'unsubscribe',\n    'patch',\n    'search',\n    'connect'\n  ];\n}\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","var path = require('path');\nvar fs = require('fs');\n\nfunction Mime() {\n  // Map of extension -> mime type\n  this.types = Object.create(null);\n\n  // Map of mime type -> extension\n  this.extensions = Object.create(null);\n}\n\n/**\n * Define mimetype -> extension mappings.  Each key is a mime-type that maps\n * to an array of extensions associated with the type.  The first extension is\n * used as the default extension for the type.\n *\n * e.g. mime.define({'audio/ogg', ['oga', 'ogg', 'spx']});\n *\n * @param map (Object) type definitions\n */\nMime.prototype.define = function (map) {\n  for (var type in map) {\n    var exts = map[type];\n    for (var i = 0; i < exts.length; i++) {\n      if (process.env.DEBUG_MIME && this.types[exts[i]]) {\n        console.warn((this._loading || \"define()\").replace(/.*\\//, ''), 'changes \"' + exts[i] + '\" extension type from ' +\n          this.types[exts[i]] + ' to ' + type);\n      }\n\n      this.types[exts[i]] = type;\n    }\n\n    // Default extension is the first one we encounter\n    if (!this.extensions[type]) {\n      this.extensions[type] = exts[0];\n    }\n  }\n};\n\n/**\n * Load an Apache2-style \".types\" file\n *\n * This may be called multiple times (it's expected).  Where files declare\n * overlapping types/extensions, the last file wins.\n *\n * @param file (String) path of file to load.\n */\nMime.prototype.load = function(file) {\n  this._loading = file;\n  // Read file and split into lines\n  var map = {},\n      content = fs.readFileSync(file, 'ascii'),\n      lines = content.split(/[\\r\\n]+/);\n\n  lines.forEach(function(line) {\n    // Clean up whitespace/comments, and split into fields\n    var fields = line.replace(/\\s*#.*|^\\s*|\\s*$/g, '').split(/\\s+/);\n    map[fields.shift()] = fields;\n  });\n\n  this.define(map);\n\n  this._loading = null;\n};\n\n/**\n * Lookup a mime type based on extension\n */\nMime.prototype.lookup = function(path, fallback) {\n  var ext = path.replace(/^.*[\\.\\/\\\\]/, '').toLowerCase();\n\n  return this.types[ext] || fallback || this.default_type;\n};\n\n/**\n * Return file extension associated with a mime type\n */\nMime.prototype.extension = function(mimeType) {\n  var type = mimeType.match(/^\\s*([^;\\s]*)(?:;|\\s|$)/)[1].toLowerCase();\n  return this.extensions[type];\n};\n\n// Default instance\nvar mime = new Mime();\n\n// Define built-in types\nmime.define(require('./types.json'));\n\n// Default type\nmime.default_type = mime.lookup('bin');\n\n//\n// Additional API specific to the default instance\n//\n\nmime.Mime = Mime;\n\n/**\n * Lookup a charset based on mime type.\n */\nmime.charsets = {\n  lookup: function(mimeType, fallback) {\n    // Assume text types are utf8\n    return (/^text\\/|^application\\/(javascript|json)/).test(mimeType) ? 'UTF-8' : fallback;\n  }\n};\n\nmodule.exports = mime;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\nvar preferredCharsets = require('./lib/charset')\nvar preferredEncodings = require('./lib/encoding')\nvar preferredLanguages = require('./lib/language')\nvar preferredMediaTypes = require('./lib/mediaType')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Negotiator;\nmodule.exports.Negotiator = Negotiator;\n\n/**\n * Create a Negotiator instance from a request.\n * @param {object} request\n * @public\n */\n\nfunction Negotiator(request) {\n  if (!(this instanceof Negotiator)) {\n    return new Negotiator(request);\n  }\n\n  this.request = request;\n}\n\nNegotiator.prototype.charset = function charset(available) {\n  var set = this.charsets(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.charsets = function charsets(available) {\n  return preferredCharsets(this.request.headers['accept-charset'], available);\n};\n\nNegotiator.prototype.encoding = function encoding(available) {\n  var set = this.encodings(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.encodings = function encodings(available) {\n  return preferredEncodings(this.request.headers['accept-encoding'], available);\n};\n\nNegotiator.prototype.language = function language(available) {\n  var set = this.languages(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.languages = function languages(available) {\n  return preferredLanguages(this.request.headers['accept-language'], available);\n};\n\nNegotiator.prototype.mediaType = function mediaType(available) {\n  var set = this.mediaTypes(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.mediaTypes = function mediaTypes(available) {\n  return preferredMediaTypes(this.request.headers.accept, available);\n};\n\n// Backwards compatibility\nNegotiator.prototype.preferredCharset = Negotiator.prototype.charset;\nNegotiator.prototype.preferredCharsets = Negotiator.prototype.charsets;\nNegotiator.prototype.preferredEncoding = Negotiator.prototype.encoding;\nNegotiator.prototype.preferredEncodings = Negotiator.prototype.encodings;\nNegotiator.prototype.preferredLanguage = Negotiator.prototype.language;\nNegotiator.prototype.preferredLanguages = Negotiator.prototype.languages;\nNegotiator.prototype.preferredMediaType = Negotiator.prototype.mediaType;\nNegotiator.prototype.preferredMediaTypes = Negotiator.prototype.mediaTypes;\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredCharsets;\nmodule.exports.preferredCharsets = preferredCharsets;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleCharsetRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Charset header.\n * @private\n */\n\nfunction parseAcceptCharset(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var charset = parseCharset(accepts[i].trim(), i);\n\n    if (charset) {\n      accepts[j++] = charset;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a charset from the Accept-Charset header.\n * @private\n */\n\nfunction parseCharset(str, i) {\n  var match = simpleCharsetRegExp.exec(str);\n  if (!match) return null;\n\n  var charset = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    charset: charset,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a charset.\n * @private\n */\n\nfunction getCharsetPriority(charset, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(charset, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the charset.\n * @private\n */\n\nfunction specify(charset, spec, index) {\n  var s = 0;\n  if(spec.charset.toLowerCase() === charset.toLowerCase()){\n    s |= 1;\n  } else if (spec.charset !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n}\n\n/**\n * Get the preferred charsets from an Accept-Charset header.\n * @public\n */\n\nfunction preferredCharsets(accept, provided) {\n  // RFC 2616 sec 14.2: no header = *\n  var accepts = parseAcceptCharset(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all charsets\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullCharset);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getCharsetPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted charsets\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getCharset(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full charset string.\n * @private\n */\n\nfunction getFullCharset(spec) {\n  return spec.charset;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredEncodings;\nmodule.exports.preferredEncodings = preferredEncodings;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleEncodingRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Encoding header.\n * @private\n */\n\nfunction parseAcceptEncoding(accept) {\n  var accepts = accept.split(',');\n  var hasIdentity = false;\n  var minQuality = 1;\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var encoding = parseEncoding(accepts[i].trim(), i);\n\n    if (encoding) {\n      accepts[j++] = encoding;\n      hasIdentity = hasIdentity || specify('identity', encoding);\n      minQuality = Math.min(minQuality, encoding.q || 1);\n    }\n  }\n\n  if (!hasIdentity) {\n    /*\n     * If identity doesn't explicitly appear in the accept-encoding header,\n     * it's added to the list of acceptable encoding with the lowest q\n     */\n    accepts[j++] = {\n      encoding: 'identity',\n      q: minQuality,\n      i: i\n    };\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse an encoding from the Accept-Encoding header.\n * @private\n */\n\nfunction parseEncoding(str, i) {\n  var match = simpleEncodingRegExp.exec(str);\n  if (!match) return null;\n\n  var encoding = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';');\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    encoding: encoding,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of an encoding.\n * @private\n */\n\nfunction getEncodingPriority(encoding, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(encoding, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the encoding.\n * @private\n */\n\nfunction specify(encoding, spec, index) {\n  var s = 0;\n  if(spec.encoding.toLowerCase() === encoding.toLowerCase()){\n    s |= 1;\n  } else if (spec.encoding !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred encodings from an Accept-Encoding header.\n * @public\n */\n\nfunction preferredEncodings(accept, provided) {\n  var accepts = parseAcceptEncoding(accept || '');\n\n  if (!provided) {\n    // sorted list of all encodings\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullEncoding);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getEncodingPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted encodings\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getEncoding(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full encoding string.\n * @private\n */\n\nfunction getFullEncoding(spec) {\n  return spec.encoding;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredLanguages;\nmodule.exports.preferredLanguages = preferredLanguages;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleLanguageRegExp = /^\\s*([^\\s\\-;]+)(?:-([^\\s;]+))?\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Language header.\n * @private\n */\n\nfunction parseAcceptLanguage(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var language = parseLanguage(accepts[i].trim(), i);\n\n    if (language) {\n      accepts[j++] = language;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a language from the Accept-Language header.\n * @private\n */\n\nfunction parseLanguage(str, i) {\n  var match = simpleLanguageRegExp.exec(str);\n  if (!match) return null;\n\n  var prefix = match[1]\n  var suffix = match[2]\n  var full = prefix\n\n  if (suffix) full += \"-\" + suffix;\n\n  var q = 1;\n  if (match[3]) {\n    var params = match[3].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].split('=');\n      if (p[0] === 'q') q = parseFloat(p[1]);\n    }\n  }\n\n  return {\n    prefix: prefix,\n    suffix: suffix,\n    q: q,\n    i: i,\n    full: full\n  };\n}\n\n/**\n * Get the priority of a language.\n * @private\n */\n\nfunction getLanguagePriority(language, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(language, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the language.\n * @private\n */\n\nfunction specify(language, spec, index) {\n  var p = parseLanguage(language)\n  if (!p) return null;\n  var s = 0;\n  if(spec.full.toLowerCase() === p.full.toLowerCase()){\n    s |= 4;\n  } else if (spec.prefix.toLowerCase() === p.full.toLowerCase()) {\n    s |= 2;\n  } else if (spec.full.toLowerCase() === p.prefix.toLowerCase()) {\n    s |= 1;\n  } else if (spec.full !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred languages from an Accept-Language header.\n * @public\n */\n\nfunction preferredLanguages(accept, provided) {\n  // RFC 2616 sec 14.4: no header = *\n  var accepts = parseAcceptLanguage(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all languages\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullLanguage);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getLanguagePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted languages\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getLanguage(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full language string.\n * @private\n */\n\nfunction getFullLanguage(spec) {\n  return spec.full;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredMediaTypes;\nmodule.exports.preferredMediaTypes = preferredMediaTypes;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleMediaTypeRegExp = /^\\s*([^\\s\\/;]+)\\/([^;\\s]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept header.\n * @private\n */\n\nfunction parseAccept(accept) {\n  var accepts = splitMediaTypes(accept);\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var mediaType = parseMediaType(accepts[i].trim(), i);\n\n    if (mediaType) {\n      accepts[j++] = mediaType;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a media type from the Accept header.\n * @private\n */\n\nfunction parseMediaType(str, i) {\n  var match = simpleMediaTypeRegExp.exec(str);\n  if (!match) return null;\n\n  var params = Object.create(null);\n  var q = 1;\n  var subtype = match[2];\n  var type = match[1];\n\n  if (match[3]) {\n    var kvps = splitParameters(match[3]).map(splitKeyValuePair);\n\n    for (var j = 0; j < kvps.length; j++) {\n      var pair = kvps[j];\n      var key = pair[0].toLowerCase();\n      var val = pair[1];\n\n      // get the value, unwrapping quotes\n      var value = val && val[0] === '\"' && val[val.length - 1] === '\"'\n        ? val.substr(1, val.length - 2)\n        : val;\n\n      if (key === 'q') {\n        q = parseFloat(value);\n        break;\n      }\n\n      // store parameter\n      params[key] = value;\n    }\n  }\n\n  return {\n    type: type,\n    subtype: subtype,\n    params: params,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a media type.\n * @private\n */\n\nfunction getMediaTypePriority(type, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(type, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the media type.\n * @private\n */\n\nfunction specify(type, spec, index) {\n  var p = parseMediaType(type);\n  var s = 0;\n\n  if (!p) {\n    return null;\n  }\n\n  if(spec.type.toLowerCase() == p.type.toLowerCase()) {\n    s |= 4\n  } else if(spec.type != '*') {\n    return null;\n  }\n\n  if(spec.subtype.toLowerCase() == p.subtype.toLowerCase()) {\n    s |= 2\n  } else if(spec.subtype != '*') {\n    return null;\n  }\n\n  var keys = Object.keys(spec.params);\n  if (keys.length > 0) {\n    if (keys.every(function (k) {\n      return spec.params[k] == '*' || (spec.params[k] || '').toLowerCase() == (p.params[k] || '').toLowerCase();\n    })) {\n      s |= 1\n    } else {\n      return null\n    }\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s,\n  }\n}\n\n/**\n * Get the preferred media types from an Accept header.\n * @public\n */\n\nfunction preferredMediaTypes(accept, provided) {\n  // RFC 2616 sec 14.2: no header = */*\n  var accepts = parseAccept(accept === undefined ? '*/*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all types\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullType);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getMediaTypePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted types\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getType(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full type string.\n * @private\n */\n\nfunction getFullType(spec) {\n  return spec.type + '/' + spec.subtype;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n\n/**\n * Count the number of quotes in a string.\n * @private\n */\n\nfunction quoteCount(string) {\n  var count = 0;\n  var index = 0;\n\n  while ((index = string.indexOf('\"', index)) !== -1) {\n    count++;\n    index++;\n  }\n\n  return count;\n}\n\n/**\n * Split a key value pair.\n * @private\n */\n\nfunction splitKeyValuePair(str) {\n  var index = str.indexOf('=');\n  var key;\n  var val;\n\n  if (index === -1) {\n    key = str;\n  } else {\n    key = str.substr(0, index);\n    val = str.substr(index + 1);\n  }\n\n  return [key, val];\n}\n\n/**\n * Split an Accept header into media types.\n * @private\n */\n\nfunction splitMediaTypes(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 1, j = 0; i < accepts.length; i++) {\n    if (quoteCount(accepts[j]) % 2 == 0) {\n      accepts[++j] = accepts[i];\n    } else {\n      accepts[j] += ',' + accepts[i];\n    }\n  }\n\n  // trim accepts\n  accepts.length = j + 1;\n\n  return accepts;\n}\n\n/**\n * Split a string of parameters.\n * @private\n */\n\nfunction splitParameters(str) {\n  var parameters = str.split(';');\n\n  for (var i = 1, j = 0; i < parameters.length; i++) {\n    if (quoteCount(parameters[j]) % 2 == 0) {\n      parameters[++j] = parameters[i];\n    } else {\n      parameters[j] += ';' + parameters[i];\n    }\n  }\n\n  // trim parameters\n  parameters.length = j + 1;\n\n  for (var i = 0; i < parameters.length; i++) {\n    parameters[i] = parameters[i].trim();\n  }\n\n  return parameters;\n}\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (obj === global) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","module.exports = require('util').inspect;\n","/*!\n * on-finished\n * Copyright(c) 2013 Jonathan Ong\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = onFinished\nmodule.exports.isFinished = isFinished\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar asyncHooks = tryRequireAsyncHooks()\nvar first = require('ee-first')\n\n/**\n * Variables.\n * @private\n */\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function (fn) { process.nextTick(fn.bind.apply(fn, arguments)) }\n\n/**\n * Invoke callback when the response has finished, useful for\n * cleaning up resources afterwards.\n *\n * @param {object} msg\n * @param {function} listener\n * @return {object}\n * @public\n */\n\nfunction onFinished (msg, listener) {\n  if (isFinished(msg) !== false) {\n    defer(listener, null, msg)\n    return msg\n  }\n\n  // attach the listener to the message\n  attachListener(msg, wrap(listener))\n\n  return msg\n}\n\n/**\n * Determine if message is already finished.\n *\n * @param {object} msg\n * @return {boolean}\n * @public\n */\n\nfunction isFinished (msg) {\n  var socket = msg.socket\n\n  if (typeof msg.finished === 'boolean') {\n    // OutgoingMessage\n    return Boolean(msg.finished || (socket && !socket.writable))\n  }\n\n  if (typeof msg.complete === 'boolean') {\n    // IncomingMessage\n    return Boolean(msg.upgrade || !socket || !socket.readable || (msg.complete && !msg.readable))\n  }\n\n  // don't know\n  return undefined\n}\n\n/**\n * Attach a finished listener to the message.\n *\n * @param {object} msg\n * @param {function} callback\n * @private\n */\n\nfunction attachFinishedListener (msg, callback) {\n  var eeMsg\n  var eeSocket\n  var finished = false\n\n  function onFinish (error) {\n    eeMsg.cancel()\n    eeSocket.cancel()\n\n    finished = true\n    callback(error)\n  }\n\n  // finished on first message event\n  eeMsg = eeSocket = first([[msg, 'end', 'finish']], onFinish)\n\n  function onSocket (socket) {\n    // remove listener\n    msg.removeListener('socket', onSocket)\n\n    if (finished) return\n    if (eeMsg !== eeSocket) return\n\n    // finished on first socket event\n    eeSocket = first([[socket, 'error', 'close']], onFinish)\n  }\n\n  if (msg.socket) {\n    // socket already assigned\n    onSocket(msg.socket)\n    return\n  }\n\n  // wait for socket to be assigned\n  msg.on('socket', onSocket)\n\n  if (msg.socket === undefined) {\n    // istanbul ignore next: node.js 0.8 patch\n    patchAssignSocket(msg, onSocket)\n  }\n}\n\n/**\n * Attach the listener to the message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction attachListener (msg, listener) {\n  var attached = msg.__onFinished\n\n  // create a private single listener with queue\n  if (!attached || !attached.queue) {\n    attached = msg.__onFinished = createListener(msg)\n    attachFinishedListener(msg, attached)\n  }\n\n  attached.queue.push(listener)\n}\n\n/**\n * Create listener on message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction createListener (msg) {\n  function listener (err) {\n    if (msg.__onFinished === listener) msg.__onFinished = null\n    if (!listener.queue) return\n\n    var queue = listener.queue\n    listener.queue = null\n\n    for (var i = 0; i < queue.length; i++) {\n      queue[i](err, msg)\n    }\n  }\n\n  listener.queue = []\n\n  return listener\n}\n\n/**\n * Patch ServerResponse.prototype.assignSocket for node.js 0.8.\n *\n * @param {ServerResponse} res\n * @param {function} callback\n * @private\n */\n\n// istanbul ignore next: node.js 0.8 patch\nfunction patchAssignSocket (res, callback) {\n  var assignSocket = res.assignSocket\n\n  if (typeof assignSocket !== 'function') return\n\n  // res.on('socket', callback) is broken in 0.8\n  res.assignSocket = function _assignSocket (socket) {\n    assignSocket.call(this, socket)\n    callback(socket)\n  }\n}\n\n/**\n * Try to require async_hooks\n * @private\n */\n\nfunction tryRequireAsyncHooks () {\n  try {\n    return require('async_hooks')\n  } catch (e) {\n    return {}\n  }\n}\n\n/**\n * Wrap function with async resource, if possible.\n * AsyncResource.bind static method backported.\n * @private\n */\n\nfunction wrap (fn) {\n  var res\n\n  // create anonymous resource\n  if (asyncHooks.AsyncResource) {\n    res = new asyncHooks.AsyncResource(fn.name || 'bound-anonymous-fn')\n  }\n\n  // incompatible node.js\n  if (!res || !res.runInAsyncScope) {\n    return fn\n  }\n\n  // return bound function\n  return res.runInAsyncScope.bind(res, fn, null)\n}\n","/*!\n * parseurl\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar url = require('url')\nvar parse = url.parse\nvar Url = url.Url\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = parseurl\nmodule.exports.original = originalurl\n\n/**\n * Parse the `req` url with memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction parseurl (req) {\n  var url = req.url\n\n  if (url === undefined) {\n    // URL is undefined\n    return undefined\n  }\n\n  var parsed = req._parsedUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedUrl = parsed)\n};\n\n/**\n * Parse the `req` original url with fallback and memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction originalurl (req) {\n  var url = req.originalUrl\n\n  if (typeof url !== 'string') {\n    // Fallback\n    return parseurl(req)\n  }\n\n  var parsed = req._parsedOriginalUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedOriginalUrl = parsed)\n};\n\n/**\n * Parse the `str` url with fast-path short-cut.\n *\n * @param {string} str\n * @return {Object}\n * @private\n */\n\nfunction fastparse (str) {\n  if (typeof str !== 'string' || str.charCodeAt(0) !== 0x2f /* / */) {\n    return parse(str)\n  }\n\n  var pathname = str\n  var query = null\n  var search = null\n\n  // This takes the regexp from https://github.com/joyent/node/pull/7878\n  // Which is /^(\\/[^?#\\s]*)(\\?[^#\\s]*)?$/\n  // And unrolls it into a for loop\n  for (var i = 1; i < str.length; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x3f: /* ?  */\n        if (search === null) {\n          pathname = str.substring(0, i)\n          query = str.substring(i + 1)\n          search = str.substring(i)\n        }\n        break\n      case 0x09: /* \\t */\n      case 0x0a: /* \\n */\n      case 0x0c: /* \\f */\n      case 0x0d: /* \\r */\n      case 0x20: /*    */\n      case 0x23: /* #  */\n      case 0xa0:\n      case 0xfeff:\n        return parse(str)\n    }\n  }\n\n  var url = Url !== undefined\n    ? new Url()\n    : {}\n\n  url.path = str\n  url.href = str\n  url.pathname = pathname\n\n  if (search !== null) {\n    url.query = query\n    url.search = search\n  }\n\n  return url\n}\n\n/**\n * Determine if parsed is still fresh for url.\n *\n * @param {string} url\n * @param {object} parsedUrl\n * @return {boolean}\n * @private\n */\n\nfunction fresh (url, parsedUrl) {\n  return typeof parsedUrl === 'object' &&\n    parsedUrl !== null &&\n    (Url === undefined || parsedUrl instanceof Url) &&\n    parsedUrl._raw === url\n}\n","/**\n * Expose `pathtoRegexp`.\n */\n\nmodule.exports = pathtoRegexp;\n\n/**\n * Match matching groups in a regular expression.\n */\nvar MATCHING_GROUP_REGEXP = /\\((?!\\?)/g;\n\n/**\n * Normalize the given path string,\n * returning a regular expression.\n *\n * An empty array should be passed,\n * which will contain the placeholder\n * key names. For example \"/user/:id\" will\n * then contain [\"id\"].\n *\n * @param  {String|RegExp|Array} path\n * @param  {Array} keys\n * @param  {Object} options\n * @return {RegExp}\n * @api private\n */\n\nfunction pathtoRegexp(path, keys, options) {\n  options = options || {};\n  keys = keys || [];\n  var strict = options.strict;\n  var end = options.end !== false;\n  var flags = options.sensitive ? '' : 'i';\n  var extraOffset = 0;\n  var keysOffset = keys.length;\n  var i = 0;\n  var name = 0;\n  var m;\n\n  if (path instanceof RegExp) {\n    while (m = MATCHING_GROUP_REGEXP.exec(path.source)) {\n      keys.push({\n        name: name++,\n        optional: false,\n        offset: m.index\n      });\n    }\n\n    return path;\n  }\n\n  if (Array.isArray(path)) {\n    // Map array parts into regexps and return their source. We also pass\n    // the same keys and options instance into every generation to get\n    // consistent matching groups before we join the sources together.\n    path = path.map(function (value) {\n      return pathtoRegexp(value, keys, options).source;\n    });\n\n    return new RegExp('(?:' + path.join('|') + ')', flags);\n  }\n\n  path = ('^' + path + (strict ? '' : path[path.length - 1] === '/' ? '?' : '/?'))\n    .replace(/\\/\\(/g, '/(?:')\n    .replace(/([\\/\\.])/g, '\\\\$1')\n    .replace(/(\\\\\\/)?(\\\\\\.)?:(\\w+)(\\(.*?\\))?(\\*)?(\\?)?/g, function (match, slash, format, key, capture, star, optional, offset) {\n      slash = slash || '';\n      format = format || '';\n      capture = capture || '([^\\\\/' + format + ']+?)';\n      optional = optional || '';\n\n      keys.push({\n        name: key,\n        optional: !!optional,\n        offset: offset + extraOffset\n      });\n\n      var result = ''\n        + (optional ? '' : slash)\n        + '(?:'\n        + format + (optional ? slash : '') + capture\n        + (star ? '((?:[\\\\/' + format + '].+?)?)' : '')\n        + ')'\n        + optional;\n\n      extraOffset += result.length - match.length;\n\n      return result;\n    })\n    .replace(/\\*/g, function (star, index) {\n      var len = keys.length\n\n      while (len-- > keysOffset && keys[len].offset > index) {\n        keys[len].offset += 3; // Replacement length minus asterisk length.\n      }\n\n      return '(.*)';\n    });\n\n  // This is a workaround for handling unnamed matching groups.\n  while (m = MATCHING_GROUP_REGEXP.exec(path)) {\n    var escapeCount = 0;\n    var index = m.index;\n\n    while (path.charAt(--index) === '\\\\') {\n      escapeCount++;\n    }\n\n    // It's possible to escape the bracket.\n    if (escapeCount % 2 === 1) {\n      continue;\n    }\n\n    if (keysOffset + i === keys.length || keys[keysOffset + i].offset > m.index) {\n      keys.splice(keysOffset + i, 0, {\n        name: name++, // Unnamed matching groups must be consistently linear.\n        optional: false,\n        offset: m.index\n      });\n    }\n\n    i++;\n  }\n\n  // If the path is non-ending, match until the end or a slash.\n  path += (end ? '$' : (path[path.length - 1] === '/' ? '' : '(?=\\\\/|$)'));\n\n  return new RegExp(path, flags);\n};\n","/*!\n * proxy-addr\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = proxyaddr\nmodule.exports.all = alladdrs\nmodule.exports.compile = compile\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar forwarded = require('forwarded')\nvar ipaddr = require('ipaddr.js')\n\n/**\n * Variables.\n * @private\n */\n\nvar DIGIT_REGEXP = /^[0-9]+$/\nvar isip = ipaddr.isValid\nvar parseip = ipaddr.parse\n\n/**\n * Pre-defined IP ranges.\n * @private\n */\n\nvar IP_RANGES = {\n  linklocal: ['169.254.0.0/16', 'fe80::/10'],\n  loopback: ['127.0.0.1/8', '::1/128'],\n  uniquelocal: ['10.0.0.0/8', '172.16.0.0/12', '192.168.0.0/16', 'fc00::/7']\n}\n\n/**\n * Get all addresses in the request, optionally stopping\n * at the first untrusted.\n *\n * @param {Object} request\n * @param {Function|Array|String} [trust]\n * @public\n */\n\nfunction alladdrs (req, trust) {\n  // get addresses\n  var addrs = forwarded(req)\n\n  if (!trust) {\n    // Return all addresses\n    return addrs\n  }\n\n  if (typeof trust !== 'function') {\n    trust = compile(trust)\n  }\n\n  for (var i = 0; i < addrs.length - 1; i++) {\n    if (trust(addrs[i], i)) continue\n\n    addrs.length = i + 1\n  }\n\n  return addrs\n}\n\n/**\n * Compile argument into trust function.\n *\n * @param {Array|String} val\n * @private\n */\n\nfunction compile (val) {\n  if (!val) {\n    throw new TypeError('argument is required')\n  }\n\n  var trust\n\n  if (typeof val === 'string') {\n    trust = [val]\n  } else if (Array.isArray(val)) {\n    trust = val.slice()\n  } else {\n    throw new TypeError('unsupported trust argument')\n  }\n\n  for (var i = 0; i < trust.length; i++) {\n    val = trust[i]\n\n    if (!Object.prototype.hasOwnProperty.call(IP_RANGES, val)) {\n      continue\n    }\n\n    // Splice in pre-defined range\n    val = IP_RANGES[val]\n    trust.splice.apply(trust, [i, 1].concat(val))\n    i += val.length - 1\n  }\n\n  return compileTrust(compileRangeSubnets(trust))\n}\n\n/**\n * Compile `arr` elements into range subnets.\n *\n * @param {Array} arr\n * @private\n */\n\nfunction compileRangeSubnets (arr) {\n  var rangeSubnets = new Array(arr.length)\n\n  for (var i = 0; i < arr.length; i++) {\n    rangeSubnets[i] = parseipNotation(arr[i])\n  }\n\n  return rangeSubnets\n}\n\n/**\n * Compile range subnet array into trust function.\n *\n * @param {Array} rangeSubnets\n * @private\n */\n\nfunction compileTrust (rangeSubnets) {\n  // Return optimized function based on length\n  var len = rangeSubnets.length\n  return len === 0\n    ? trustNone\n    : len === 1\n      ? trustSingle(rangeSubnets[0])\n      : trustMulti(rangeSubnets)\n}\n\n/**\n * Parse IP notation string into range subnet.\n *\n * @param {String} note\n * @private\n */\n\nfunction parseipNotation (note) {\n  var pos = note.lastIndexOf('/')\n  var str = pos !== -1\n    ? note.substring(0, pos)\n    : note\n\n  if (!isip(str)) {\n    throw new TypeError('invalid IP address: ' + str)\n  }\n\n  var ip = parseip(str)\n\n  if (pos === -1 && ip.kind() === 'ipv6' && ip.isIPv4MappedAddress()) {\n    // Store as IPv4\n    ip = ip.toIPv4Address()\n  }\n\n  var max = ip.kind() === 'ipv6'\n    ? 128\n    : 32\n\n  var range = pos !== -1\n    ? note.substring(pos + 1, note.length)\n    : null\n\n  if (range === null) {\n    range = max\n  } else if (DIGIT_REGEXP.test(range)) {\n    range = parseInt(range, 10)\n  } else if (ip.kind() === 'ipv4' && isip(range)) {\n    range = parseNetmask(range)\n  } else {\n    range = null\n  }\n\n  if (range <= 0 || range > max) {\n    throw new TypeError('invalid range on address: ' + note)\n  }\n\n  return [ip, range]\n}\n\n/**\n * Parse netmask string into CIDR range.\n *\n * @param {String} netmask\n * @private\n */\n\nfunction parseNetmask (netmask) {\n  var ip = parseip(netmask)\n  var kind = ip.kind()\n\n  return kind === 'ipv4'\n    ? ip.prefixLengthFromSubnetMask()\n    : null\n}\n\n/**\n * Determine address of proxied request.\n *\n * @param {Object} request\n * @param {Function|Array|String} trust\n * @public\n */\n\nfunction proxyaddr (req, trust) {\n  if (!req) {\n    throw new TypeError('req argument is required')\n  }\n\n  if (!trust) {\n    throw new TypeError('trust argument is required')\n  }\n\n  var addrs = alladdrs(req, trust)\n  var addr = addrs[addrs.length - 1]\n\n  return addr\n}\n\n/**\n * Static trust function to trust nothing.\n *\n * @private\n */\n\nfunction trustNone () {\n  return false\n}\n\n/**\n * Compile trust function for multiple subnets.\n *\n * @param {Array} subnets\n * @private\n */\n\nfunction trustMulti (subnets) {\n  return function trust (addr) {\n    if (!isip(addr)) return false\n\n    var ip = parseip(addr)\n    var ipconv\n    var kind = ip.kind()\n\n    for (var i = 0; i < subnets.length; i++) {\n      var subnet = subnets[i]\n      var subnetip = subnet[0]\n      var subnetkind = subnetip.kind()\n      var subnetrange = subnet[1]\n      var trusted = ip\n\n      if (kind !== subnetkind) {\n        if (subnetkind === 'ipv4' && !ip.isIPv4MappedAddress()) {\n          // Incompatible IP addresses\n          continue\n        }\n\n        if (!ipconv) {\n          // Convert IP to match subnet IP kind\n          ipconv = subnetkind === 'ipv4'\n            ? ip.toIPv4Address()\n            : ip.toIPv4MappedAddress()\n        }\n\n        trusted = ipconv\n      }\n\n      if (trusted.match(subnetip, subnetrange)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n/**\n * Compile trust function for single subnet.\n *\n * @param {Object} subnet\n * @private\n */\n\nfunction trustSingle (subnet) {\n  var subnetip = subnet[0]\n  var subnetkind = subnetip.kind()\n  var subnetisipv4 = subnetkind === 'ipv4'\n  var subnetrange = subnet[1]\n\n  return function trust (addr) {\n    if (!isip(addr)) return false\n\n    var ip = parseip(addr)\n    var kind = ip.kind()\n\n    if (kind !== subnetkind) {\n      if (subnetisipv4 && !ip.isIPv4MappedAddress()) {\n        // Incompatible IP addresses\n        return false\n      }\n\n      // Convert IP to match subnet IP kind\n      ip = subnetisipv4\n        ? ip.toIPv4Address()\n        : ip.toIPv4MappedAddress()\n    }\n\n    return ip.match(subnetip, subnetrange)\n  }\n}\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar split = String.prototype.split;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            if (generateArrayPrefix === 'comma' && encodeValuesOnly) {\n                var valuesArray = split.call(String(obj), ',');\n                var valuesJoined = '';\n                for (var i = 0; i < valuesArray.length; ++i) {\n                    valuesJoined += (i === 0 ? '' : ',') + formatter(encoder(valuesArray[i], defaults.encoder, charset, 'value', format));\n                }\n                return [formatter(keyValue) + (commaRoundTrip && isArray(obj) && valuesArray.length === 1 ? '[]' : '') + '=' + valuesJoined];\n            }\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? prefix + '[]' : prefix;\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, key) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n    if (opts && 'commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n    var commaRoundTrip = generateArrayPrefix === 'comma' && opts && opts.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","/*!\n * range-parser\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = rangeParser\n\n/**\n * Parse \"Range\" header `str` relative to the given file `size`.\n *\n * @param {Number} size\n * @param {String} str\n * @param {Object} [options]\n * @return {Array}\n * @public\n */\n\nfunction rangeParser (size, str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string')\n  }\n\n  var index = str.indexOf('=')\n\n  if (index === -1) {\n    return -2\n  }\n\n  // split the range string\n  var arr = str.slice(index + 1).split(',')\n  var ranges = []\n\n  // add ranges type\n  ranges.type = str.slice(0, index)\n\n  // parse all ranges\n  for (var i = 0; i < arr.length; i++) {\n    var range = arr[i].split('-')\n    var start = parseInt(range[0], 10)\n    var end = parseInt(range[1], 10)\n\n    // -nnn\n    if (isNaN(start)) {\n      start = size - end\n      end = size - 1\n    // nnn-\n    } else if (isNaN(end)) {\n      end = size - 1\n    }\n\n    // limit last-byte-pos to current length\n    if (end > size - 1) {\n      end = size - 1\n    }\n\n    // invalid or unsatisifiable\n    if (isNaN(start) || isNaN(end) || start > end || start < 0) {\n      continue\n    }\n\n    // add range\n    ranges.push({\n      start: start,\n      end: end\n    })\n  }\n\n  if (ranges.length < 1) {\n    // unsatisifiable\n    return -1\n  }\n\n  return options && options.combine\n    ? combineRanges(ranges)\n    : ranges\n}\n\n/**\n * Combine overlapping & adjacent ranges.\n * @private\n */\n\nfunction combineRanges (ranges) {\n  var ordered = ranges.map(mapWithIndex).sort(sortByRangeStart)\n\n  for (var j = 0, i = 1; i < ordered.length; i++) {\n    var range = ordered[i]\n    var current = ordered[j]\n\n    if (range.start > current.end + 1) {\n      // next range\n      ordered[++j] = range\n    } else if (range.end > current.end) {\n      // extend range\n      current.end = range.end\n      current.index = Math.min(current.index, range.index)\n    }\n  }\n\n  // trim ordered array\n  ordered.length = j + 1\n\n  // generate combined range\n  var combined = ordered.sort(sortByRangeIndex).map(mapWithoutIndex)\n\n  // copy ranges type\n  combined.type = ranges.type\n\n  return combined\n}\n\n/**\n * Map function to add index value to ranges.\n * @private\n */\n\nfunction mapWithIndex (range, index) {\n  return {\n    start: range.start,\n    end: range.end,\n    index: index\n  }\n}\n\n/**\n * Map function to remove index value from ranges.\n * @private\n */\n\nfunction mapWithoutIndex (range) {\n  return {\n    start: range.start,\n    end: range.end\n  }\n}\n\n/**\n * Sort function to sort ranges by index.\n * @private\n */\n\nfunction sortByRangeIndex (a, b) {\n  return a.index - b.index\n}\n\n/**\n * Sort function to sort ranges by start position.\n * @private\n */\n\nfunction sortByRangeStart (a, b) {\n  return a.start - b.start\n}\n","/*!\n * raw-body\n * Copyright(c) 2013-2014 Jonathan Ong\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar asyncHooks = tryRequireAsyncHooks()\nvar bytes = require('bytes')\nvar createError = require('http-errors')\nvar iconv = require('iconv-lite')\nvar unpipe = require('unpipe')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = getRawBody\n\n/**\n * Module variables.\n * @private\n */\n\nvar ICONV_ENCODING_MESSAGE_REGEXP = /^Encoding not recognized: /\n\n/**\n * Get the decoder for a given encoding.\n *\n * @param {string} encoding\n * @private\n */\n\nfunction getDecoder (encoding) {\n  if (!encoding) return null\n\n  try {\n    return iconv.getDecoder(encoding)\n  } catch (e) {\n    // error getting decoder\n    if (!ICONV_ENCODING_MESSAGE_REGEXP.test(e.message)) throw e\n\n    // the encoding was not found\n    throw createError(415, 'specified encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n}\n\n/**\n * Get the raw body of a stream (typically HTTP).\n *\n * @param {object} stream\n * @param {object|string|function} [options]\n * @param {function} [callback]\n * @public\n */\n\nfunction getRawBody (stream, options, callback) {\n  var done = callback\n  var opts = options || {}\n\n  // light validation\n  if (stream === undefined) {\n    throw new TypeError('argument stream is required')\n  } else if (typeof stream !== 'object' || stream === null || typeof stream.on !== 'function') {\n    throw new TypeError('argument stream must be a stream')\n  }\n\n  if (options === true || typeof options === 'string') {\n    // short cut for encoding\n    opts = {\n      encoding: options\n    }\n  }\n\n  if (typeof options === 'function') {\n    done = options\n    opts = {}\n  }\n\n  // validate callback is a function, if provided\n  if (done !== undefined && typeof done !== 'function') {\n    throw new TypeError('argument callback must be a function')\n  }\n\n  // require the callback without promises\n  if (!done && !global.Promise) {\n    throw new TypeError('argument callback is required')\n  }\n\n  // get encoding\n  var encoding = opts.encoding !== true\n    ? opts.encoding\n    : 'utf-8'\n\n  // convert the limit to an integer\n  var limit = bytes.parse(opts.limit)\n\n  // convert the expected length to an integer\n  var length = opts.length != null && !isNaN(opts.length)\n    ? parseInt(opts.length, 10)\n    : null\n\n  if (done) {\n    // classic callback style\n    return readStream(stream, encoding, length, limit, wrap(done))\n  }\n\n  return new Promise(function executor (resolve, reject) {\n    readStream(stream, encoding, length, limit, function onRead (err, buf) {\n      if (err) return reject(err)\n      resolve(buf)\n    })\n  })\n}\n\n/**\n * Halt a stream.\n *\n * @param {Object} stream\n * @private\n */\n\nfunction halt (stream) {\n  // unpipe everything from the stream\n  unpipe(stream)\n\n  // pause stream\n  if (typeof stream.pause === 'function') {\n    stream.pause()\n  }\n}\n\n/**\n * Read the data from the stream.\n *\n * @param {object} stream\n * @param {string} encoding\n * @param {number} length\n * @param {number} limit\n * @param {function} callback\n * @public\n */\n\nfunction readStream (stream, encoding, length, limit, callback) {\n  var complete = false\n  var sync = true\n\n  // check the length and limit options.\n  // note: we intentionally leave the stream paused,\n  // so users should handle the stream themselves.\n  if (limit !== null && length !== null && length > limit) {\n    return done(createError(413, 'request entity too large', {\n      expected: length,\n      length: length,\n      limit: limit,\n      type: 'entity.too.large'\n    }))\n  }\n\n  // streams1: assert request encoding is buffer.\n  // streams2+: assert the stream encoding is buffer.\n  //   stream._decoder: streams1\n  //   state.encoding: streams2\n  //   state.decoder: streams2, specifically < 0.10.6\n  var state = stream._readableState\n  if (stream._decoder || (state && (state.encoding || state.decoder))) {\n    // developer error\n    return done(createError(500, 'stream encoding should not be set', {\n      type: 'stream.encoding.set'\n    }))\n  }\n\n  if (typeof stream.readable !== 'undefined' && !stream.readable) {\n    return done(createError(500, 'stream is not readable', {\n      type: 'stream.not.readable'\n    }))\n  }\n\n  var received = 0\n  var decoder\n\n  try {\n    decoder = getDecoder(encoding)\n  } catch (err) {\n    return done(err)\n  }\n\n  var buffer = decoder\n    ? ''\n    : []\n\n  // attach listeners\n  stream.on('aborted', onAborted)\n  stream.on('close', cleanup)\n  stream.on('data', onData)\n  stream.on('end', onEnd)\n  stream.on('error', onEnd)\n\n  // mark sync section complete\n  sync = false\n\n  function done () {\n    var args = new Array(arguments.length)\n\n    // copy arguments\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    // mark complete\n    complete = true\n\n    if (sync) {\n      process.nextTick(invokeCallback)\n    } else {\n      invokeCallback()\n    }\n\n    function invokeCallback () {\n      cleanup()\n\n      if (args[0]) {\n        // halt the stream on error\n        halt(stream)\n      }\n\n      callback.apply(null, args)\n    }\n  }\n\n  function onAborted () {\n    if (complete) return\n\n    done(createError(400, 'request aborted', {\n      code: 'ECONNABORTED',\n      expected: length,\n      length: length,\n      received: received,\n      type: 'request.aborted'\n    }))\n  }\n\n  function onData (chunk) {\n    if (complete) return\n\n    received += chunk.length\n\n    if (limit !== null && received > limit) {\n      done(createError(413, 'request entity too large', {\n        limit: limit,\n        received: received,\n        type: 'entity.too.large'\n      }))\n    } else if (decoder) {\n      buffer += decoder.write(chunk)\n    } else {\n      buffer.push(chunk)\n    }\n  }\n\n  function onEnd (err) {\n    if (complete) return\n    if (err) return done(err)\n\n    if (length !== null && received !== length) {\n      done(createError(400, 'request size did not match content length', {\n        expected: length,\n        length: length,\n        received: received,\n        type: 'request.size.invalid'\n      }))\n    } else {\n      var string = decoder\n        ? buffer + (decoder.end() || '')\n        : Buffer.concat(buffer)\n      done(null, string)\n    }\n  }\n\n  function cleanup () {\n    buffer = null\n\n    stream.removeListener('aborted', onAborted)\n    stream.removeListener('data', onData)\n    stream.removeListener('end', onEnd)\n    stream.removeListener('error', onEnd)\n    stream.removeListener('close', cleanup)\n  }\n}\n\n/**\n * Try to require async_hooks\n * @private\n */\n\nfunction tryRequireAsyncHooks () {\n  try {\n    return require('async_hooks')\n  } catch (e) {\n    return {}\n  }\n}\n\n/**\n * Wrap function with async resource, if possible.\n * AsyncResource.bind static method backported.\n * @private\n */\n\nfunction wrap (fn) {\n  var res\n\n  // create anonymous resource\n  if (asyncHooks.AsyncResource) {\n    res = new asyncHooks.AsyncResource(fn.name || 'bound-anonymous-fn')\n  }\n\n  // incompatible node.js\n  if (!res || !res.runInAsyncScope) {\n    return fn\n  }\n\n  // return bound function\n  return res.runInAsyncScope.bind(res, fn, null)\n}\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","/*!\n * send\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar debug = require('debug')('send')\nvar deprecate = require('depd')('send')\nvar destroy = require('destroy')\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar etag = require('etag')\nvar fresh = require('fresh')\nvar fs = require('fs')\nvar mime = require('mime')\nvar ms = require('ms')\nvar onFinished = require('on-finished')\nvar parseRange = require('range-parser')\nvar path = require('path')\nvar statuses = require('statuses')\nvar Stream = require('stream')\nvar util = require('util')\n\n/**\n * Path function references.\n * @private\n */\n\nvar extname = path.extname\nvar join = path.join\nvar normalize = path.normalize\nvar resolve = path.resolve\nvar sep = path.sep\n\n/**\n * Regular expression for identifying a bytes Range header.\n * @private\n */\n\nvar BYTES_RANGE_REGEXP = /^ *bytes=/\n\n/**\n * Maximum value allowed for the max age.\n * @private\n */\n\nvar MAX_MAXAGE = 60 * 60 * 24 * 365 * 1000 // 1 year\n\n/**\n * Regular expression to match a path with a directory up component.\n * @private\n */\n\nvar UP_PATH_REGEXP = /(?:^|[\\\\/])\\.\\.(?:[\\\\/]|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = send\nmodule.exports.mime = mime\n\n/**\n * Return a `SendStream` for `req` and `path`.\n *\n * @param {object} req\n * @param {string} path\n * @param {object} [options]\n * @return {SendStream}\n * @public\n */\n\nfunction send (req, path, options) {\n  return new SendStream(req, path, options)\n}\n\n/**\n * Initialize a `SendStream` with the given `path`.\n *\n * @param {Request} req\n * @param {String} path\n * @param {object} [options]\n * @private\n */\n\nfunction SendStream (req, path, options) {\n  Stream.call(this)\n\n  var opts = options || {}\n\n  this.options = opts\n  this.path = path\n  this.req = req\n\n  this._acceptRanges = opts.acceptRanges !== undefined\n    ? Boolean(opts.acceptRanges)\n    : true\n\n  this._cacheControl = opts.cacheControl !== undefined\n    ? Boolean(opts.cacheControl)\n    : true\n\n  this._etag = opts.etag !== undefined\n    ? Boolean(opts.etag)\n    : true\n\n  this._dotfiles = opts.dotfiles !== undefined\n    ? opts.dotfiles\n    : 'ignore'\n\n  if (this._dotfiles !== 'ignore' && this._dotfiles !== 'allow' && this._dotfiles !== 'deny') {\n    throw new TypeError('dotfiles option must be \"allow\", \"deny\", or \"ignore\"')\n  }\n\n  this._hidden = Boolean(opts.hidden)\n\n  if (opts.hidden !== undefined) {\n    deprecate('hidden: use dotfiles: \\'' + (this._hidden ? 'allow' : 'ignore') + '\\' instead')\n  }\n\n  // legacy support\n  if (opts.dotfiles === undefined) {\n    this._dotfiles = undefined\n  }\n\n  this._extensions = opts.extensions !== undefined\n    ? normalizeList(opts.extensions, 'extensions option')\n    : []\n\n  this._immutable = opts.immutable !== undefined\n    ? Boolean(opts.immutable)\n    : false\n\n  this._index = opts.index !== undefined\n    ? normalizeList(opts.index, 'index option')\n    : ['index.html']\n\n  this._lastModified = opts.lastModified !== undefined\n    ? Boolean(opts.lastModified)\n    : true\n\n  this._maxage = opts.maxAge || opts.maxage\n  this._maxage = typeof this._maxage === 'string'\n    ? ms(this._maxage)\n    : Number(this._maxage)\n  this._maxage = !isNaN(this._maxage)\n    ? Math.min(Math.max(0, this._maxage), MAX_MAXAGE)\n    : 0\n\n  this._root = opts.root\n    ? resolve(opts.root)\n    : null\n\n  if (!this._root && opts.from) {\n    this.from(opts.from)\n  }\n}\n\n/**\n * Inherits from `Stream`.\n */\n\nutil.inherits(SendStream, Stream)\n\n/**\n * Enable or disable etag generation.\n *\n * @param {Boolean} val\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.etag = deprecate.function(function etag (val) {\n  this._etag = Boolean(val)\n  debug('etag %s', this._etag)\n  return this\n}, 'send.etag: pass etag as option')\n\n/**\n * Enable or disable \"hidden\" (dot) files.\n *\n * @param {Boolean} path\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.hidden = deprecate.function(function hidden (val) {\n  this._hidden = Boolean(val)\n  this._dotfiles = undefined\n  debug('hidden %s', this._hidden)\n  return this\n}, 'send.hidden: use dotfiles option')\n\n/**\n * Set index `paths`, set to a falsy\n * value to disable index support.\n *\n * @param {String|Boolean|Array} paths\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.index = deprecate.function(function index (paths) {\n  var index = !paths ? [] : normalizeList(paths, 'paths argument')\n  debug('index %o', paths)\n  this._index = index\n  return this\n}, 'send.index: pass index as option')\n\n/**\n * Set root `path`.\n *\n * @param {String} path\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.root = function root (path) {\n  this._root = resolve(String(path))\n  debug('root %s', this._root)\n  return this\n}\n\nSendStream.prototype.from = deprecate.function(SendStream.prototype.root,\n  'send.from: pass root as option')\n\nSendStream.prototype.root = deprecate.function(SendStream.prototype.root,\n  'send.root: pass root as option')\n\n/**\n * Set max-age to `maxAge`.\n *\n * @param {Number} maxAge\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.maxage = deprecate.function(function maxage (maxAge) {\n  this._maxage = typeof maxAge === 'string'\n    ? ms(maxAge)\n    : Number(maxAge)\n  this._maxage = !isNaN(this._maxage)\n    ? Math.min(Math.max(0, this._maxage), MAX_MAXAGE)\n    : 0\n  debug('max-age %d', this._maxage)\n  return this\n}, 'send.maxage: pass maxAge as option')\n\n/**\n * Emit error with `status`.\n *\n * @param {number} status\n * @param {Error} [err]\n * @private\n */\n\nSendStream.prototype.error = function error (status, err) {\n  // emit if listeners instead of responding\n  if (hasListeners(this, 'error')) {\n    return this.emit('error', createHttpError(status, err))\n  }\n\n  var res = this.res\n  var msg = statuses.message[status] || String(status)\n  var doc = createHtmlDocument('Error', escapeHtml(msg))\n\n  // clear existing headers\n  clearHeaders(res)\n\n  // add error headers\n  if (err && err.headers) {\n    setHeaders(res, err.headers)\n  }\n\n  // send basic response\n  res.statusCode = status\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.end(doc)\n}\n\n/**\n * Check if the pathname ends with \"/\".\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.hasTrailingSlash = function hasTrailingSlash () {\n  return this.path[this.path.length - 1] === '/'\n}\n\n/**\n * Check if this is a conditional GET request.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isConditionalGET = function isConditionalGET () {\n  return this.req.headers['if-match'] ||\n    this.req.headers['if-unmodified-since'] ||\n    this.req.headers['if-none-match'] ||\n    this.req.headers['if-modified-since']\n}\n\n/**\n * Check if the request preconditions failed.\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.isPreconditionFailure = function isPreconditionFailure () {\n  var req = this.req\n  var res = this.res\n\n  // if-match\n  var match = req.headers['if-match']\n  if (match) {\n    var etag = res.getHeader('ETag')\n    return !etag || (match !== '*' && parseTokenList(match).every(function (match) {\n      return match !== etag && match !== 'W/' + etag && 'W/' + match !== etag\n    }))\n  }\n\n  // if-unmodified-since\n  var unmodifiedSince = parseHttpDate(req.headers['if-unmodified-since'])\n  if (!isNaN(unmodifiedSince)) {\n    var lastModified = parseHttpDate(res.getHeader('Last-Modified'))\n    return isNaN(lastModified) || lastModified > unmodifiedSince\n  }\n\n  return false\n}\n\n/**\n * Strip various content header fields for a change in entity.\n *\n * @private\n */\n\nSendStream.prototype.removeContentHeaderFields = function removeContentHeaderFields () {\n  var res = this.res\n\n  res.removeHeader('Content-Encoding')\n  res.removeHeader('Content-Language')\n  res.removeHeader('Content-Length')\n  res.removeHeader('Content-Range')\n  res.removeHeader('Content-Type')\n}\n\n/**\n * Respond with 304 not modified.\n *\n * @api private\n */\n\nSendStream.prototype.notModified = function notModified () {\n  var res = this.res\n  debug('not modified')\n  this.removeContentHeaderFields()\n  res.statusCode = 304\n  res.end()\n}\n\n/**\n * Raise error that headers already sent.\n *\n * @api private\n */\n\nSendStream.prototype.headersAlreadySent = function headersAlreadySent () {\n  var err = new Error('Can\\'t set headers after they are sent.')\n  debug('headers already sent')\n  this.error(500, err)\n}\n\n/**\n * Check if the request is cacheable, aka\n * responded with 2xx or 304 (see RFC 2616 section 14.2{5,6}).\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isCachable = function isCachable () {\n  var statusCode = this.res.statusCode\n  return (statusCode >= 200 && statusCode < 300) ||\n    statusCode === 304\n}\n\n/**\n * Handle stat() error.\n *\n * @param {Error} error\n * @private\n */\n\nSendStream.prototype.onStatError = function onStatError (error) {\n  switch (error.code) {\n    case 'ENAMETOOLONG':\n    case 'ENOENT':\n    case 'ENOTDIR':\n      this.error(404, error)\n      break\n    default:\n      this.error(500, error)\n      break\n  }\n}\n\n/**\n * Check if the cache is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isFresh = function isFresh () {\n  return fresh(this.req.headers, {\n    etag: this.res.getHeader('ETag'),\n    'last-modified': this.res.getHeader('Last-Modified')\n  })\n}\n\n/**\n * Check if the range is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isRangeFresh = function isRangeFresh () {\n  var ifRange = this.req.headers['if-range']\n\n  if (!ifRange) {\n    return true\n  }\n\n  // if-range as etag\n  if (ifRange.indexOf('\"') !== -1) {\n    var etag = this.res.getHeader('ETag')\n    return Boolean(etag && ifRange.indexOf(etag) !== -1)\n  }\n\n  // if-range as modified date\n  var lastModified = this.res.getHeader('Last-Modified')\n  return parseHttpDate(lastModified) <= parseHttpDate(ifRange)\n}\n\n/**\n * Redirect to path.\n *\n * @param {string} path\n * @private\n */\n\nSendStream.prototype.redirect = function redirect (path) {\n  var res = this.res\n\n  if (hasListeners(this, 'directory')) {\n    this.emit('directory', res, path)\n    return\n  }\n\n  if (this.hasTrailingSlash()) {\n    this.error(403)\n    return\n  }\n\n  var loc = encodeUrl(collapseLeadingSlashes(this.path + '/'))\n  var doc = createHtmlDocument('Redirecting', 'Redirecting to <a href=\"' + escapeHtml(loc) + '\">' +\n    escapeHtml(loc) + '</a>')\n\n  // redirect\n  res.statusCode = 301\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.setHeader('Location', loc)\n  res.end(doc)\n}\n\n/**\n * Pipe to `res.\n *\n * @param {Stream} res\n * @return {Stream} res\n * @api public\n */\n\nSendStream.prototype.pipe = function pipe (res) {\n  // root path\n  var root = this._root\n\n  // references\n  this.res = res\n\n  // decode the path\n  var path = decode(this.path)\n  if (path === -1) {\n    this.error(400)\n    return res\n  }\n\n  // null byte(s)\n  if (~path.indexOf('\\0')) {\n    this.error(400)\n    return res\n  }\n\n  var parts\n  if (root !== null) {\n    // normalize\n    if (path) {\n      path = normalize('.' + sep + path)\n    }\n\n    // malicious path\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = path.split(sep)\n\n    // join / normalize from optional root dir\n    path = normalize(join(root, path))\n  } else {\n    // \"..\" is malicious without \"root\"\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = normalize(path).split(sep)\n\n    // resolve the path\n    path = resolve(path)\n  }\n\n  // dotfile handling\n  if (containsDotFile(parts)) {\n    var access = this._dotfiles\n\n    // legacy support\n    if (access === undefined) {\n      access = parts[parts.length - 1][0] === '.'\n        ? (this._hidden ? 'allow' : 'ignore')\n        : 'allow'\n    }\n\n    debug('%s dotfile \"%s\"', access, path)\n    switch (access) {\n      case 'allow':\n        break\n      case 'deny':\n        this.error(403)\n        return res\n      case 'ignore':\n      default:\n        this.error(404)\n        return res\n    }\n  }\n\n  // index file support\n  if (this._index.length && this.hasTrailingSlash()) {\n    this.sendIndex(path)\n    return res\n  }\n\n  this.sendFile(path)\n  return res\n}\n\n/**\n * Transfer `path`.\n *\n * @param {String} path\n * @api public\n */\n\nSendStream.prototype.send = function send (path, stat) {\n  var len = stat.size\n  var options = this.options\n  var opts = {}\n  var res = this.res\n  var req = this.req\n  var ranges = req.headers.range\n  var offset = options.start || 0\n\n  if (headersSent(res)) {\n    // impossible to send now\n    this.headersAlreadySent()\n    return\n  }\n\n  debug('pipe \"%s\"', path)\n\n  // set header fields\n  this.setHeader(path, stat)\n\n  // set content-type\n  this.type(path)\n\n  // conditional GET support\n  if (this.isConditionalGET()) {\n    if (this.isPreconditionFailure()) {\n      this.error(412)\n      return\n    }\n\n    if (this.isCachable() && this.isFresh()) {\n      this.notModified()\n      return\n    }\n  }\n\n  // adjust len to start/end options\n  len = Math.max(0, len - offset)\n  if (options.end !== undefined) {\n    var bytes = options.end - offset + 1\n    if (len > bytes) len = bytes\n  }\n\n  // Range support\n  if (this._acceptRanges && BYTES_RANGE_REGEXP.test(ranges)) {\n    // parse\n    ranges = parseRange(len, ranges, {\n      combine: true\n    })\n\n    // If-Range support\n    if (!this.isRangeFresh()) {\n      debug('range stale')\n      ranges = -2\n    }\n\n    // unsatisfiable\n    if (ranges === -1) {\n      debug('range unsatisfiable')\n\n      // Content-Range\n      res.setHeader('Content-Range', contentRange('bytes', len))\n\n      // 416 Requested Range Not Satisfiable\n      return this.error(416, {\n        headers: { 'Content-Range': res.getHeader('Content-Range') }\n      })\n    }\n\n    // valid (syntactically invalid/multiple ranges are treated as a regular response)\n    if (ranges !== -2 && ranges.length === 1) {\n      debug('range %j', ranges)\n\n      // Content-Range\n      res.statusCode = 206\n      res.setHeader('Content-Range', contentRange('bytes', len, ranges[0]))\n\n      // adjust for requested range\n      offset += ranges[0].start\n      len = ranges[0].end - ranges[0].start + 1\n    }\n  }\n\n  // clone options\n  for (var prop in options) {\n    opts[prop] = options[prop]\n  }\n\n  // set read options\n  opts.start = offset\n  opts.end = Math.max(offset, offset + len - 1)\n\n  // content-length\n  res.setHeader('Content-Length', len)\n\n  // HEAD support\n  if (req.method === 'HEAD') {\n    res.end()\n    return\n  }\n\n  this.stream(path, opts)\n}\n\n/**\n * Transfer file for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendFile = function sendFile (path) {\n  var i = 0\n  var self = this\n\n  debug('stat \"%s\"', path)\n  fs.stat(path, function onstat (err, stat) {\n    if (err && err.code === 'ENOENT' && !extname(path) && path[path.length - 1] !== sep) {\n      // not found, check extensions\n      return next(err)\n    }\n    if (err) return self.onStatError(err)\n    if (stat.isDirectory()) return self.redirect(path)\n    self.emit('file', path, stat)\n    self.send(path, stat)\n  })\n\n  function next (err) {\n    if (self._extensions.length <= i) {\n      return err\n        ? self.onStatError(err)\n        : self.error(404)\n    }\n\n    var p = path + '.' + self._extensions[i++]\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n}\n\n/**\n * Transfer index for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendIndex = function sendIndex (path) {\n  var i = -1\n  var self = this\n\n  function next (err) {\n    if (++i >= self._index.length) {\n      if (err) return self.onStatError(err)\n      return self.error(404)\n    }\n\n    var p = join(path, self._index[i])\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n\n  next()\n}\n\n/**\n * Stream `path` to the response.\n *\n * @param {String} path\n * @param {Object} options\n * @api private\n */\n\nSendStream.prototype.stream = function stream (path, options) {\n  var self = this\n  var res = this.res\n\n  // pipe\n  var stream = fs.createReadStream(path, options)\n  this.emit('stream', stream)\n  stream.pipe(res)\n\n  // cleanup\n  function cleanup () {\n    destroy(stream, true)\n  }\n\n  // response finished, cleanup\n  onFinished(res, cleanup)\n\n  // error handling\n  stream.on('error', function onerror (err) {\n    // clean up stream early\n    cleanup()\n\n    // error\n    self.onStatError(err)\n  })\n\n  // end\n  stream.on('end', function onend () {\n    self.emit('end')\n  })\n}\n\n/**\n * Set content-type based on `path`\n * if it hasn't been explicitly set.\n *\n * @param {String} path\n * @api private\n */\n\nSendStream.prototype.type = function type (path) {\n  var res = this.res\n\n  if (res.getHeader('Content-Type')) return\n\n  var type = mime.lookup(path)\n\n  if (!type) {\n    debug('no content-type')\n    return\n  }\n\n  var charset = mime.charsets.lookup(type)\n\n  debug('content-type %s', type)\n  res.setHeader('Content-Type', type + (charset ? '; charset=' + charset : ''))\n}\n\n/**\n * Set response header fields, most\n * fields may be pre-defined.\n *\n * @param {String} path\n * @param {Object} stat\n * @api private\n */\n\nSendStream.prototype.setHeader = function setHeader (path, stat) {\n  var res = this.res\n\n  this.emit('headers', res, path, stat)\n\n  if (this._acceptRanges && !res.getHeader('Accept-Ranges')) {\n    debug('accept ranges')\n    res.setHeader('Accept-Ranges', 'bytes')\n  }\n\n  if (this._cacheControl && !res.getHeader('Cache-Control')) {\n    var cacheControl = 'public, max-age=' + Math.floor(this._maxage / 1000)\n\n    if (this._immutable) {\n      cacheControl += ', immutable'\n    }\n\n    debug('cache-control %s', cacheControl)\n    res.setHeader('Cache-Control', cacheControl)\n  }\n\n  if (this._lastModified && !res.getHeader('Last-Modified')) {\n    var modified = stat.mtime.toUTCString()\n    debug('modified %s', modified)\n    res.setHeader('Last-Modified', modified)\n  }\n\n  if (this._etag && !res.getHeader('ETag')) {\n    var val = etag(stat)\n    debug('etag %s', val)\n    res.setHeader('ETag', val)\n  }\n}\n\n/**\n * Clear all headers from a response.\n *\n * @param {object} res\n * @private\n */\n\nfunction clearHeaders (res) {\n  var headers = getHeaderNames(res)\n\n  for (var i = 0; i < headers.length; i++) {\n    res.removeHeader(headers[i])\n  }\n}\n\n/**\n * Collapse all leading slashes into a single slash\n *\n * @param {string} str\n * @private\n */\nfunction collapseLeadingSlashes (str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] !== '/') {\n      break\n    }\n  }\n\n  return i > 1\n    ? '/' + str.substr(i)\n    : str\n}\n\n/**\n * Determine if path parts contain a dotfile.\n *\n * @api private\n */\n\nfunction containsDotFile (parts) {\n  for (var i = 0; i < parts.length; i++) {\n    var part = parts[i]\n    if (part.length > 1 && part[0] === '.') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Create a Content-Range header.\n *\n * @param {string} type\n * @param {number} size\n * @param {array} [range]\n */\n\nfunction contentRange (type, size, range) {\n  return type + ' ' + (range ? range.start + '-' + range.end : '*') + '/' + size\n}\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */\n\nfunction createHtmlDocument (title, body) {\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>' + title + '</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Create a HttpError object from simple arguments.\n *\n * @param {number} status\n * @param {Error|object} err\n * @private\n */\n\nfunction createHttpError (status, err) {\n  if (!err) {\n    return createError(status)\n  }\n\n  return err instanceof Error\n    ? createError(status, err, { expose: false })\n    : createError(status, err)\n}\n\n/**\n * decodeURIComponent.\n *\n * Allows V8 to only deoptimize this fn instead of all\n * of send().\n *\n * @param {String} path\n * @api private\n */\n\nfunction decode (path) {\n  try {\n    return decodeURIComponent(path)\n  } catch (err) {\n    return -1\n  }\n}\n\n/**\n * Get the header names on a respnse.\n *\n * @param {object} res\n * @returns {array[string]}\n * @private\n */\n\nfunction getHeaderNames (res) {\n  return typeof res.getHeaderNames !== 'function'\n    ? Object.keys(res._headers || {})\n    : res.getHeaderNames()\n}\n\n/**\n * Determine if emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.8\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction hasListeners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Determine if the response headers have been sent.\n *\n * @param {object} res\n * @returns {boolean}\n * @private\n */\n\nfunction headersSent (res) {\n  return typeof res.headersSent !== 'boolean'\n    ? Boolean(res._header)\n    : res.headersSent\n}\n\n/**\n * Normalize the index option into an array.\n *\n * @param {boolean|string|array} val\n * @param {string} name\n * @private\n */\n\nfunction normalizeList (val, name) {\n  var list = [].concat(val || [])\n\n  for (var i = 0; i < list.length; i++) {\n    if (typeof list[i] !== 'string') {\n      throw new TypeError(name + ' must be array of strings or false')\n    }\n  }\n\n  return list\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        if (start !== end) {\n          list.push(str.substring(start, end))\n        }\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  if (start !== end) {\n    list.push(str.substring(start, end))\n  }\n\n  return list\n}\n\n/**\n * Set an object of headers on a response.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeaders (res, headers) {\n  var keys = Object.keys(headers)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    res.setHeader(key, headers[key])\n  }\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/*!\n * serve-static\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar parseUrl = require('parseurl')\nvar resolve = require('path').resolve\nvar send = require('send')\nvar url = require('url')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = serveStatic\nmodule.exports.mime = send.mime\n\n/**\n * @param {string} root\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction serveStatic (root, options) {\n  if (!root) {\n    throw new TypeError('root path required')\n  }\n\n  if (typeof root !== 'string') {\n    throw new TypeError('root path must be a string')\n  }\n\n  // copy options object\n  var opts = Object.create(options || null)\n\n  // fall-though\n  var fallthrough = opts.fallthrough !== false\n\n  // default redirect\n  var redirect = opts.redirect !== false\n\n  // headers listener\n  var setHeaders = opts.setHeaders\n\n  if (setHeaders && typeof setHeaders !== 'function') {\n    throw new TypeError('option setHeaders must be function')\n  }\n\n  // setup options for send\n  opts.maxage = opts.maxage || opts.maxAge || 0\n  opts.root = resolve(root)\n\n  // construct directory listener\n  var onDirectory = redirect\n    ? createRedirectDirectoryListener()\n    : createNotFoundDirectoryListener()\n\n  return function serveStatic (req, res, next) {\n    if (req.method !== 'GET' && req.method !== 'HEAD') {\n      if (fallthrough) {\n        return next()\n      }\n\n      // method not allowed\n      res.statusCode = 405\n      res.setHeader('Allow', 'GET, HEAD')\n      res.setHeader('Content-Length', '0')\n      res.end()\n      return\n    }\n\n    var forwardError = !fallthrough\n    var originalUrl = parseUrl.original(req)\n    var path = parseUrl(req).pathname\n\n    // make sure redirect occurs at mount\n    if (path === '/' && originalUrl.pathname.substr(-1) !== '/') {\n      path = ''\n    }\n\n    // create send stream\n    var stream = send(req, path, opts)\n\n    // add directory handler\n    stream.on('directory', onDirectory)\n\n    // add headers listener\n    if (setHeaders) {\n      stream.on('headers', setHeaders)\n    }\n\n    // add file listener for fallthrough\n    if (fallthrough) {\n      stream.on('file', function onFile () {\n        // once file is determined, always forward error\n        forwardError = true\n      })\n    }\n\n    // forward errors\n    stream.on('error', function error (err) {\n      if (forwardError || !(err.statusCode < 500)) {\n        next(err)\n        return\n      }\n\n      next()\n    })\n\n    // pipe\n    stream.pipe(res)\n  }\n}\n\n/**\n * Collapse all leading slashes into a single slash\n * @private\n */\nfunction collapseLeadingSlashes (str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) !== 0x2f /* / */) {\n      break\n    }\n  }\n\n  return i > 1\n    ? '/' + str.substr(i)\n    : str\n}\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */\n\nfunction createHtmlDocument (title, body) {\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>' + title + '</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Create a directory listener that just 404s.\n * @private\n */\n\nfunction createNotFoundDirectoryListener () {\n  return function notFound () {\n    this.error(404)\n  }\n}\n\n/**\n * Create a directory listener that performs a redirect.\n * @private\n */\n\nfunction createRedirectDirectoryListener () {\n  return function redirect (res) {\n    if (this.hasTrailingSlash()) {\n      this.error(404)\n      return\n    }\n\n    // get original URL\n    var originalUrl = parseUrl.original(this.req)\n\n    // append trailing slash\n    originalUrl.path = null\n    originalUrl.pathname = collapseLeadingSlashes(originalUrl.pathname + '/')\n\n    // reformat the URL\n    var loc = encodeUrl(url.format(originalUrl))\n    var doc = createHtmlDocument('Redirecting', 'Redirecting to <a href=\"' + escapeHtml(loc) + '\">' +\n      escapeHtml(loc) + '</a>')\n\n    // send redirect response\n    res.statusCode = 301\n    res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n    res.setHeader('Content-Length', Buffer.byteLength(doc))\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n    res.setHeader('X-Content-Type-Options', 'nosniff')\n    res.setHeader('Location', loc)\n    res.end(doc)\n  }\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n","'use strict'\n/* eslint no-proto: 0 */\nmodule.exports = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties)\n\nfunction setProtoOf (obj, proto) {\n  obj.__proto__ = proto\n  return obj\n}\n\nfunction mixinProperties (obj, proto) {\n  for (var prop in proto) {\n    if (!Object.prototype.hasOwnProperty.call(obj, prop)) {\n      obj[prop] = proto[prop]\n    }\n  }\n  return obj\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list. By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('.').listGetNode} */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\tfor (; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('.').listGet} */\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('.').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('.').ListNode<typeof value>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('.').listHas} */\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @type {WeakMap<object, unknown>} */ var $wm;\n\t/** @type {Map<object, unknown>} */ var $m;\n\t/** @type {import('.').RootNode<unknown>} */ var $o;\n\n\t/** @type {import('.').Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.message = codes\n\n// status message (lower-case) to code map\nstatus.code = createMessageToStatusCodeMap(codes)\n\n// array of status codes\nstatus.codes = createStatusCodeList(codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Create a map of message to status code.\n * @private\n */\n\nfunction createMessageToStatusCodeMap (codes) {\n  var map = {}\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // populate map\n    map[message.toLowerCase()] = status\n  })\n\n  return map\n}\n\n/**\n * Create a list of all status codes.\n * @private\n */\n\nfunction createStatusCodeList (codes) {\n  return Object.keys(codes).map(function mapCode (code) {\n    return Number(code)\n  })\n}\n\n/**\n * Get the status code for given message.\n * @private\n */\n\nfunction getStatusCode (message) {\n  var msg = message.toLowerCase()\n\n  if (!Object.prototype.hasOwnProperty.call(status.code, msg)) {\n    throw new Error('invalid status message: \"' + message + '\"')\n  }\n\n  return status.code[msg]\n}\n\n/**\n * Get the status message for given code.\n * @private\n */\n\nfunction getStatusMessage (code) {\n  if (!Object.prototype.hasOwnProperty.call(status.message, code)) {\n    throw new Error('invalid status code: ' + code)\n  }\n\n  return status.message[code]\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    return getStatusMessage(code)\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    return getStatusMessage(n)\n  }\n\n  return getStatusCode(code)\n}\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","/*!\n * toidentifier\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = toIdentifier\n\n/**\n * Trasform the given string into a JavaScript identifier\n *\n * @param {string} str\n * @returns {string}\n * @public\n */\n\nfunction toIdentifier (str) {\n  return str\n    .split(' ')\n    .map(function (token) {\n      return token.slice(0, 1).toUpperCase() + token.slice(1)\n    })\n    .join('')\n    .replace(/[^ _0-9a-z]/gi, '')\n}\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","/*!\n * type-is\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar typer = require('media-typer')\nvar mime = require('mime-types')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = typeofrequest\nmodule.exports.is = typeis\nmodule.exports.hasBody = hasbody\nmodule.exports.normalize = normalize\nmodule.exports.match = mimeMatch\n\n/**\n * Compare a `value` content-type with `types`.\n * Each `type` can be an extension like `html`,\n * a special shortcut like `multipart` or `urlencoded`,\n * or a mime type.\n *\n * If no types match, `false` is returned.\n * Otherwise, the first `type` that matches is returned.\n *\n * @param {String} value\n * @param {Array} types\n * @public\n */\n\nfunction typeis (value, types_) {\n  var i\n  var types = types_\n\n  // remove parameters and normalize\n  var val = tryNormalizeType(value)\n\n  // no type or invalid\n  if (!val) {\n    return false\n  }\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length - 1)\n    for (i = 0; i < types.length; i++) {\n      types[i] = arguments[i + 1]\n    }\n  }\n\n  // no types, return the content type\n  if (!types || !types.length) {\n    return val\n  }\n\n  var type\n  for (i = 0; i < types.length; i++) {\n    if (mimeMatch(normalize(type = types[i]), val)) {\n      return type[0] === '+' || type.indexOf('*') !== -1\n        ? val\n        : type\n    }\n  }\n\n  // no matches\n  return false\n}\n\n/**\n * Check if a request has a request body.\n * A request with a body __must__ either have `transfer-encoding`\n * or `content-length` headers set.\n * http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.3\n *\n * @param {Object} request\n * @return {Boolean}\n * @public\n */\n\nfunction hasbody (req) {\n  return req.headers['transfer-encoding'] !== undefined ||\n    !isNaN(req.headers['content-length'])\n}\n\n/**\n * Check if the incoming request contains the \"Content-Type\"\n * header field, and it contains any of the give mime `type`s.\n * If there is no request body, `null` is returned.\n * If there is no content type, `false` is returned.\n * Otherwise, it returns the first `type` that matches.\n *\n * Examples:\n *\n *     // With Content-Type: text/html; charset=utf-8\n *     this.is('html'); // => 'html'\n *     this.is('text/html'); // => 'text/html'\n *     this.is('text/*', 'application/json'); // => 'text/html'\n *\n *     // When Content-Type is application/json\n *     this.is('json', 'urlencoded'); // => 'json'\n *     this.is('application/json'); // => 'application/json'\n *     this.is('html', 'application/*'); // => 'application/json'\n *\n *     this.is('html'); // => false\n *\n * @param {String|Array} types...\n * @return {String|false|null}\n * @public\n */\n\nfunction typeofrequest (req, types_) {\n  var types = types_\n\n  // no body\n  if (!hasbody(req)) {\n    return null\n  }\n\n  // support flattened arguments\n  if (arguments.length > 2) {\n    types = new Array(arguments.length - 1)\n    for (var i = 0; i < types.length; i++) {\n      types[i] = arguments[i + 1]\n    }\n  }\n\n  // request content type\n  var value = req.headers['content-type']\n\n  return typeis(value, types)\n}\n\n/**\n * Normalize a mime type.\n * If it's a shorthand, expand it to a valid mime type.\n *\n * In general, you probably want:\n *\n *   var type = is(req, ['urlencoded', 'json', 'multipart']);\n *\n * Then use the appropriate body parsers.\n * These three are the most common request body types\n * and are thus ensured to work.\n *\n * @param {String} type\n * @private\n */\n\nfunction normalize (type) {\n  if (typeof type !== 'string') {\n    // invalid type\n    return false\n  }\n\n  switch (type) {\n    case 'urlencoded':\n      return 'application/x-www-form-urlencoded'\n    case 'multipart':\n      return 'multipart/*'\n  }\n\n  if (type[0] === '+') {\n    // \"+json\" -> \"*/*+json\" expando\n    return '*/*' + type\n  }\n\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if `expected` mime type\n * matches `actual` mime type with\n * wildcard and +suffix support.\n *\n * @param {String} expected\n * @param {String} actual\n * @return {Boolean}\n * @private\n */\n\nfunction mimeMatch (expected, actual) {\n  // invalid type\n  if (expected === false) {\n    return false\n  }\n\n  // split types\n  var actualParts = actual.split('/')\n  var expectedParts = expected.split('/')\n\n  // invalid format\n  if (actualParts.length !== 2 || expectedParts.length !== 2) {\n    return false\n  }\n\n  // validate type\n  if (expectedParts[0] !== '*' && expectedParts[0] !== actualParts[0]) {\n    return false\n  }\n\n  // validate suffix wildcard\n  if (expectedParts[1].substr(0, 2) === '*+') {\n    return expectedParts[1].length <= actualParts[1].length + 1 &&\n      expectedParts[1].substr(1) === actualParts[1].substr(1 - expectedParts[1].length)\n  }\n\n  // validate subtype\n  if (expectedParts[1] !== '*' && expectedParts[1] !== actualParts[1]) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {string}\n * @private\n */\n\nfunction normalizeType (value) {\n  // parse the type\n  var type = typer.parse(value)\n\n  // remove the parameters\n  type.parameters = undefined\n\n  // reformat it\n  return typer.format(type)\n}\n\n/**\n * Try to normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {string}\n * @private\n */\n\nfunction tryNormalizeType (value) {\n  if (!value) {\n    return null\n  }\n\n  try {\n    return normalizeType(value)\n  } catch (err) {\n    return null\n  }\n}\n","/*!\n * unpipe\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = unpipe\n\n/**\n * Determine if there are Node.js pipe-like data listeners.\n * @private\n */\n\nfunction hasPipeDataListeners(stream) {\n  var listeners = stream.listeners('data')\n\n  for (var i = 0; i < listeners.length; i++) {\n    if (listeners[i].name === 'ondata') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Unpipe a stream from all destinations.\n *\n * @param {object} stream\n * @public\n */\n\nfunction unpipe(stream) {\n  if (!stream) {\n    throw new TypeError('argument stream is required')\n  }\n\n  if (typeof stream.unpipe === 'function') {\n    // new-style\n    stream.unpipe()\n    return\n  }\n\n  // Node.js 0.8 hack\n  if (!hasPipeDataListeners(stream)) {\n    return\n  }\n\n  var listener\n  var listeners = stream.listeners('close')\n\n  for (var i = 0; i < listeners.length; i++) {\n    listener = listeners[i]\n\n    if (listener.name !== 'cleanup' && listener.name !== 'onclose') {\n      continue\n    }\n\n    // invoke the listener\n    listener.call(stream)\n  }\n}\n","/**\n * Merge object b with object a.\n *\n *     var a = { foo: 'bar' }\n *       , b = { bar: 'baz' };\n *\n *     merge(a, b);\n *     // => { foo: 'bar', bar: 'baz' }\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object}\n * @api public\n */\n\nexports = module.exports = function(a, b){\n  if (a && b) {\n    for (var key in b) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n};\n","/*!\n * vary\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n */\n\nmodule.exports = vary\nmodule.exports.append = append\n\n/**\n * RegExp to match field-name in RFC 7230 sec 3.2\n *\n * field-name    = token\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n */\n\nvar FIELD_NAME_REGEXP = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/\n\n/**\n * Append a field to a vary header.\n *\n * @param {String} header\n * @param {String|Array} field\n * @return {String}\n * @public\n */\n\nfunction append (header, field) {\n  if (typeof header !== 'string') {\n    throw new TypeError('header argument is required')\n  }\n\n  if (!field) {\n    throw new TypeError('field argument is required')\n  }\n\n  // get fields array\n  var fields = !Array.isArray(field)\n    ? parse(String(field))\n    : field\n\n  // assert on invalid field names\n  for (var j = 0; j < fields.length; j++) {\n    if (!FIELD_NAME_REGEXP.test(fields[j])) {\n      throw new TypeError('field argument contains an invalid header name')\n    }\n  }\n\n  // existing, unspecified vary\n  if (header === '*') {\n    return header\n  }\n\n  // enumerate current values\n  var val = header\n  var vals = parse(header.toLowerCase())\n\n  // unspecified vary\n  if (fields.indexOf('*') !== -1 || vals.indexOf('*') !== -1) {\n    return '*'\n  }\n\n  for (var i = 0; i < fields.length; i++) {\n    var fld = fields[i].toLowerCase()\n\n    // append value (case-preserving)\n    if (vals.indexOf(fld) === -1) {\n      vals.push(fld)\n      val = val\n        ? val + ', ' + fields[i]\n        : fields[i]\n    }\n  }\n\n  return val\n}\n\n/**\n * Parse a vary header into an array.\n *\n * @param {String} header\n * @return {Array}\n * @private\n */\n\nfunction parse (header) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = header.length; i < len; i++) {\n    switch (header.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(header.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(header.substring(start, end))\n\n  return list\n}\n\n/**\n * Mark that a request is varied on a header field.\n *\n * @param {Object} res\n * @param {String|Array} field\n * @public\n */\n\nfunction vary (res, field) {\n  if (!res || !res.getHeader || !res.setHeader) {\n    // quack quack\n    throw new TypeError('res argument is required')\n  }\n\n  // get existing header\n  var val = res.getHeader('Vary') || ''\n  var header = Array.isArray(val)\n    ? val.join(', ')\n    : String(val)\n\n  // set new header\n  if ((val = append(header, field))) {\n    res.setHeader('Vary', val)\n  }\n}\n","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","import { app, BrowserWindow, ipcMain, Menu } from \"electron\";\nimport { exec, spawn } from \"child_process\";\nimport express from \"express\";\nimport path from \"path\";\nimport fs from \"fs\";\nimport { actionAuth, auth, token } from \"./server/processors/auth.processors\";\n\n// This allows TypeScript to pick up the magic constants that's auto-generated by Forge's Webpack\n// plugin that tells the Electron app where to look for the Webpack-bundled app code (depending on\n// whether you're running in development or production).\ndeclare const MAIN_WINDOW_WEBPACK_ENTRY: string;\ndeclare const MAIN_WINDOW_PRELOAD_WEBPACK_ENTRY: string;\n\nlet server: any;\nconst port = 8086;\nconst expressApp = express();\n\nexpressApp.use(express.json());\n\n// Configuration du moteur de template EJS\nexpressApp.set(\"view engine\", \"ejs\");\nexpressApp.set(\"views\", path.join(process.cwd(), \"src\", \"server\", \"views\"));\n\n// Handle creating/removing shortcuts on Windows when installing/uninstalling.\nif (require(\"electron-squirrel-startup\")) {\n  app.quit();\n}\n\nconst createWindow = (): void => {\n  // Create the browser window.\n  const mainWindow = new BrowserWindow({\n    height: 600,\n    width: 800,\n    webPreferences: {\n      preload: MAIN_WINDOW_PRELOAD_WEBPACK_ENTRY,\n    },\n  });\n\n  // and load the index.html of the app.\n  console.log(\"test\", MAIN_WINDOW_WEBPACK_ENTRY);\n  mainWindow.loadURL(MAIN_WINDOW_WEBPACK_ENTRY);\n\n  // Open the DevTools.\n  //mainWindow.webContents.openDevTools();\n  // Dsactiver le menu\n  Menu.setApplicationMenu(null);\n};\n\n// Quit when all windows are closed, except on macOS. There, it's common\n// for applications and their menu bar to stay active until the user quits\n// explicitly with Cmd + Q.\napp.on(\"window-all-closed\", () => {\n  if (process.platform !== \"darwin\") {\n    app.quit();\n  }\n});\n\n/*app.on('activate', () => {\n  // On OS X it's common to re-create a window in the app when the\n  // dock icon is clicked and there are no other windows open.\n  if (BrowserWindow.getAllWindows().length === 0) {\n    createWindow();\n  }\n});*/\n\nconst runGcloudCommand = (command: string): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    exec(command, (error, stdout, stderr) => {\n      if (error) {\n        reject(`error: ${error.message}`);\n        return;\n      }\n      if (stderr) {\n        reject(`stderr: ${stderr}`);\n        return;\n      }\n      resolve(stdout);\n    });\n  });\n};\n\nconst runGcloudAuth = (): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const process = spawn(\"gcloud\", [\"auth\", \"login\"]);\n\n    process.stdout.on(\"data\", (data) => {\n      const output = data.toString();\n      console.log(output);\n      if (output.includes(\"You are now logged in as\")) {\n        resolve(output);\n      }\n    });\n\n    process.stderr.on(\"data\", (data) => {\n      console.error(data.toString());\n      reject(new Error(data.toString()));\n    });\n\n    process.on(\"error\", (error) => {\n      console.error(\"Error during gcloud auth login:\", error);\n      reject(error);\n    });\n\n    process.on(\"close\", (code) => {\n      if (code !== 0) {\n        reject(new Error(`gcloud auth login process exited with code ${code}`));\n      }\n    });\n  });\n};\n\nconst runGcloudAuthDefaultApp = (): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const process = spawn(\"sh\", [\n      \"-c\",\n      \"unset GOOGLE_APPLICATION_CREDENTIALS && gcloud auth application-default login\",\n    ]);\n\n    process.stdout.on(\"data\", (data) => {\n      const output = data.toString();\n      console.log(output);\n      if (output.includes(\"You are now logged in as\")) {\n        resolve(output);\n      }\n    });\n\n    process.stderr.on(\"data\", (data) => {\n      console.error(data.toString());\n      reject(new Error(data.toString()));\n    });\n\n    process.on(\"error\", (error) => {\n      console.error(\"Error during gcloud auth login:\", error);\n      reject(error);\n    });\n\n    process.on(\"close\", (code) => {\n      if (code !== 0) {\n        reject(new Error(`gcloud auth login process exited with code ${code}`));\n      }\n    });\n  });\n};\n\nexport const checkGcloudAuthDefaultApp = (): Promise<boolean> => {\n  return new Promise((resolve, reject) => {\n    const credentialsPath = path.join(\n      process.env.HOME,\n      \".config/gcloud/application_default_credentials.json\"\n    );\n\n    // Vrifier si le fichier de credentials existe\n    if (fs.existsSync(credentialsPath)) {\n      resolve(true);\n    } else {\n      console.error(\n        \"Google Application Default credentials file does not exist.\"\n      );\n      resolve(false);\n    }\n  });\n};\n\nexport const revokeGcloudAuthDefaultApp = (): Promise<boolean> => {\n  return new Promise((resolve, reject) => {\n    const process = spawn(\"gcloud\", [\n      \"auth\",\n      \"application-default\",\n      \"revoke\",\n      \"--quiet\",\n    ]);\n\n    process.stdout.on(\"data\", (data) => {\n      const output = data.toString();\n      if (output.includes(\"Credentials revoked\")) {\n        resolve(true);\n      } else {\n        resolve(false);\n      }\n    });\n\n    process.stderr.on(\"data\", (data) => {\n      console.error(data.toString());\n      reject(new Error(data.toString()));\n    });\n\n    process.on(\"error\", (error) => {\n      console.error(\"Error during gcloud auth list:\", error);\n      reject(error);\n    });\n\n    process.on(\"close\", (code) => {\n      if (code !== 0) {\n        reject(new Error(`gcloud auth list process exited with code ${code}`));\n      }\n    });\n  });\n};\n\nexport const checkGcloudAuth = (): Promise<boolean> => {\n  return new Promise((resolve, reject) => {\n    const process = spawn(\"gcloud\", [\"auth\", \"list\"]);\n\n    process.stdout.on(\"data\", (data) => {\n      const output = data.toString();\n      if (output.includes(\"ACTIVE\")) {\n        resolve(true);\n      } else {\n        resolve(false);\n      }\n    });\n\n    process.stderr.on(\"data\", (data) => {\n      console.error(data.toString());\n      reject(false);\n    });\n\n    process.on(\"error\", (error) => {\n      console.error(\"Error during gcloud auth list:\", error);\n      reject(error);\n    });\n\n    process.on(\"close\", (code) => {\n      if (code !== 0) {\n        reject(new Error(`gcloud auth list process exited with code ${code}`));\n      }\n    });\n  });\n};\n\nexport const revokeGcloudAuth = (): Promise<boolean> => {\n  return new Promise((resolve, reject) => {\n    const process = spawn(\"gcloud\", [\"auth\", \"revoke\", \"--all\"]);\n\n    process.stdout.on(\"data\", (data) => {\n      const output = data.toString();\n      if (output.includes(\"ACTIVE\")) {\n        resolve(true);\n      } else {\n        resolve(false);\n      }\n    });\n\n    process.stderr.on(\"data\", (data) => {\n      console.error(data.toString());\n      reject(new Error(data.toString()));\n    });\n\n    process.on(\"error\", (error) => {\n      console.error(\"Error during gcloud auth list:\", error);\n      reject(error);\n    });\n\n    process.on(\"close\", (code) => {\n      if (code !== 0) {\n        reject(new Error(`gcloud auth list process exited with code ${code}`));\n      }\n    });\n  });\n};\n\nconst startServer = () => {\n  server = expressApp.listen(port, () => {\n    console.log(`Server is running on http://localhost:${port}`);\n    sendLog(`Server is running on http://localhost:${port}`);\n  });\n};\n\nconst stopServer = () => {\n  if (server) {\n    server.close(() => {\n      console.log(\"Server stopped.\");\n      sendLog(\"Server stopped.\");\n      server = null; // Rinitialiser la variable server\n    });\n  } else {\n    console.log(\"Server is not running.\");\n    sendLog(\"Server is not running.\");\n  }\n\n  // Utiliser netstat pour trouver et tuer le processus coutant sur le port\n  const command = `netstat -tuln | grep :${port} || true`;\n  exec(command, (err, stdout, stderr) => {\n    if (err && !stdout) {\n      console.error(`Error checking port ${port}:`, err);\n      return;\n    }\n\n    const lines = stdout.trim().split(\"\\n\");\n    if (lines.length > 0) {\n      lines.forEach((line) => {\n        const parts = line.trim().split(/\\s+/);\n        if (parts.length > 6) {\n          const pid = parts[6].split(\"/\")[0];\n          console.log(`Killing process ${pid} on port ${port}`);\n          exec(`kill -9 ${pid}`, (err, stdout, stderr) => {\n            if (err || stderr) {\n              console.error(`Error killing process ${pid}:`, err || stderr);\n            } else {\n              console.log(`Process ${pid} killed.`);\n            }\n          });\n        }\n      });\n    }\n  });\n};\n\nconst sendLog = (message: string) => {\n  const windows = BrowserWindow.getAllWindows();\n  if (windows.length > 0) {\n    windows[0].webContents.send(\"log\", message);\n  }\n};\n\nexpressApp.get(\"/api\", (req, res) => {\n  sendLog(`check api`);\n  res.send(\"Hello from Express!\");\n});\n\nexpressApp.get(\"/auth2/auth\", (req, res) => {\n  return actionAuth(req, res);\n});\n\nexpressApp.get(\"/auth2/auth/gcp\", (req, res) => {\n  return auth(req, res);\n});\n\nexpressApp.post(\"/token\", (req, res) => {\n  return token(req, res);\n});\n\napp.whenReady().then(() => {\n  createWindow();\n\n  ipcMain.on(\"start-server\", () => {\n    startServer();\n    BrowserWindow.getAllWindows()[0].webContents.send(\n      \"server-status\",\n      \"started\"\n    );\n  });\n\n  ipcMain.on(\"stop-server\", () => {\n    stopServer();\n    BrowserWindow.getAllWindows()[0].webContents.send(\n      \"server-status\",\n      \"stopped\"\n    );\n  });\n\n  ipcMain.handle(\"run-gcloud-command\", async (_event, command) => {\n    try {\n      const result = await runGcloudCommand(command);\n      return result;\n    } catch (error) {\n      return error.message;\n    }\n  });\n\n  ipcMain.handle(\"run-gcloud-auth\", async () => {\n    try {\n      const result = await runGcloudAuth();\n      return result;\n    } catch (error) {\n      return error.message;\n    }\n  });\n\n  ipcMain.handle(\"run-gcloud-auth-default-app\", async () => {\n    try {\n      const result = await runGcloudAuthDefaultApp();\n      return result;\n    } catch (error) {\n      return error.message;\n    }\n  });\n\n  ipcMain.handle(\"check-gcloud-auth\", async () => {\n    try {\n      const result = await checkGcloudAuth();\n      console.log(result);\n      return result;\n    } catch (error) {\n      return error.message;\n    }\n  });\n\n  ipcMain.handle(\"check-gcloud-auth-default-app\", async () => {\n    try {\n      const result = await checkGcloudAuthDefaultApp();\n      console.log(result);\n      return result;\n    } catch (error) {\n      return error.message;\n    }\n  });\n\n  ipcMain.handle(\"revoke-gcloud-auth\", async () => {\n    try {\n      const result = await revokeGcloudAuth();\n      console.log(result);\n      return result;\n    } catch (error) {\n      return error.message;\n    }\n  });\n\n  ipcMain.handle(\"revoke-gcloud-auth-default-app\", async () => {\n    try {\n      const result = await revokeGcloudAuthDefaultApp();\n      console.log(result);\n      return result;\n    } catch (error) {\n      return error.message;\n    }\n  });\n\n  ipcMain.handle(\"get-server-status\", async () => {\n    const status = server ? true : false;\n    return status;\n  });\n\n  app.on(\"activate\", () => {\n    if (BrowserWindow.getAllWindows().length === 0) createWindow();\n  });\n});\n\n// In this file you can include the rest of your app's specific main process\n// code. You can also put them in separate files and import them here.\n","import { exec, spawn } from \"child_process\";\nimport url from \"url\";\n\nimport { GoogleAuth } from \"google-auth-library\";\n\nexport const getAuthenticatedHeaders = async () => {\n  try {\n    const auth = new GoogleAuth({\n      scopes: [\"https://www.googleapis.com/auth/cloud-platform\"],\n    });\n    const client = await auth.getClient();\n    const accessToken = await client.getAccessToken();\n\n    return {\n      access_token: accessToken.res.data.access_token,\n      id_token: accessToken.res.data.id_token,\n      refresh_token: accessToken.res.data.refresh_token,\n      token_type: \"Bearer\",\n      expires_in: accessToken.res.data.expires_in,\n      refresh_expires_in: accessToken.res.data.expires_in,\n      scope: accessToken.res.data.scope,\n      token_key: \"id_token\",\n    };\n  } catch (error) {\n    console.error(\"Failed to refresh credentials:\", error);\n    throw error;\n  }\n};\n\nexport const runGcloudCommand = (command: string): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    exec(command, (error, stdout, stderr) => {\n      if (error) {\n        reject(`error: ${error.message}`);\n        return;\n      }\n      if (stderr) {\n        reject(`stderr: ${stderr}`);\n        return;\n      }\n      resolve(stdout);\n    });\n  });\n};\n\nexport const run_gcloud_auth = (): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const process = spawn(\"gcloud\", [\"auth\", \"login\"]);\n\n    process.stdout.on(\"data\", (data) => {\n      const output = data.toString();\n      console.log(output);\n      if (output.includes(\"You are now logged in as\")) {\n        resolve(output);\n      }\n    });\n\n    process.stderr.on(\"data\", (data) => {\n      console.error(data.toString());\n      reject(new Error(data.toString()));\n    });\n\n    process.on(\"error\", (error) => {\n      console.error(\"Error during gcloud auth login:\", error);\n      reject(error);\n    });\n\n    process.on(\"close\", (code) => {\n      if (code !== 0) {\n        reject(new Error(`gcloud auth login process exited with code ${code}`));\n      }\n    });\n  });\n};\n\nexport const actionAuth = (req: any, res: any) => {\n  const query_params = req.query;\n  const base_url = \"/auth2/auth/gcp\";\n  const query_string = new URLSearchParams(query_params).toString();\n  const auth_link = `${base_url}?${query_string}`;\n\n  res.render(\"login\", { auth_link });\n};\n\nexport const auth = async (req: any, res: any) => {\n  const redirectUri = req.query.redirect_uri;\n  if (!redirectUri) {\n    return res.status(400).json({ error: \"Missing redirect_uri\" });\n  }\n\n  const authCode = \"local-service-gcp\";\n  const redirectUrl = url.format({\n    pathname: redirectUri,\n    query: { code: authCode },\n  });\n\n  res.redirect(redirectUrl);\n  return true;\n};\n\nexport const token = async (req: any, res: any) => {\n  try {\n    const token = await getAuthenticatedHeaders();\n    res.send(token);\n  } catch (error) {\n    console.error(\"Error getting token:\", error);\n    res.status(500).send(\"Internal Server Error\");\n  }\n};\n","module.exports = require(\"assert\");","module.exports = require(\"async_hooks\");","module.exports = require(\"buffer\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"electron\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"punycode\");","module.exports = require(\"querystring\");","module.exports = require(\"stream\");","module.exports = require(\"string_decoder\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nconst isSameProtocol = function isSameProtocol(destination, original) {\n\tconst orig = new URL$1(original).protocol;\n\tconst dest = new URL$1(destination).protocol;\n\n\treturn orig === dest;\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\tdestroyStream(request.body, error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(req, function (err) {\n\t\t\tif (signal && signal.aborted) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (parseInt(process.version.substring(1)) < 14) {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\treq.on('socket', function (s) {\n\t\t\t\ts.addListener('close', function (hadError) {\n\t\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\t\tconst hasDataListener = s.listenerCount('data') > 0;\n\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && hasDataListener && !hadError && !(signal && signal.aborted)) {\n\t\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.on('end', function () {\n\t\t\t\t\t// some old IIS servers return zero-length OK deflate responses, so 'data' is never emitted.\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tlet socket;\n\n\trequest.on('socket', function (s) {\n\t\tsocket = s;\n\t});\n\n\trequest.on('response', function (response) {\n\t\tconst headers = response.headers;\n\n\t\tif (headers['transfer-encoding'] === 'chunked' && !headers['content-length']) {\n\t\t\tresponse.once('close', function (hadError) {\n\t\t\t\t// tests for socket presence, as in some situations the\n\t\t\t\t// the 'socket' event is not triggered for the request\n\t\t\t\t// (happens in deno), avoids `TypeError`\n\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\tconst hasDataListener = socket && socket.listenerCount('data') > 0;\n\n\t\t\t\tif (hasDataListener && !hadError) {\n\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\nfunction destroyStream(stream, err) {\n\tif (stream.destroy) {\n\t\tstream.destroy(err);\n\t} else {\n\t\t// node < 8\n\t\tstream.emit('error', err);\n\t\tstream.end();\n\t}\n}\n\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError, AbortError };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","\nif (typeof __webpack_require__ !== 'undefined') __webpack_require__.ab = __dirname + \"/native_modules/\";","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(5391);\n"],"names":["Negotiator","mime","Accepts","req","this","headers","negotiator","extToMime","type","indexOf","lookup","validMime","module","exports","prototype","types","types_","Array","isArray","arguments","length","i","mediaTypes","accept","mimes","map","first","filter","encoding","encodings","encodings_","charset","charsets","charsets_","lang","langs","language","languages","languages_","flattenWithDepth","array","result","depth","value","push","flattenForever","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","join","Uint8Array","code","Error","start","end","num","output","globalObject","BigNumber","isNumeric","mathceil","Math","ceil","mathfloor","floor","bignumberError","tooManyDigits","BASE","LOG_BASE","MAX_SAFE_INTEGER","POWS_TEN","SQRT_BASE","MAX","bitFloor","n","coeffToString","a","s","z","j","r","slice","compare","x","y","b","xc","c","yc","k","e","l","intCheck","min","max","name","String","isOdd","toExponential","str","charAt","toFixedPoint","zs","clone","configObject","div","convertBase","parseNumeric","pow2_53","random53bitInt","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","P","constructor","toString","valueOf","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","prefix","groupSize","secondaryGroupSize","groupSeparator","decimalSeparator","fractionGroupSize","fractionGroupSeparator","suffix","ALPHABET","alphabetHasNormalDecimalDigits","v","alphabet","caseChanged","isNum","_isBigNumber","test","replace","search","substring","round","DEBUG","toUpperCase","toLowerCase","format","rm","id","c0","ne","maxOrMin","args","normalise","pop","sd","d","ni","rd","pows10","out","ROUND_UP","ROUND_DOWN","ROUND_CEIL","ROUND_FLOOR","ROUND_HALF_UP","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_CEIL","ROUND_HALF_FLOOR","EUCLID","config","set","obj","p","hasOwnProperty","crypto","getRandomValues","randomBytes","EXPONENTIAL_AT","RANGE","isBigNumber","call","maximum","minimum","random","dp","rand","Uint32Array","copy","splice","sum","plus","decimal","toBaseOut","baseIn","baseOut","arrL","reverse","sign","callerIsToString","pow","concat","multiply","base","m","temp","xlo","xhi","carry","klo","khi","aL","bL","cmp","subtract","more","prod","prodL","q","qc","rem","remL","rem0","xi","xL","yc0","yL","yz","NaN","isNaN","p1","p2","absoluteValue","abs","comparedTo","decimalPlaces","dividedBy","dividedToIntegerBy","idiv","exponentiatedBy","half","isModExp","nIsBig","nIsNeg","nIsOdd","isInteger","mod","times","integerValue","isEqualTo","eq","isFinite","isGreaterThan","gt","isGreaterThanOrEqualTo","gte","isLessThan","lt","isLessThanOrEqualTo","lte","isNegative","isPositive","isZero","minus","t","xLTy","xe","ye","modulo","multipliedBy","xcL","ycL","ylo","yhi","zc","sqrtBase","negated","precision","shiftedBy","squareRoot","sqrt","rep","toFixed","toFormat","split","g1","g2","intPart","fractionPart","isNeg","intDigits","substr","RegExp","toFraction","md","d0","d1","d2","exp","n0","n1","toNumber","toPrecision","toJSON","define","amd","self","window","deprecate","parsers","Object","create","createParserGetter","parserName","parser","undefined","loadParser","function","options","opts","configurable","enumerable","writable","_urlencoded","urlencoded","_json","json","res","next","err","defineProperty","get","createError","destroy","getBody","iconv","onFinished","unpipe","zlib","parse","debug","stream","_body","verify","inflate","createInflate","pipe","createGunzip","contentstream","encodingExists","error","body","_error","callback","isFinished","resume","dump","decode","bytes","contentType","read","typeis","limit","reviver","strict","TypeError","shouldParse","Boolean","typeChecker","match","FIRST_CHAR_REGEXP","exec","char","index","partial","JSON_SYNTAX_CHAR","JSON","SyntaxError","normalizeJsonSyntaxError","message","JSON_SYNTAX_REGEXP","placeholder","stack","createStrictSyntaxError","hasBody","parameters","getCharset","keys","getOwnPropertyNames","key","buf","defaultCharset","extended","queryparse","parameterLimit","paramCount","parameterCount","arrayLimit","allowPrototypes","Infinity","extendedparser","maxKeys","simpleparser","count","load","storage","process","env","log","console","Function","apply","formatArgs","useColors","namespace","humanize","diff","color","lastC","save","namespaces","removeItem","document","documentElement","style","WebkitAppearance","firebug","exception","table","navigator","userAgent","parseInt","$1","chrome","local","localStorage","localstorage","colors","formatters","stringify","enable","prevTime","createDebug","enabled","curr","Date","ms","prev","coerce","unshift","formatter","val","bind","hash","selectColor","init","disable","names","skips","tty","util","inspectOpts","write","toUTCString","isatty","fd","reduce","prop","_","Number","DEBUG_FD","stdout","stderr","binding","guessHandleType","WriteStream","_type","_handle","unref","SyncWriteStream","autoClose","Socket","readable","_isStdio","createWritableStdioStream","o","inspect","trim","O","h","plural","parseFloat","long","fmtShort","Buffer","SlowBuffer","bufferEq","isBuffer","install","equal","that","origBufEqual","origSlowBufEqual","restore","formatThousandsRegExp","formatDecimalsRegExp","kb","mb","gb","tb","pb","parseRegExp","mag","thousandsSeparator","unitSeparator","fixedDecimals","unit","floatValue","results","GetIntrinsic","callBind","$indexOf","allowMissing","intrinsic","setFunctionLength","$TypeError","$apply","$call","$reflectApply","$defineProperty","$max","originalFunction","func","applyBind","filename","params","fallback","NON_LATIN1_REGEXP","basename","isQuotedString","TEXT_REGEXP","fallbackName","getlatin1","hasFallback","HEX_ESCAPE_REGEXP","createparams","TOKEN_REGEXP","string","param","sort","ustring","qstring","ContentDisposition","DISPOSITION_TYPE_REGEXP","PARAM_REGEXP","lastIndex","QESC_REGEXP","decodefield","ENCODE_URL_ATTR_CHAR_REGEXP","HEX_ESCAPE_REPLACE_REGEXP","QUOTE_REGEXP","EXT_VALUE_REGEXP","binary","pdecode","from","hex","fromCharCode","pencode","encodeURIComponent","TYPE_REGEXP","ContentType","header","getHeader","getcontenttype","sha1","createHash","update","digest","secret","createHmac","unsign","lastIndexOf","dec","eqIdx","endIdx","tryDecode","serialize","opt","enc","encode","fieldContentRegExp","maxAge","domain","path","expires","__toString","isDate","httpOnly","secure","partitioned","priority","sameSite","decodeURIComponent","setItem","getItem","__nwjs","warned","warn","namespacesCache","enabledCache","enableOverride","extend","delimiter","newDebug","toNamespace","regexp","default","forEach","browser","colorCode","hideDate","toISOString","supportsColor","level","$SyntaxError","gopd","property","nonEnumerable","nonWritable","nonConfigurable","loose","desc","relative","file","callSiteLocation","getStack","_file","_ignored","noDeprecation","containsNamespace","NO_DEPRECATION","isignored","_namespace","_traced","traceDeprecation","TRACE_DEPRECATION","istraced","_warned","wrapfunction","wrapproperty","basePath","cwd","vals","ns","createStackString","site","emitter","haslisteners","listenerCount","listeners","caller","callFile","callSite","depSite","seen","msg","defaultMessage","DeprecationError","emit","isTTY","formatColor","formatPlain","getFileName","line","getLineNumber","colm","getColumnNumber","isEval","getEvalOrigin","getFunctionName","funcName","formatLocation","context","getThis","typeName","getTypeName","getMethodName","formatted","stackTraceLimit","prep","prepareStackTrace","prepareObjectStackTrace","captureStackTrace","fn","arity","createArgumentsString","descriptor","getOwnPropertyDescriptor","convertDataDescriptorToAccessor","stackString","EventEmitter","ReadStream","Stream","Zlib","noop","onDrainClearBinding","_binding","clear","onOpenClose","close","suppress","isFsReadStream","Gzip","Gunzip","Deflate","DeflateRaw","Inflate","InflateRaw","Unzip","isZlibStream","_processing","_needDrain","once","_destroy","Transform","destroyed","_hadError","closeZlibStream","destroyZlibStream","hasDestroy","on","destroyReadStream","removeAllListeners","addListener","getParamBytesForAlg","MAX_OCTET","signatureAsBuffer","signature","countPadding","stop","padding","derToJose","alg","paramBytes","maxEncodedParamLength","inputLength","offset","seqLength","rLength","rOffset","sLength","sOffset","rPadding","sPadding","dst","allocUnsafe","joseToDer","signatureBytes","rsBytes","shortLength","getParamSize","keySize","paramBytesForAlg","ES256","ES384","ES512","listener","event","done","arg1","stuff","cleanups","ee","cleanup","removeListener","thunk","cancel","spawn","app","run","updateExe","resolve","dirname","execPath","detached","platform","cmd","argv","target","quit","check","url","UNMATCHED_SURROGATE_PAIR_REGEXP","UNMATCHED_SURROGATE_PAIR_REPLACE","ENCODE_CHARS_REGEXP","encodeURI","EvalError","RangeError","ReferenceError","URIError","matchHtmlRegExp","escape","html","entity","isStats","Stats","ctime","mtime","ino","size","weak","stat","tag","getTime","entitytag","finalhandler","Router","methods","middleware","query","View","http","compileETag","compileQueryParser","compileTrust","flatten","merge","setPrototypeOf","trustProxyDefaultSymbol","logerror","cache","engines","settings","defaultConfiguration","parent","request","response","locals","mountpath","lazyrouter","_router","caseSensitive","use","handle","router","onerror","arg","fns","orig","route","engine","ext","extension","setting","getPrototypeOf","disabled","method","all","del","delete","render","view","renderOptions","_locals","defaultEngine","root","dirs","tryRender","listen","server","createServer","bodyParser","mixin","proto","Route","application","raw","text","setHeader","parseUrl","qs","accepts","isIP","fresh","parseRange","proxyaddr","IncomingMessage","defineGetter","getter","lc","referrer","referer","acceptsEncodings","acceptsEncoding","acceptsCharsets","acceptsCharset","acceptsLanguages","acceptsLanguage","range","defaultValue","is","connection","encrypted","trust","remoteAddress","protocol","addrs","hostname","pathname","host","trimRight","status","statusCode","contentDisposition","encodeUrl","escapeHtml","isAbsolute","statuses","normalizeType","normalizeTypes","setCharset","cookie","send","extname","vary","ServerResponse","charsetRegExp","schemaAndHostRegExp","sendfile","streaming","onaborted","setImmediate","replacer","spaces","links","link","rel","chunk","etag","etagFn","generateETag","removeHeader","jsonp","sendStatus","sendFile","syscall","download","fullPath","ct","attachment","append","field","clearCookie","signed","now","location","loc","pos","redirect","address","u","Layer","objectRegExp","_params","mergeParams","appendMethods","list","addition","matchLayer","layer","ret","old","idx","protohost","searchIndex","pathLength","fqdnIndex","getProtohost","removed","slashAdded","sync","paramcalled","parentParams","parentUrl","baseUrl","props","layerError","getPathname","has_method","_handles_method","_options","layerPath","process_params","handle_request","originalUrl","handle_error","trim_prefix","sendOptionsResponse","called","paramVal","paramCallbacks","paramCalled","paramIndex","paramCallback","callbacks","sensitive","dispatch","pathRegexp","fast_star","fast_slash","decode_param","_all","head","handles","querystring","createETagGenerator","parseExtendedQueryString","newObject","wetag","quality","pms","acceptParams","compile","parsed","hasOwn","toStr","gOPD","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","newValue","getProperty","src","copyIsArray","deep","DOUBLE_SPACE_REGEXP","NEWLINE_REGEXP","defer","nextTick","headersSent","_header","getErrorStatusCode","getResponseStatusCode","getErrorHeaders","getErrorMessage","original","getResourceName","socket","createHtmlDocument","statusMessage","setHeaders","getSocketAddr","proxyAddrs","CACHE_CONTROL_NO_CACHE_REGEXP","parseHttpDate","date","timestamp","reqHeaders","resHeaders","modifiedSince","noneMatch","cacheControl","etagStale","matches","parseTokenList","lastModified","concatty","bound","arrLike","slicy","boundLength","boundArgs","joiner","joiny","Empty","implementation","_a","__importDefault","__esModule","defaultErrorRedactor","GaxiosError","GAXIOS_ERROR_SYMBOL","url_1","util_1","extend_1","Symbol","for","pkg","hasInstance","instance","version","_b","super","data","responseType","translateData","_c","errorRedactor","REDACT","redactHeaders","redactString","redactObject","URL","searchParams","has","_Gaxios_instances","_Gaxios_urlMayUseProxy","_Gaxios_applyRequestInterceptors","_Gaxios_applyResponseInterceptors","_Gaxios_prepareRequest","_Gaxios_proxyAgent","_Gaxios_getProxyAgent","__createBinding","k2","__setModuleDefault","__importStar","__classPrivateFieldGet","receiver","state","kind","f","__classPrivateFieldSet","Gaxios","https_1","node_fetch_1","querystring_1","is_stream_1","common_1","retry_1","stream_1","uuid_1","interceptor_1","fetch","hasHeader","defaults","add","agentCache","Map","interceptors","GaxiosInterceptorManager","_request","_defaultAdapter","fetchImpl","fetchImplementation","getResponseData","translateResponse","translatedResponse","adapter","validateStatus","Promise","shouldRetry","getRetryConfig","retryConfig","currentRetryAttempt","arrayBuffer","blob","getResponseDataFromContentType","paramsSerializer","statusText","responseURL","includes","getMultipartRequest","multipartOptions","boundary","finale","currentPart","preamble","content","WeakSet","noProxy","candidate","noProxyList","noProxyEnvList","NO_PROXY","no_proxy","rule","origin","startsWith","cleanedRule","endsWith","href","async","promiseChain","interceptor","values","then","resolved","rejected","_d","_e","baseURL","additionalQueryParams","maxContentLength","maxRedirects","follow","multipart","isFormData","FormData","v4","bodyStream","PassThrough","pipeline","proxy","HTTPS_PROXY","https_proxy","HTTP_PROXY","http_proxy","urlMayUseProxy","agent","HttpsProxyAgent","cert","Agent","__exportStar","gaxios_1","Set","shouldRetryRequest","getConfig","retry","noResponseRetries","httpMethodsToRetry","isInRange","statusCodesToRetry","shouldRetryFn","delay","retryDelay","backoff","retryBackoff","setTimeout","onRetryAttempt","toBuffer","https","chunks","_err","promise","reject","net","INTERNAL","isSecureEndpoint","secureEndpoint","some","incrementSockets","maxSockets","maxTotalSockets","sockets","fakeSocket","totalSocketCount","decrementSockets","getName","createSocket","cb","connectOpts","connect","addRequest","currentSocket","createConnection","defaultPort","tls","assert_1","debug_1","agent_base_1","parse_proxy_response_1","proxyHeaders","port","ALPNProtocols","omit","servername","isIPv6","payload","username","password","auth","Host","keepAlive","proxyResponsePromise","parseProxyResponse","buffered","protocols","buffersLength","buffers","endOfHeaders","headerParts","firstLine","shift","firstLineParts","firstColon","trimStart","current","ondata","onend","rnds8Pool","poolPtr","rng","uuid","byteToHex","unsafeStringify","_nodeId","_clockseq","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","msecs","nsecs","dt","tl","tmh","v35","hashfunc","generateUUID","unescape","stringToBytes","DNS","randomUUID","rnds","detectGCPResidency","isGoogleComputeEngine","isGoogleComputeEngineMACAddress","isGoogleComputeEngineLinux","isGoogleCloudServerless","GCE_LINUX_BIOS_PATHS","fs_1","os_1","BIOS_DATE","BIOS_VENDOR","GCE_MAC_ADDRESS_REGEX","CLOUD_RUN_JOB","FUNCTION_NAME","K_SERVICE","statSync","biosVendor","readFileSync","interfaces","networkInterfaces","item","mac","requestTimeout","setGCPResidency","getGCPResidency","gcpResidencyCache","resetIsAvailableCache","isAvailable","bulk","universe","project","METADATA_SERVER_DETECTION","HEADERS","HEADER_VALUE","HEADER_NAME","SECONDARY_HOST_ADDRESS","HOST_ADDRESS","BASE_PATH","jsonBigint","gcp_residency_1","getBaseUrl","GCE_METADATA_IP","GCE_METADATA_HOST","metadataAccessor","fastFail","metadataKey","validate","requestMethod","fastFailMetadataRequest","timeout","secondaryOptions","responded","r1","catch","r2","race","cachedIsAvailableResponse","freeze","none","properties","toLocaleLowerCase","DETECT_GCP_RETRIES","DEBUG_AUTH","info","emitWarning","$Error","$EvalError","$RangeError","$ReferenceError","$URIError","$Function","getEvalledConstructor","expressionSyntax","$gOPD","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","hasSymbols","hasProto","getProto","__proto__","needsEval","TypedArray","INTRINSICS","AggregateError","ArrayBuffer","iterator","Atomics","BigInt","BigInt64Array","BigUint64Array","DataView","decodeURI","eval","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","Proxy","Reflect","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","WeakMap","WeakRef","errorProto","doEval","gen","LEGACY_ALIASES","$concat","$spliceApply","$replace","$strSlice","$exec","rePropName","reEscapeChar","getBaseIntrinsic","alias","intrinsicName","last","number","quote","subString","stringToPath","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","AuthClient","DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS","DEFAULT_UNIVERSE","events_1","transporters_1","credentials","eagerRefreshThresholdMillis","forceRefreshOnFailure","universeDomain","originalOrCamelOptions","projectId","quotaProjectId","transporter","DefaultTransporter","transporterOptions","gaxios","setCredentials","addSharedMetadataHeaders","RETRY_CONFIG","_AwsClient_DEFAULT_AWS_REGIONAL_CREDENTIAL_VERIFICATION_URL","AwsClient","awsrequestsigner_1","baseexternalclient_1","defaultawssecuritycredentialssupplier_1","BaseExternalAccountClient","additionalOptions","credentialSource","awsSecurityCredentialsSupplier","regionalCredVerificationUrl","credentialSourceType","credentialSourceOpts","environmentId","regionUrl","securityCredentialsUrl","imdsV2SessionTokenUrl","DefaultAwsSecurityCredentialsSupplier","validateEnvironmentId","awsRequestSigner","region","retrieveSubjectToken","getAwsRegion","supplierContext","AwsRequestSigner","getAwsSecurityCredentials","getRequestOptions","reformattedHeader","extendedHeaders","assign","audience","AWS_EC2_METADATA_IPV4_ADDRESS","AWS_EC2_METADATA_IPV6_ADDRESS","crypto_1","AWS_ALGORITHM","signWithHmacSha256","getCredentials","createCrypto","amzOptions","requestPayloadData","requestPayload","additionalAmzHeaders","awsSecurityCredentials","uri","headerMap","serviceName","amzDate","dateStamp","reformattedAdditionalAmzHeaders","securityCredentials","token","amzHeaders","canonicalHeaders","signedHeadersList","signedHeaders","payloadHash","sha256DigestHex","canonicalRequest","canonicalUri","canonicalQuerystring","credentialScope","stringToSign","signingKey","kDate","kRegion","kService","getSigningKey","secretAccessKey","authorizationHeader","accessKeyId","fromArrayBufferToHex","generateAuthenticationHeaderMap","Authorization","awsSignedReq","CLOUD_RESOURCE_MANAGER","EXTERNAL_ACCOUNT_TYPE","EXPIRATION_TIME_OFFSET","authclient_1","sts","DEFAULT_OAUTH_SCOPE","authclient_2","clientId","clientSecret","tokenUrl","subjectTokenType","workforcePoolUserProject","serviceAccountImpersonationUrl","serviceAccountImpersonation","serviceAccountImpersonationLifetime","cloudResourceManagerURL","clientAuth","confidentialClientType","stsCredential","StsCredentials","scopes","cachedAccessToken","workforceAudiencePattern","configLifetimeRequested","projectNumber","getProjectNumber","getServiceAccountEmail","groups","email","getAccessToken","isExpired","refreshAccessTokenAsync","access_token","getRequestHeaders","requestAsync","getProjectId","reAuthRetried","requestHeaders","isReadableStream","Readable","subjectToken","stsCredentialsOptions","grantType","requestedTokenType","scope","getScopesArray","userProject","additionalHeaders","getMetricsHeaderValue","stsResponse","exchangeToken","getImpersonatedAccessToken","expires_in","expiry_date","refresh_token","token_type","id_token","lifetime","successResponse","accessToken","expireTime","nodeVersion","saImpersonation","Compute","gcpMetadata","oauth2client_1","OAuth2Client","serviceAccountEmail","refreshTokenNoCache","refreshToken","tokenPath","instanceOptions","wrapError","tokens","fetchIdToken","targetAudience","idTokenPath","idToken","_DefaultAwsSecurityCredentialsSupplier_instances","_DefaultAwsSecurityCredentialsSupplier_getImdsV2SessionToken","_DefaultAwsSecurityCredentialsSupplier_getAwsRoleName","_DefaultAwsSecurityCredentialsSupplier_retrieveAwsSecurityCredentials","_DefaultAwsSecurityCredentialsSupplier_regionFromEnv_get","_DefaultAwsSecurityCredentialsSupplier_securityCredentialsFromEnv_get","additionalGaxiosOptions","metadataHeaders","roleName","awsCreds","AccessKeyId","SecretAccessKey","Token","DownscopedClient","MAX_ACCESS_BOUNDARY_RULES_COUNT","authClient","credentialAccessBoundary","accessBoundary","accessBoundaryRules","availablePermissions","cachedDownscopedAccessToken","expirationTime","sourceCredExpireDate","expiryDate","downscopedAccessToken","getEnv","GCPEnv","envPromise","NONE","GAE_SERVICE","GAE_MODULE_NAME","APP_ENGINE","FUNCTION_TARGET","CLOUD_FUNCTIONS","isComputeEngine","isKubernetesEngine","KUBERNETES_ENGINE","K_CONFIGURATION","CLOUD_RUN","COMPUTE_ENGINE","getEnvMemoized","InvalidSubjectTokenError","InvalidMessageFieldError","InvalidCodeFieldError","InvalidTokenTypeFieldError","InvalidExpirationTimeFieldError","InvalidSuccessFieldError","InvalidVersionFieldError","ExecutableResponseError","ExecutableResponse","SAML_SUBJECT_TOKEN_TYPE","OIDC_SUBJECT_TOKEN_TYPE1","OIDC_SUBJECT_TOKEN_TYPE2","responseJson","success","expiration_time","tokenType","saml_response","errorCode","errorMessage","isValid","ExternalAccountAuthorizedUserClient","EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE","oauth2common_1","ExternalAccountAuthorizedUserHandler","OAuthClientAuthHandler","clientAuthentication","URLSearchParams","grant_type","applyClientAuthenticationOptions","tokenRefreshResponse","getErrorFromOAuthErrorResponse","universe_domain","client_id","client_secret","externalAccountAuthorizedUserHandler","token_url","quota_project_id","refreshResponse","ExternalAccountClient","identitypoolclient_1","awsclient_1","pluggable_auth_client_1","fromJSON","credential_source","environment_id","executable","PluggableAuthClient","IdentityPoolClient","FileSubjectTokenSupplier","fs","readFile","promisify","realpath","lstat","filePath","formatType","subjectTokenFieldName","getSubjectToken","parsedFilePath","isFile","rawText","GoogleAuth","CLOUD_SDK_CLIENT_ID","child_process_1","os","computeclient_1","idtokenclient_1","envDetect_1","jwtclient_1","refreshclient_1","impersonated_1","externalclient_1","externalAccountAuthorizedUserClient_1","GoogleAuthExceptionMessages","isGCE","checkIsGCE","jsonContent","cachedCredential","clientOptions","_cachedProjectId","keyFilename","keyFile","setGapicJWTValues","client","defaultServicePath","useJWTAccessWithScope","defaultScopes","getProjectIdAsync","getProjectIdOptional","findAndCacheProjectId","getProductionProjectId","getFileProjectId","getDefaultServiceProjectId","getGCEProjectId","getExternalAccountClientProjectId","_findProjectIdPromise","getUniverseDomainFromMetadataServer","getUniverseDomain","getClient","getAnyScopes","getApplicationDefault","optionsOrCallback","getApplicationDefaultAsync","credential","prepareAndCacheADC","quotaProjectIdOverride","_tryGetApplicationCredentialsFromEnvironmentVariable","JWT","_tryGetApplicationCredentialsFromWellKnownFile","_checkIsGCE","credentialsPath","_getApplicationCredentialsFromFilePath","_isWindows","home","existsSync","realpathSync","lstatSync","readStream","createReadStream","fromStream","fromImpersonatedJSON","IMPERSONATED_ACCOUNT_TYPE","source_credentials","service_account_impersonation_url","sourceClient","UserRefreshClient","targetPrincipal","targetScopes","Impersonated","delegates","preferredUniverseDomain","USER_REFRESH_ACCOUNT_TYPE","_cacheClientFromJSON","inputStream","fromStreamAsync","setEncoding","fromAPIKey","apiKey","sys","configuration","core","creds","getCredentialsAsync","client_email","getTargetPrincipal","private_key","getIdTokenClient","IdTokenClient","idTokenProvider","authorizeRequest","endpoint","signedBlob","signBlob","emailOrUniqueId","encodeBase64StringUtf8","IAMAuth","selector","filesubjecttokensupplier_1","urlsubjecttokensupplier_1","subjectTokenSupplier","formatOpts","formatSubjectTokenFieldName","UrlSubjectTokenSupplier","getRequestMetadataAsync","isTokenExpiring","getIdTokenExpiryDate","payloadB64","_f","blobToSign","tokenResponse","includeEmail","JWTAccess","jws","DEFAULT_HEADER","typ","keyId","LRUCache","capacity","getCachedKey","cacheKey","additionalClaims","cachedToken","expiration","iat","getExpirationTime","defaultClaims","iss","sub","aud","claim","kid","private_key_id","project_id","gtoken_1","jwtaccess_1","optionsOrEmail","subject","createScoped","jwt","useSelfSignedJWT","hasUserScopes","hasAnyScopes","target_audience","access","useScopes","gtoken","GoogleToken","getToken","forceRefresh","authorize","authorizeAsync","createGToken","expiresAt","privateKey","clientEmail","LoginTicket","pay","envelope","getEnvelope","getPayload","getUserId","getAttributes","CertificateFormat","CodeChallengeMethod","formatEcdsa","loginticket_1","optionsOrClientId","redirectUri","certificateCache","certificateExpiry","certificateCacheFormat","PEM","refreshTokenPromises","_clientId","_clientSecret","endpoints","tokenInfoUrl","oauth2AuthBaseUrl","oauth2TokenUrl","oauth2RevokeUrl","oauth2FederatedSignonPemCertsUrl","oauth2FederatedSignonJwkCertsUrl","oauth2IapPublicKeyUrl","issuers","generateAuthUrl","code_challenge_method","code_challenge","response_type","redirect_uri","generateCodeVerifier","generateCodeVerifierAsync","codeVerifier","randomBytesBase64","codeChallenge","sha256DigestBase64","codeOrOptions","getTokenAsync","code_verifier","error_description","refreshAccessToken","getAccessTokenAsync","refreshHandler","refreshedAccessToken","processAndValidateRefreshHandler","thisCreds","getRevokeTokenUrl","getRevokeTokenURL","revokeToken","revokeCredentials","revokeCredentialsAsync","mayRequireRefresh","mayRequireRefreshWithNoRefreshToken","isAuthErr","verifyIdToken","verifyIdTokenAsync","getFederatedSignonCertsAsync","verifySignedJwtWithCertsAsync","certs","maxExpiry","getTokenInfo","getFederatedSignonCerts","nowTime","hasBrowserCrypto","JWK","cacheAge","regexResult","certificates","getIapPublicKeys","getIapPublicKeysAsync","pubkeys","verifySignedJwtWithCerts","requiredAudience","DEFAULT_MAX_TOKEN_LIFETIME_SECS_","segments","decodeBase64StringUtf8","earliest","CLOCK_SKEW_SECS_","latest","audVerified","accessTokenResponse","GOOGLE_TOKEN_INFO_URL","METHODS_SUPPORTING_REQUEST_BODY","bearerToken","injectAuthenticatedHeaders","injectAuthenticatedRequestBody","base64EncodedCreds","resp","errorDescription","errorUri","error_uri","newError","PassThroughClient","ExecutableError","executable_response_1","pluggable_auth_handler_1","command","timeout_millis","timeoutMillis","outputFile","output_file","handler","PluggableAuthHandler","executableResponse","retrieveCachedResponse","envMap","retrieveResponseFromExecutable","childProcess","commandComponents","parseCommand","child","fromEntries","kill","clearTimeout","promises","responseString","components","_refreshToken","tokenExchangeEndpoint","resource","requested_token_type","subject_token","subject_token_type","actor_token","actingParty","actorToken","actor_token_type","actorTokenType","stsSuccessfulResponse","BrowserCrypto","base64js","subtle","inputBuffer","TextEncoder","outputBuffer","padBase64","base64","pubkey","algo","dataArray","signatureArray","cryptoKey","importKey","uint8array","TextDecoder","rawKey","crypto_2","NodeCrypto","byte","padStart","verifier","createVerify","signer","createSign","buffer","byteOffset","googleauth_1","iam_1","downscopedclient_1","passthrough_1","vpairs","invalid","expected","pair","options_1","PRODUCT_NAME","configure","uaValue","USER_AGENT","processError","errors","err2","_LRUCache_instances","_LRUCache_cache","_LRUCache_moveToEnd","_LRUCache_evict","snakeToCamel","lastAccessed","cutoffDate","oldestItem","entries","_GoogleToken_instances","_GoogleToken_inFlightRequest","_GoogleToken_getTokenAsync","_GoogleToken_getTokenAsyncInner","_GoogleToken_ensureEmail","_GoogleToken_revokeTokenAsync","_GoogleToken_configure","_GoogleToken_requestToken","ErrorWithCode","GOOGLE_TOKEN_URL","rawToken","hasExpired","signedJWT","assertion","tokenExpires","flag","position","terminatorPosition","hasPropertyDescriptors","hasArrayLengthDefineBug","foo","$Object","origSymbol","hasSymbolSham","getOwnPropertySymbols","sym","symObj","syms","propertyIsEnumerable","$hasOwn","HttpError","inherits","toIdentifier","codeClass","nameFunc","toClassName","expose","createHttpErrorConstructor","isHttpError","codes","CodeError","className","ClientError","createClientErrorConstructor","ServerError","createServerErrorConstructor","populateConstructorExports","_dbcs","DBCSCodec","UNASSIGNED","GB18030_CODE","SEQ_START","NODE_START","UNASSIGNED_NODE","codecOptions","encodingName","mappingTable","decodeTables","decodeTableSeq","_addDecodeChunk","defaultCharUnicode","encodeTable","encodeTableSeq","skipEncodeChars","encodeSkipVals","to","_fillEncodeTable","encodeAdd","uChar","_setEncodeChar","defCharSB","defaultCharSingleByte","gb18030","thirdByteNodeIdx","thirdByteNode","fourthByteNodeIdx","fourthByteNode","secondByteNodeIdx","secondByteNode","DBCSEncoder","codec","leadSurrogate","seqObj","DBCSDecoder","nodeIdx","prevBuf","alloc","findIdx","mid","encoder","decoder","_getDecodeTrieNode","addr","curAddr","writeTable","codeTrail","seq","charCode","_getEncodeBucket","uCode","high","dbcsCode","bucket","low","_setEncodeSequence","oldVal","mbCode","newBuf","nextChar","resCode","subtable","uChars","gbChars","prevBufOffset","seqStart","curSeq","ptr","uCodeLead","modules","InternalCodec","bomAware","InternalEncoderBase64","InternalEncoderCesu8","InternalDecoderCesu8","utf8","cesu8","unicode11utf8","ucs2","utf16le","_internal","InternalEncoder","InternalDecoder","StringDecoder","prevStr","acc","contBytes","accBytes","completeQuads","bufIdx","SBCSCodec","chars","asciiString","decodeBuf","encodeBuf","SBCSEncoder","SBCSDecoder","_sbcs","idx1","idx2","Utf16BECodec","Utf16BEEncoder","Utf16BEDecoder","overflowByte","Utf16Codec","Utf16Encoder","addBOM","getEncoder","Utf16Decoder","initialBytes","initialBytesLen","detectEncoding","defaultEncoding","asciiCharsLE","asciiCharsBE","_len","utf16be","buf2","utf16","getDecoder","trail","Utf7Codec","utf7","unicode11utf7","Utf7Encoder","Utf7Decoder","nonDirectChars","inBase64","base64Accum","base64Regex","base64Chars","plusChar","minusChar","andChar","Utf7IMAPCodec","Utf7IMAPEncoder","base64AccumIdx","Utf7IMAPDecoder","lastI","b64str","canBeDecoded","utf7imap","base64IMAPChars","PrependBOMWrapper","StripBOMWrapper","pass","PrependBOM","StripBOM","stripBOM","supportsNodeEncodingsExtension","extendNodeEncodings","nodeNativeEncodings","isNativeEncoding","SlowBufferToString","SlowBufferWrite","swap","remaining","BufferIsEncoding","isEncoding","BufferByteLength","BufferToString","BufferWrite","_offset","_length","_encoding","supportsStreams","ReadableSetEncoding","_readableState","collect","_collect","undoExtendNodeEncodings","bomHandling","skipDecodeWarning","getCodec","toEncoding","fromEncoding","_codecDataCache","_canonicalizeEncoding","codecDef","nodeVer","versions","nodeVerArr","IconvLiteEncoderStream","conv","decodeStrings","IconvLiteDecoderStream","encodeStream","decodeStream","_transform","_flush","ctor","superCtor","super_","TempCtor","expandIPv6","ipaddr","ipv4Part","ipv4Regexes","ipv6Part","ipv6Regexes","matchCIDR","zoneIndex","second","partSize","cidrBits","subnetMatch","rangeList","defaultName","rangeName","rangeSubnets","subnet","IPv4","octets","octet","toNormalizedString","other","cidrRange","ref","SpecialRanges","unspecified","broadcast","multicast","linkLocal","loopback","carrierGradeNat","reserved","toIPv4MappedAddress","IPv6","prefixLengthFromSubnetMask","cidr","zeros","zerotable","fourOctet","longValue","parseIntAuto","zoneId","toRFC5952String","bestMatchIndex","bestMatchLength","regex","toFixedLengthString","uniqueLocal","ipv4Mapped","rfc6145","rfc6052","teredo","isIPv4MappedAddress","toIPv4Address","transitional","colonCount","lastColon","replacement","replacementCount","isIPv4","error1","isValidFourPartDecimal","parseCIDR","maskLength","subnetMaskFromPrefixLength","filledOctetCount","broadcastAddressFromCIDR","ipInterfaceOctets","subnetMaskOctets","networkAddressFromCIDR","isStream","_write","_writableState","_read","duplex","transform","json_stringify","json_parse","suspectProtoRx","suspectConstructorRx","storeAsString","alwaysParseAsBig","useNativeBigInt","protoAction","constructorAction","at","ch","escapee","uffff","startAt","white","object","word","source","walk","holder","gap","indent","escapable","meta","mind","space","bufferEqual","MSG_INVALID_SECRET","MSG_INVALID_VERIFIER_KEY","MSG_INVALID_SIGNER_KEY","supportsKeyObjects","createPublicKey","checkIsPublicKey","typeError","asymmetricKeyType","export","checkIsPrivateKey","fromBase64","toBase64","base64url","template","errMsg","normalizeInput","thing","createHmacSigner","bits","checkIsSecretKey","hmac","createHmacVerifier","computedSig","createKeySigner","createKeyVerifier","publicKey","createPSSKeySigner","constants","RSA_PKCS1_PSS_PADDING","saltLength","RSA_PSS_SALTLEN_DIGEST","createPSSKeyVerifier","createECDSASigner","inner","createECDSAVerifer","createNoneSigner","createNoneVerifier","algorithm","signerFactories","hs","rs","ps","es","verifierFactories","SignStream","VerifyStream","ALGORITHMS","DataStream","jwa","jwsSign","secretOrKey","securedInput","encodedHeader","encodedPayload","jwsSecuredInput","secretStream","JWS_REGEX","headerFromJWS","jwsSig","isObject","safeJsonParse","signatureFromJWS","isValidJws","jwsVerify","securedInputFromJWS","jwsDecode","payloadFromJWS","valid","paramRegExp","textRegExp","tokenRegExp","qescRegExp","quoteRegExp","subtypeNameRegExp","typeNameRegExp","typeRegExp","subtype","splitType","dest","redefine","METHODS","extensions","preference","db","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","exts","Mime","DEBUG_MIME","_loading","fields","default_type","mimeType","w","msAbs","isPlural","preferredCharsets","preferredEncodings","preferredLanguages","preferredMediaTypes","available","mediaType","preferredCharset","preferredEncoding","preferredLanguage","preferredMediaType","simpleCharsetRegExp","parseCharset","specify","spec","provided","parseAcceptCharset","isQuality","compareSpecs","getFullCharset","priorities","accepted","getCharsetPriority","simpleEncodingRegExp","parseEncoding","hasIdentity","minQuality","parseAcceptEncoding","getFullEncoding","getEncodingPriority","simpleLanguageRegExp","parseLanguage","full","parseAcceptLanguage","getFullLanguage","getLanguagePriority","simpleMediaTypeRegExp","parseMediaType","kvps","quoteCount","splitParameters","splitKeyValuePair","every","splitMediaTypes","parseAccept","getFullType","getMediaTypePriority","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","weakMapHas","weakSetHas","weakRefDeref","deref","booleanValueOf","objectToString","functionToString","$match","$slice","$toUpperCase","$toLowerCase","$test","$join","$arrSlice","$floor","bigIntValueOf","gOPS","symToString","hasShammedSymbols","toStringTag","isEnumerable","gPO","addNumericSeparator","sepRegex","int","intStr","utilInspect","inspectCustom","custom","inspectSymbol","isSymbol","wrapQuotes","defaultStyle","quoteChar","quoteStyle","isRegExp","inspect_","maxStringLength","customInspect","numericSeparator","inspectString","bigIntStr","maxDepth","baseIndent","getIndent","noIndent","newOpts","nameOf","arrObjKeys","symString","markBoxed","HTMLElement","nodeName","getAttribute","attrs","attributes","childNodes","xs","singleLineValues","indentedJoin","isError","cause","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isString","global","ys","protoTag","stringTag","trailer","lowbyte","lineJoiner","isArr","symMap","attached","__onFinished","queue","createListener","eeMsg","eeSocket","finished","onFinish","onSocket","assignSocket","patchAssignSocket","attachFinishedListener","attachListener","asyncHooks","AsyncResource","runInAsyncScope","tryRequireAsyncHooks","complete","upgrade","Url","parseurl","_parsedUrl","fastparse","_raw","parsedUrl","_parsedOriginalUrl","pathtoRegexp","flags","extraOffset","keysOffset","MATCHING_GROUP_REGEXP","optional","slash","capture","star","escapeCount","alladdrs","forwarded","DIGIT_REGEXP","isip","parseip","IP_RANGES","linklocal","uniquelocal","subnets","subnetip","subnetkind","subnetisipv4","subnetrange","parseipNotation","compileRangeSubnets","trustNone","ip","ipconv","trusted","note","netmask","parseNetmask","percentTwenties","Format","RFC1738","RFC3986","formats","utils","allowDots","allowSparse","charsetSentinel","comma","ignoreQueryPrefix","interpretNumericEntities","parseArrays","plainObjects","strictNullHandling","$0","numberStr","parseArrayValue","parseKeys","givenKey","valuesParsed","segment","chain","leaf","cleanRoot","parseObject","normalizeParseOptions","tempObj","cleanStr","skipIndex","bracketEqualsPos","maybeMap","encodedVal","combine","parseValues","newObj","compact","getSideChannel","arrayPrefixGenerators","brackets","indices","repeat","pushToArray","valueOrArray","toISO","defaultFormat","addQueryPrefix","encodeValuesOnly","serializeDate","skipNulls","sentinel","generateArrayPrefix","commaRoundTrip","sideChannel","tmpSc","step","findFlag","keyValue","valuesArray","valuesJoined","objKeys","adjustedPrefix","keyPrefix","valueSideChannel","normalizeStringifyOptions","arrayFormat","joined","hexTable","arrayToObject","refs","compacted","compactQueue","strWithoutPlus","defaultEncoder","mapped","mergeTarget","targetItem","mapWithIndex","mapWithoutIndex","sortByRangeIndex","sortByRangeStart","ranges","ordered","combined","combineRanges","ICONV_ENCODING_MESSAGE_REGEXP","_decoder","received","invokeCallback","pause","halt","onAborted","onData","onEnd","copyProps","SafeBuffer","encodingOrOffset","allocUnsafeSlow","fill","safer","Safer","kStringMaxLength","MAX_LENGTH","kMaxLength","MAX_STRING_LENGTH","normalize","sep","BYTES_RANGE_REGEXP","MAX_MAXAGE","UP_PATH_REGEXP","SendStream","_acceptRanges","acceptRanges","_cacheControl","_etag","_dotfiles","dotfiles","_hidden","hidden","_extensions","normalizeList","_immutable","immutable","_index","_lastModified","_maxage","maxage","_root","contentRange","title","hasListeners","paths","createHttpError","doc","getHeaderNames","_headers","clearHeaders","hasTrailingSlash","isConditionalGET","isPreconditionFailure","unmodifiedSince","removeContentHeaderFields","notModified","headersAlreadySent","isCachable","onStatError","isFresh","isRangeFresh","ifRange","collapseLeadingSlashes","containsDotFile","sendIndex","isDirectory","modified","fallthrough","onDirectory","forwardError","hasDescriptors","functionLengthIsConfigurable","functionLengthIsWritable","callBound","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","$wm","$m","$o","channel","assert","objects","listGet","listHas","listSet","getStatusMessage","getStatusCode","createMessageToStatusCodeMap","createStatusCodeList","empty","hasFlag","forceColor","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","osRelease","release","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","FORCE_COLOR","punycode","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","findStatus","regexAstralSymbols","countSymbols","combiningMarksRegex","validateLabel","label","processing_option","toUnicode","codePointAt","processing","domain_name","useSTD3","hasError","processed","codePoint","fromCodePoint","mapChars","labels","validation","toASCII","verifyDnsLength","total","typer","tryNormalizeType","mimeMatch","hasbody","actual","actualParts","expectedParts","hasPipeDataListeners","FIELD_NAME_REGEXP","fld","conversions","createNumberConversion","bitLength","typeOpts","unsigned","lowerBound","upperBound","moduloVal","moduloBitLength","moduloBound","V","enforceRange","clamp","evenRound","treatNullAsEmptyString","S","U","usm","constructorArgs","parsedBase","basicURLParse","parsedURL","_url","serializeURL","serializeURLOrigin","scheme","stateOverride","cannotHaveAUsernamePasswordPort","setTheUsername","setThePassword","serializeHost","serializeInteger","cannotBeABaseURL","input","fragment","Impl","impl","implSymbol","setup","privateData","wrapper","wrapperSymbol","interface","Window","Worker","tr46","specialSchemes","ftp","gopher","ws","wss","failure","isASCIIDigit","isASCIIAlpha","isASCIIHex","isSingleDot","isWindowsDriveLetterString","isSpecialScheme","isSpecial","percentEncode","isC0ControlPercentEncode","extraPathPercentEncodeSet","isPathPercentEncode","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","utf8PercentEncode","parseIPv4Number","R","parseHost","isSpecialArg","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","swaps","parseIPv6","decoded","parseOpaqueHost","utf8PercentDecode","asciiDomain","ipv4Host","numbers","ipv4","counter","parseIPv4","serializeIPv4","maxIdx","maxLen","currStart","currLen","findLongestZeroSequence","ignore0","serializeIPv6","shortenPath","includesCredentials","URLStateMachine","encodingOverride","parseError","trimControlChars","trimTabAndNewline","atFlag","arrFlag","passwordTokenSeenFlag","isASCIIAlphanumeric","encodedCodePoints","fileOtherwiseCodePoints","cp1","cp2","excludeFragment","parseURL","tuple","serializeOrigin","integer","wrapperForImpl","implForWrapper","expressApp","createWindow","mainWindow","BrowserWindow","height","width","webPreferences","preload","loadURL","Menu","setApplicationMenu","checkGcloudAuthDefaultApp","HOME","revokeGcloudAuthDefaultApp","checkGcloudAuth","revokeGcloudAuth","sendLog","windows","getAllWindows","webContents","actionAuth","post","whenReady","ipcMain","lines","pid","_event","runGcloudCommand","getAuthenticatedHeaders","refresh_expires_in","token_key","run_gcloud_auth","query_params","auth_link","redirectUrl","require","BUFFER","TYPE","Blob","blobParts","element","isView","ab","relativeStart","relativeEnd","span","slicedBuffer","FetchError","systemError","errno","convert","defineProperties","INTERNALS","Body","_this","_ref","_ref$size","_ref$timeout","isURLSearchParams","isBlob","disturbed","consumeBody","_this4","accum","accumBytes","abort","resTimeout","getAll","bodyUsed","getBoundary","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","_this2","textConverted","_this3","convertBody","mixIn","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","MAP","Headers","rawHeaders","headerNames","headerName","pairs","thisArg","getHeaders","_pairs$i","createHeadersIterator","HeadersIteratorPrototype","_INTERNAL","exportNodeCompatibleHeaders","hostHeaderKey","INTERNALS$1","STATUS_CODES","Response","ok","redirected","INTERNALS$2","parse_url","format_url","urlStr","streamDestructionSupported","isRequest","Request","inputBody","signal","isAbortSignal","AbortError","URL$1","PassThrough$1","contentLengthValue","totalBytes","getNodeRequestOptions","destroyStream","aborted","abortAndFinalize","finalize","reqTimeout","removeEventListener","addEventListener","errorCallback","hadError","fixResponseChunkedTransferBadEnding","hasDataListener","createHeadersLenient","isRedirect","locationURL","requestOpts","destination","isDomainOrSubdomain","response_options","codings","zlibOptions","flush","finishFlush","writeToStream","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","definition","nmd","children","__dirname","__webpack_exports__"],"sourceRoot":""}